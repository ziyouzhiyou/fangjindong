(window.babelWebpackJSONP=window.babelWebpackJSONP||[]).push([["main"],[function(t,e,i){"use strict";var a,n,o=r(i(209)),s=r(i(213));function r(t){return t&&t.__esModule?t:{default:t}}var l=(0,r(i(253)).default)({imgIgnore:/\.png\s*$/i});a=[i(1),i(85),i(24),i(16),i(128),i(2)],void 0===(n=function(t,e,i,a,n,r){r.ptag.bindPtagEvent(),t.ajaxSettings&&(t.ajaxSettings.timeout=1e4);var d=t("#J_babelOpt").off(),c=d.find("#J_babelOptPage"),u=-1,p=d.data("datahubname"),h=window[p],f=h.activityData,m=d.find(".bab_opt_mod_topTab");t.extend(f,{hasTopnav:m.length>0,topnavHeight:m.length>0?m.height()-1:-1,pageUrl:i.getNoParamURL(),type:e.pageType}),t.extend(d,e,{dataHub:h,activityData:f,couponData:{}}),d.util=i,d.mod=a,d.render=i.render,d.loading=r.loading,d.completed=!1,d.extraData=null;var v=f.biimpr,g=[],_=h.paginationInfo,b=0,y=!1,w=null;function C(){var e=d.$window.height(),r=80;(0,o.default)("babel").then(function(e){return d.couponData=e||{},d.couponData.formatCouponData={platform:d.runtimeEnv.isWQUrl?"5":d.runtimeEnv.isWxApp?"9":"3",orgType:d.runtimeEnv.isYhdUrl?"6":"2",openId:e.openId,pageClickKey:e.pageClickKey,eid:e.eid,fp:e.fp,shshshfp:e.shshshfp,shshshfpa:e.shshshfpa,shshshfpb:e.shshshfpb,childActivityUrl:e.childActivityUrl},d.runtimeEnv.isYhdUrl&&t.extend(d.couponData.formatCouponData,{appId:"yhd-babel",platform:"3",childActiveName:d.dataHub.head&&d.dataHub.head.name,childActivityId:d.activityData.activityId,childActivityTime:"-1",applicantErp:"-1"}),(0,s.default)(d,f)}).then(function(t){setTimeout(function(){d.trigger("onMergeDataEvent",t)},0)}).catch(function(t){console.warn(t)}),function(){h();var e=!1;function i(t){a.reportEventdata({event_id:"Babel_Expo",event_param:t.join(","),event_level:""},f)}d.on("tap",".J_ping,.expo,.autoexpo",function(){e||(e=!0,d.trigger("report"),n.done())}),d.on("click",".jreport",function(){!function(t){var e=t.attr("report-eventid"),i=t.attr("report-eventparam"),n=t.attr("report-jsonparam"),o=t.attr("report-eventlevel"),s=t.attr("extension_id"),r={event_id:e,event_param:i,json_param:n,event_level:o};s&&(r.extension_id=s);a.reportEventdata(r,f)}(t(this)),d.trigger("report")}),d.on("tap","#m_common_header_goback",function(){d.trigger("report")}),d.on("report",function(){!function(t,e){for(var a=[].concat(t),n=0,o=Math.ceil(a.length/e);n<o;n++)i(a.splice(0,e))}(g,r),a.reportEventdata({event_id:"Babel_trafficVirtual",event_param:JSON.stringify(Object.assign({},l.report(),{aid:f.activityId,pageId:f.pageId,version:"1"})),event_level:""},f)})}(),l.start(),i.lazyLoad.init().check();var p=i.lazyLoad.settings.diff;function h(){var i,a,o=d.$window.scrollTop(),s=o+e,r=d.$window.width(),l=[];t("[report-eventid]").forEach(function(e){var n=t(e);if(n.is(":visible")&&!n.hasClass("vertical-slide-hidden")){var d="";if(i=n.offset(),a=i.top+i.height,(i.top>=o&&i.top<=s||a>=o&&a<=s)&&i.left<=r){if(!(d=n.data("es")))return;var c=n.parents("div[data-template]").data("template");if((n.hasClass("expo")||n.hasClass("autoexpo"))&&l.push({type:c,$node:n}),-1==g.indexOf(d)){var u=n.find("img"),p=u.length;p>0?(p>=1&&(u=u.eq(0)),"product_banner"==c||"shopping_guide"==c?u.hasClass("_fadein")&&g.push(d):void 0===u.data("src")?g.push(d):u.hasClass("fadein")&&g.push(d)):g.push(d)}}}}),n.push(l)}function m(){var e,i=d.find("#J_babelOptPage>.bab_opt_mod");d.$window.scrollTop();i.each(function(){var i=t(this);"shangpin_putong"==i.data("template")&&(e=i.data("moduleid"))&&d.trigger("onGetSkuExtraInfosEvent",e)})}d.$window.on("scroll touchmove",function(){0==p.bottom&&(p.bottom=e),u=setTimeout(function(){m()},300),clearTimeout(u)}),setInterval(function(){h()},250),window.webviewVisible=function(t){try{var e=void 0,i=void 0,a=window.localStorage;if(!(e=c.find("video")))return;if(0==t)i=[],e.forEach(function(t,e){t.paused||(i.push(e),t.pause())}),i.length&&a.setItem("videosPlayedIdx",JSON.stringify(i));else{if(!(i=a.getItem("videosPlayedIdx")||[]).length)return;i=JSON.parse(i),e.forEach(function(t,e){i.forEach(function(i){e===i&&t.play()})}),a.removeItem("videosPlayedIdx")}}catch(t){return}},window.JdAndroid&&function(){var t=void 0,e=void 0,i=void 0,a=void 0;d.on("touchstart touchend touchcancel",".jdui_slide_list, .hashorizontalslide",function(n){var o=void 0;switch(n.type){case"touchstart":o=n.originalEvent.targetTouches[0],t=o.clientX,e=o.clientY,window.JdAndroid&&window.JdAndroid.requestEvent(!0);break;case"touchend":o=n.changedTouches[0],i=Math.abs(o.clientX-t),a=Math.abs(o.clientY-e),console.log(i+","+a),a>=i&&window.JdAndroid.requestEvent(!1);break;case"touchcancel":window.JdAndroid.requestEvent(!1)}})}(),m(),d.$window.on("resize",i.throttle(function(){d.trigger("appResize")}),200)}function x(){if(!(b>=_.paginationParams.length-1||y)){var t=window.scrollTop||window.pageYOffset,e=window.innerHeight,i=document.body.scrollHeight,a=d.runtimeEnv.npRate;i-e-t<=(a=d.activityData.hasAnchorNav?a||6:a||1)*e&&S()}}function k(){w.hasClass("error")&&S()}function I(){setTimeout(function(){d.height()<window.innerHeight&&S().then(I)},800)}function T(t){var e=t._args,i=t.type;return S().then(function(){d.$window.trigger(i+"Success",e)}).fail(function(){d.$window.trigger(i+"Failed",e)})}function S(){if(y)return t.Deferred().reject();var e=_.paginationParams;if(b>=e.length-1)return t.Deferred().reject();y=!0;var n=document.createElement("a");n.href=location.href;var o=n.pathname.match(/\/(mall|wq|yhd|mini|yaojingcai|7fresh)\/(active|event)\/([0-9a-zA-z]{26,})\/index.html/i);if(o){n.pathname="/api/nextPage/"+o[1]+"/"+o[2]+"/"+o[3];var s={paginationParam:e[b+1],paginationFlrs:_.paginationFlrs,transParam:_.transParam};P("normal");var r=(new Date).getTime();return function(e,i){if(!e||!i||!XMLHttpRequest)return t.Deferred().reject();var a=t.Deferred(),n=new XMLHttpRequest;return n.open("POST",e,!0),n.setRequestHeader("Content-Type","application/json"),n.onreadystatechange=function(){4===n.readyState&&(200===n.status?a.resolve(JSON.parse(n.responseText)):a.reject(n.error))},n.send(JSON.stringify(i)),a}(n.href,s).then(function(n){n&&0===n.code&&0===n.subCode?(_.currentPageIndex=++b,n.floorHTML&&(function(e){var i=e.dslMap||void 0;if(i){var a=d.activityData.dslMap||{};a=t.extend({},a,i),d.activityData.dslMap=a}}(n),function(e,n){var o={};try{o=JSON.parse(e.dataHub)}catch(t){"1"==i.getQueryString("debug")&&console.log(t)}for(var s in o)o.hasOwnProperty(s)&&(h[s]=o[s]);var r=t(e.floorHTML);w.before(r),r.filter(".bab_opt_mod").each(function(e,a){!function(t){var e=t.data("floornum"),a=t.data("template"),n=h[e];if(a)try{d.modules(a)(e,t,n)}catch(t){"1"==i.getQueryString("debug")&&console.log(t)}}(t(a))});var l=d.activityData,c=l.activityId,u=l.pageId,p=(new Date).getTime()-n;a.reportEventdata({event_id:"Babel_PageFunctionVirtual",event_param:c+"_"+u+"_1_"+p+"_"+JSON.stringify(e).length},d.activityData)}(n,r)),b===e.length-1&&P("hide"),y=!1,n.floorHTML||S(),x.__scrollNotBind&&(x.__scrollNotBind=!1,window.addEventListener("scroll",x,!1))):j(n)}).fail(function(t){j(t)})}}function j(t){P("error"),y=!1,window.removeEventListener("scroll",x,!1),x.__scrollNotBind=!0,"1"==i.getQueryString("debug")&&console.log(t)}function P(t){if(!w.hasClass(t)){var e=["dropdown_loading"];t&&t.length>0&&e.push(t),w.find(".limit_tip").text({error:"加载失败，点击重新加载"}[t]),w.attr("class",e.join(" "))}}d.toast(),d.loadCardJs=function(e){var i=new Date,a=new Date(i.getFullYear()+"/"+(i.getMonth()+1)+"/"+i.getDate()).getTime()/1e3;_require(["//wq.360buyimg.com/js/version/201712/wq.mAddCart.201712052122.js?t="+a],function(){t.isFunction(e)&&e()})},n.init(d);var L={getProxyRequest:function(t){var i=new(window.URL||window.webkitURL)(location.href),n="";["h5static.m.jd.com","babelserv.m.jd.com"].includes(i.hostname)?n="//pro.m.jd.com":"beta-babelser.m.jd.com"===i.hostname?n="//beta-pro.m.jd.com":["h5static.yhd.com","pro.yhd.com"].includes(i.hostname)&&(n="//pro.yhd.com");var o=i.pathname.match(/\/(mall|wq|yhd|mini|yaojingcai)\/(active|event)\/([0-9a-zA-z]{26,})\/.*/i);if(!o)return{};var s=n+"/api/"+t+"/"+o[1]+"/"+o[2]+"/"+o[3];"beta"===a.getQueryString("env")&&(s+="&env=beta"),e.runtimeEnv.isPreview&&(s+="&source=preview"),s=s.replace(/[?|&]/,"?");var r=[].slice.call(arguments,1);return{url:s,data:a.getBabelUrlParam.apply(a,r)}},getGatewayRequest:function(t){var e=a.getBabelUrlDev2Release(t),i=[].slice.call(arguments,1);return{url:e,data:a.getBabelUrlParam.apply(a,i)}}};return d.Create=function(e){var i=function(){this.init()};return i.prototype=Object.create(e),t.extend(i.prototype,L),new i},d.init=function(e){!function(){d.loadCardJs(),v&&v.length>0&&a.reportEventdata({event_id:"Babel_PVFinish",event_param:v,event_level:""},f),i.tracking.globalSlideTracking(d.activityId),i.tracking.addTrackingBind();var t=window.jap;t&&t.autoLogPv||i.tracking.globalPvTracking(d.activityId),window._appNavHeight=0,d.runtimeEnv.isJdApp&&"1"==d.dataHub.head.nameType&&d.activityData.hasTopTabFlag}(),e(),C(),a.gotoTop(.98,f),d.isFixIphoneX&&d.css("padding-bottom","84px"),d.$window.on("touchend",function(){}),"localhost"==document.domain||/^10\./.test(document.domain)||"127.0.0.1"==document.domain||t("body").find("iframe.tapXView_content").length&&(document.domain="jd.com",window.tapXViewLoginCallback=function(t){var e=window.location.href;t&&("-1"!=e.indexOf("?")?e+="&istapxview=1":e+="?istapxview=1"),window.location.href="//passport.m.jd.com/user/login.action?returnurl="+encodeURIComponent(e)}),w=c.children(".dropdown_loading"),_&&_.paginationFlrs&&_.paginationParams?_.paginationParams.length<2?w.remove():(y=!1,P("normal"),w.on("click",k),window.addEventListener("scroll",x,!1),d.$window.on("nav_anchorToUnloadFloor hotzone_anchorToUnloadFloor floatlayer_anchorToUnloadFloor loadNextPage",T),I()):w.remove(),d.completed=!0},"2"==i.getQueryString("__debug")&&(d.es=g,window.app=d),d}.apply(e,a))||(t.exports=n)},,function(t,e,i){"use strict";var a,n;a=[i(42),i(254),i(255),i(127),i(256),i(257),i(258),i(259),i(260),i(261),i(262),i(263),i(264),i(265),i(54),i(129),i(266)],void 0===(n=function(t,e,i,a,n,o,s,r,l,d,c,u,p,h,f,m,v){return{loading:t,shopcart:e,slide:i,toast:a,halfslide:n,countdown:o,gesture:s,slidevertical:r,tab:l,toast_liuliang:d,appointremind:c,halfslide_mod:u,pageturn:p,layer_pop:h,webview:f,ptag:m,layerCardSlide:v}}.apply(e,a))||(t.exports=n)},,,function(t,e,i){"use strict";var a,n;a=[i(0),i(4),i(2),i(26)],void 0===(n=function(t,e,i,a){var n=t.util,o=t.mod,s={styleOpt:{subscript:["","add_double_tip","add_square_tip","add_flag_tip","tip_nobg add_square_tip","add_rank_tip"],pricehide:["price_hide","","","ious_price","","pd_plus_block"],slogan:{0:"",1:"add_op_1","1-1":"add_op_1","1-2":"add_op_2"}},getTabNumCls:function(t,e){return"pd_"+(t>(e||4)?"n":t)+"x"},getTabNewStyle:function(t){var e=null,i=!1;return"1"==t?e="tab_words_module":"2"==t&&(e="tab_pic_module",i=!0),{tabNewCls:e,tabPicStyle:i}},setPdInfinityLineStyle:function(t){var e=t.waresPagedList;if(e)for(var i=0,a=e.length;i<a;i++){var n=e[i];"1"==n.priceType?n.priceTypeClsLine=!0:"2"==n.priceType?n.priceTypeClsBig=!0:"3"==n.priceType&&(n.priceTypeClsBigLine=!0)}},tplSubscriptUrl:function(t,e,i){var a=t.waresListConfig,o=n.compile(i,t);if(t.subscriptLoad)e.find(".pd_commom").removeClass("tip_nobg");else if(a&&a.subscript&&"4"==a.subscript&&a.subscriptUrl&&a.subscriptUrl.length>0){var s=$('<img  data-src="'+a.subscriptUrl+'"/>');s.data("callback",{success:function(){t.subscriptLoad=!0,e.find("style").append(o),e.find(".pd_commom").removeClass("tip_nobg"),s=null}}),n.lazyLoad.loadImg(s)}},initTab:function(t){var e=t.node,i=t.tabClickCallbak;t.topPos=t.activityData.topnavHeight;var a=void 0!=t.elevel?t.elevel:void 0;t.tabClickCallbak=function(e,n){o.reportEventdata({event_id:t.takeByDOM?e.attr("event-id"):t.reportId,event_param:e.attr("data-srv"),event_level:a},t.activityData),i&&i(e,n)},$(".anchor_nav").length>0&&(t.tabFixed=!1,($(".dropdown_pd_module").length>0||$(".waterfall_pd_module").length>0)&&(t.tabFixed=!0)),e.tab(t)},renderTabOpzStyle:function(t,e,i,a){var n="nav"==t?this.getTabNewStyle(2):this.getTabNewStyle(i),o=e.find("div."+n.tabNewCls).find("ul"),s=o.find(">li"),r=$(window).width(),l=s.height()||50,d=[];if(!s.length)return o.css({opacity:1}),void(a&&a());if(n.tabPicStyle){var c=[];s.find("img").each(function(t,e){var i=$(e);c.push({w:i.attr("data-tabw"),h:i.attr("data-tabh"),d:i,s:i.attr("data-tabsrc"),p:i.parent(),l:i.parents("li"),f:!1})}),function(t,e){for(var i=t.slice(),a=i.length,n=0,o=0;o<a;o++)s(o);function s(t){var e=new Image;e.onload=function(){n++,i[t].f=!0,r()},e.onerror=function(){n++,i[t].f=!1,r()},e.src=i[t].s}function r(){n==a&&e&&e(i)}}(c,function(t){for(var e=0,i=t.length;e<i;e++){var n=t[e],d=n.d,c=n.p,u=n.l,p=1*(n.w/(n.h/l)).toFixed(2);n.f?d.attr("src",n.s):c.addClass("showTxt"),u.css({width:0===p?"auto":p,minWidth:"auto"}).attr("data-rwidth",p)}var h=0;s.each(function(t,e){h+=1*$(e).attr("data-rwidth")}),(h=1*h.toFixed(2))<r&&s.css({marginLeft:1*((r-h)/(s.length+1)).toFixed(2)});o.css({opacity:1}),a&&a(h<r)})}else{s.each(function(t,e){d.push({w:$(e).width(),d:$(e)})});for(var u=1*(r/d.length).toFixed(2),p=0,h=d.length;p<h;p++){d[p].d.css({minWidth:u})}o.css({opacity:1}),a&&a()}},tabTranslateFun:function(t,e,i){"none"==i?t.css({"-webkit-transition-duration":"0","transition-duration":"0"}):t.css({"-webkit-transition-duration":"600ms","transition-duration":"600ms"}),t.css({"transition-timing-function":"cubic-bezier(0.1, 0.57, 0.1, 1)",transform:"translate("+e+"px, 0px) translateZ(0px)","-webkit-transform":"translate("+e+"px, 0px) translateZ(0px)"}),t.data("pos",e)},initCart:function(t){var e=this,a=i.shopcart;t.activityData.cartLayer&&a.addCartLayer();var n=t.carCls?"."+t.carCls:".pd_buy_car";t.node.on("click",n,function(i){i.stopPropagation(),i.stopImmediatePropagation&&i.stopImmediatePropagation(),i.preventDefault();var a,n=$(this).parents("."+t.itemCls);if(t.clickCallback){var o=t.clickCallback(n);if(!o)return!o}a=(n=$(this).parents("."+t.itemCls)).attr("data-sku");var s=n.attr("report-eventparam");return t.jsonparam=n.attr("report-jsonparam"),e.addCartItem(a,s,t),!1})},initPriceNotice:function(t){var e=this;t.node.on("click",".pd_price_down",function(i){i.stopPropagation(),i.stopImmediatePropagation&&i.stopImmediatePropagation(),i.preventDefault();var a=$(this).parents("."+t.itemCls),n=a.attr("data-sku"),o=a.attr("report-eventparam");return t.jsonparam=a.attr("report-jsonparam"),e.priceDownNotice(n,o,t),!1})},initLooksimilar:function(e){var i=t.runtimeEnv,a=e.lookSimilarCls?"."+e.lookSimilarCls:".item-looksimilar",n=e.sameKindCls?"."+e.sameKindCls:".item-samekind",s=function(a){a.stopImmediatePropagation&&a.stopImmediatePropagation();var n=e.isLookSimilar?e.isLookSimilar:!!$(a.target).parent().hasClass("item-looksimilar"),s=$(a.target).parents("."+e.itemCls);if(s&&s.length>0){var r=s.data("sku"),l=s.attr("report-eventparam");if(!r)return;var d="";o.reportEventdata({event_id:n?e.eids.looksimilar:e.eids.sameKind,event_param:l,event_level:"3"},e.activityData),setTimeout(function(){d=n?i.isJdApp?t.util.stringFormat('openApp.jdMobile://virtual?params={"category":"jump","des":"lookSimilar","sku_id":"{0}"}',r):i.isWQUrl?"//wqs.jd.com/search/searchsimilar.shtml?sku="+r:"//home.m.jd.com/myjd/similar/list.action?skuId="+r:$(a.target).parent().data("url"),location.href=d},100)}return!1};e.node.on("click",a,s),e.node.on("click",n,s)},addCartItem:function(e,a,n){var o=i.shopcart,s=n.toastNode;o.addCartItem(e,function(){s.toast("show",{content:"恭喜您, 成功添加商品至购物车",conCls:"shop_cart",iconCls:"icon_right"}),t.mod.reportShopCartData({type:"add",skuId:e,event_id:n.eid,event_level:"5",event_param:a,json_param:n.jsonparam},n.activityData)},function(){s.toast("show",{content:"添加购物车失败",conCls:"shop_cart",iconCls:"icon_wrong"})},n.activityData.cartLayer)},priceDownNotice:function(e,i,a){var s=a.toastNode,r=o.getBabelUrlDev2Release("priceReduceNotify"),l=void 0;a.waresList.forEach(function(t){return l=t.groupInfoList.filter(function(t){return t.skuId==e})[0].ptPrice});var d={skuId:e,subChannel:t.runtimeEnv.isWQUrl?5:2,hopePrice:l},c=o.getBabelUrlParam(d);$.ajax({url:r,data:c,type:"POST",xhrFields:{withCredentials:!0},success:function(t){0==(t=JSON.parse(t)).code?s.toast("show",{content:t.msg,conCls:"notice",iconCls:"icon_right"}):3==t.code?n.goLogin():s.toast("show",{content:t.msg,conCls:"notice",iconCls:"icon_wrong"})}}),t.mod.reportEventdata({event_id:a.eid,event_param:i,event_level:""},a.activityData)},addNoneStyle:function(e,i){t.mod.addNoneStyle(e,i,"该类目下暂无商品哦~")},addLoadError:function(t,e){t.html('<div class="pd_ex_module load_fail_page"><div class="load_fail_wrap"><div class="load_fail_img"></div><span class="load_fail_text_one">网络请求失败</span><span class="load_fail_text_two">请检查您的网络重新加载吧</span><div class="reload_page_btn"><span>重新加载</span></div></div></div>'),t.find(".pd_ex_module").css("height",e)},getByteLen:function(t){return null===t?0:("string"!=typeof t&&(t+=""),t.replace(/[^\x00-\xff]/g,"01").length)},tplTipCls:function(t,e,i){var a=this,n=t;return n.tipCls=function(){var t=e.subscript,n=t,o=this.copyWriting.length,s=this.copyWritingDown.length;if(0!=o||"4"==i){if("1"==i){if(0==s)return;var r=a.getByteLen(this.copyWriting),l=a.getByteLen(this.copyWritingDown);(r>10||l>10)&&(n="")}else"2"==i||"4"==i?(n=t+"_2",1==o&&(n=t+"_3"),(2==o||3==o)&&(n=t+"_1"),"4"==i&&0==o&&(n=t+"_1")):"3"==i&&(n=t+"_1",1==o&&(n=t+"_3"),(2==o||3==o)&&(n=t+"_2"));return n}},n},tplSoldOutCls:function(t,e,i){e=e||"realStock",t.soldOutCls=function(){var t=[];return"N"==this[e]&&(t=["sold_out"]),0!==t.length||"N"!=this.areaStk||"2"!=i&&"1"!=i||(t=["area_sold_out"]),t.join(" ")}},loadExtraData:function(t){var e=t.data;if(!e.getSkuExtraSign&&e.skus){t.data.getSkuExtraSign=!0;var i=o.getBabelUrlDev2Release("getSkuExtraInfos"),a={skus:e.skus,l:t.lousStr};a=JSON.stringify(a);var n=o.getBabelUrlParam(a,!1,!0),s=this.timeoutTime;$.ajax({url:i,data:n,dataType:"jsonp",timeout:s,success:function(e){0==e.code?(t.instance.mergeExtraData(e.waresList),t.success&&t.success(e)):t.instance.loadModuleCallback&&t.instance.loadModuleCallback()},error:function(){t.instance.loadModuleCallback&&t.instance.loadModuleCallback()}})}},skuDataDealt:function(t,e,i){var a;if("get"==t){var n,o,s=[],r=e.waresList;a={};for(var l=0,d=r.length;l<d;l++)for(var c=0,u=(n=r[l].groupInfoList).length;c<u;c++)o=n[c],s.push(o.skuId),a[o.skuId]?a[o.skuId]=a[o.skuId].concat([l,c]):a[o.skuId]=[l,c];s.length>0&&(e.skus=s.join(","),e.skuDataMap=a)}else if("set"==t){var p,h;(a=e.skuDataMap)&&($.each(i,function(t,i){if(p=a[t])for(var n=0,o=p.length;n<o;n+=2)void 0===(h=e.waresList[p[n]].groupInfoList[p[n+1]])&&(h={}),$.extend(h,i),"N"==h.stock&&(e.waresList[p[n]].haveStock=!0)}),e.getSkuDataSign=!0,this.skuDataFilter(e))}else"reset"==t&&(e.getSkuDataSign=!0)},skuDataFilter:function(t){var e,i,a,n,o,s,r,l,d=t.waresList;l="7"==t.styleId&&"shangpin_putong"==t.template||"2"==t.styleId&&"product_banner"==t.template||"0"==t.styleId&&"product_banner"==t.template?3:2;for(var c=0,u=d.length;c<u;c++)if(e=(e=(i=d[c]).bakGroupInfoList)||i.groupInfoList,"1"==i.areaFilterType){n=[],o=[];for(var p=0,h=e.length;p<h;p++)"N"!=(a=e[p]).stock?n.push(a):o.push(a),p==h-1&&(n.length<l&&(r=l-n.length,s=o.splice(0,r),n=n.concat(s)),i.bakGroupInfoList=e,i.groupInfoList=n)}},getSkuData:function(t){return t.skus||this.skuDataDealt("get",t),t.skus},reRenderList:function(t){var e=t.instance,i=e.modData,a=e.curIndex,n=t.tabBody,o=i.waresList[a].groupInfoList,s=i.waresList[a];if(i.getSkuExtraSign)if(t.haveLous||s.haveStock){var r,l,d=n.html(),c=$(d),u=c.find(".pd_commom"),p=!1;$.each(o,function(i,a){r=u.eq(i),t.haveLous&&a.sInfo&&a.sInfo.stages&&a.sInfo.price&&"N"==a.hasPresale&&(p||(p=!0),r.addClass("have_ious"),l=e._generateIousStr(a),r.find(".ious_price").html(l))}),p&&n.addClass("ious_price"),n.html(""),n.append(c),e.loadModuleCallback&&e.loadModuleCallback(),$(window).scroll()}else e.loadModuleCallback&&e.loadModuleCallback()},hideFloor:function(t){t.addClass("hide")}},r=Object.create(s);return a("productBase",r),r}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o;!function(t){t&&t.__esModule}(i(3));n=[],void 0===(o="function"==typeof(a=function(){var t=navigator.userAgent.toLowerCase(),e=t.split(";"),i=-1!==t.indexOf("supportjdshwk")||1==window._is_jdsh_wkwebview,a=location.href.toLowerCase(),n=-1!=e[0].indexOf("jdapp")&&-1==t.indexOf("pap/ja2017_313800"),o=t.indexOf("pap/ja2017_313800")>-1||"yhdapp"==e[0],s=-1!=t.indexOf("jdjr-app"),r=G("wxAppName")||"toutiao",l=location.href.toLowerCase().indexOf("/wq/")>-1,d=/\/[a-z]*mini\//.test(location.href.toLowerCase()),c=/\/[a-z]*yaojingcai\//.test(location.href.toLowerCase()),u=G("shareFrom"),p=!!o||location.href.toLowerCase().indexOf("/yhd/")>-1,h=-1!==t.indexOf("7freshapp"),f=h||a.indexOf("/7fresh/")>-1,m=n?e[2]:null,v=V(m),g=function(){if(n&&e[5])return e[5].split("/")[1]}(),_="wifi"===g,b=n?-1!=e[1].indexOf("android"):-1!=t.indexOf("android"),y=n?-1!=e[1].indexOf("iphone"):-1!=t.indexOf("iphone"),w=n?-1!=e[1].indexOf("ipad"):-1!=t.indexOf("ipad"),C=b?"android":y?"iphone":w?"ipad":void 0,x=n&&-1!=e[1].indexOf("android"),k=n&&-1!=e[1].indexOf("iphone"),I=n&&-1!=e[1].indexOf("ipad"),T=x&&v("4.4.0"),S=k&&v("4.4.0"),j=x&&v("5.0.0"),P=k&&v("5.0.0"),L=k&&v("5.1.0"),D=x&&v("4.4.0")&&!v("5.0.0"),$=k&&v("4.4.0")&&!v("5.0.0"),B=I&&v("3.6.0"),A=/MicroMessenger/i.test(t)&&!n,E=/MQQBrowser/i.test(t)&&!n,N=/safari/i.test(t),O=function(){if(y&&N)try{var e=t.split(" "),i=e[5],a=i?i.replace(/_/g,""):"";a&&2===a.length&&(a+="0"),O=parseInt(a,10)}catch(t){console.log(t)}}(),F=function(){if(n&&e[3])try{var t=e[3].replace(/\./g,"");return t&&2===t.length&&(t+="0"),parseInt(t,10)}catch(t){console.log(t)}}(),M=O>=900,U=n&&void 0!==window.XView,W=function(){try{if(U){var t=window.version;if("string"==typeof t)return t;if("function"==typeof t)return t()}}catch(t){console.log(t)}}(),R=function(){var t;return(t=document.cookie.match(/(^|;|\s+)sid=([^;]*)(;|$)/i))?unescape(t[2].trim()):null}(),q=location.protocol,J="bestpay"==t.match(/Bestpay/i);r&&(r=r.toLowerCase());var H={YHD:"yhd",MINI_URL:"mini",M:"mall",wq:"wq",YJC:"yaojingcai",SEVENFRESH:"7fresh"},z=p||o?H.YHD:d?H.MINI_URL:l?H.wq:c?H.YJC:f?H.SEVENFRESH:H.M;function V(t){return t=t||"0.0.0",function(e){if((e=e||"0.0.0")===t)return!0;for(var i=t.split("."),a=e.split("."),n=Math.max(i.length,a.length),o=0;o<n;o++)if(i[o]=i[o]||0,a[o]=a[o]||0,parseInt(i[o])!=parseInt(a[o]))return parseInt(i[o])>parseInt(a[o]);return!0}}function G(t){var e=new RegExp("[\\?&]"+t+"=(\\w*)");return location.search.match(e)?location.search.match(e)[1]:null}var Q={CHANNEL_ENUM:H,userAgent:t,isWkWebview:i,isJdApp:n,isYhdApp:o,isYaoUrl:c,isJdFinanceApp:s,isWQUrl:l,isMiniUrl:d,isWxApp:"jd"===r,isWxkeplerApp:"kepler"===r,isBaiduMini:"baidu"===r,isttMini:"toutiao"===r,isSevenfreshMini:"7fresh"===r,wxAppName:r,isYhdUrl:p,is7FreshApp:h,is7FreshUrl:f,jdAppVersionWithDot:m,jdAppNetworkType:g,isJdAppOverWifi:_,isAndroid:b,isIphone:y,isIphoneX:function(){var t=window.devicePixelRatio||1,e=window.screen.width*t,i=window.screen.height*t;return y&&i/e>1.95},isMobilePhone:b||y,isIpad:w,isArcSeries:function(){var e=t,i=b&&/huawei|honor/gi.test(e);return!!i&&["VCE-AL00","VCE-TL00","VCE-L22","PCT-AL10","PCT-TL10","PCT-L29"].some(function(t){return e.includes(t.toLowerCase())})},system:C,isAndroidJdApp:x,isIphoneJdApp:k,isIpadJdApp:I,isAndroidJdAppGte440:T,isIphoneJdAppGte440:S,isAndroidJdAppGte500:j,isIphoneJdAppGte500:P,isIphoneJdAppGte510:L,isAndroidJdAppGte440Lt500:D,isIphoneJdAppGte440Lt500:$,isIpadJdAppGte360:B,isWeChat:A,isQQ:E,isSafari:N,iphoneOsVersionDigitsInSafari:O,osVersionDigitsInJdApp:F,isSafariAndIphoneOsVersionGte9:M,isXView:U,XViewVersion:W,sid:R,protocol:q,shareFrom:u,channelName:z,isPreview:!!location.pathname.match(/service\/preview/)&&"preview"===G("source"),versionGreaterOrEqualCreator:V,versionGreaterOrEqual:v,isBestPay:J,npRate:G("nprate"),webpDetect:function(t){var e,i;t&&(t&&void 0===t.feature&&(t.feature="lossy"),void 0!=window.iphone_webp_enabled?"function"==typeof t.onSupport&&t.onSupport():(i={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"}[t.feature],(e=new Image).onload=function(){i&&"function"==typeof t.onSupport&&e.width>0&&e.height>0&&t.onSupport()},e.onerror=function(){"function"==typeof t.onNotSupport&&t.onNotSupport()},e.src="data:image/webp;base64,"+i))}};return Q})?a.apply(e,n):a)||(t.exports=o)},,,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.freshChannel=e.yaoChannel=e.wqChannel=e.sevenfreshMiniChannel=e.miniChannel=e.yhdChanel=e.channel7FreshCondition=e.channelYaoCondition=e.channelWqCondition=e.channel7FreshMiniCondition=e.channelMiniCondition=e.channelYhdCondition=void 0;var a=function(t){return t&&t.__esModule?t:{default:t}}(i(6));var n=e.channelYhdCondition=function(){return!(!a.default.isYhdUrl&&!a.default.isYhdApp)},o=e.channelMiniCondition=function(){return!!a.default.isMiniUrl},s=e.channel7FreshMiniCondition=function(){return!!a.default.isMiniUrl&&a.default.isSevenfreshMini},r=e.channelWqCondition=function(){return!!a.default.isWQUrl},l=e.channelYaoCondition=function(){return!!a.default.isYaoUrl},d=e.channel7FreshCondition=function(){return!!a.default.is7FreshUrl},c=function(t){return function(e){return function(i,a){if(t())return e(i,function(){return a(i)});a(i)}}};e.yhdChanel=c(n),e.miniChannel=c(o),e.sevenfreshMiniChannel=c(s),e.wqChannel=c(r),e.yaoChannel=c(l),e.freshChannel=c(d);e.default=c},,,,function(t,e,i){"use strict";var a,n;a=[i(1),i(85),i(86),i(120),i(24)],void 0===(n=function(t,e,i,a,n){var o=n.tracking,s=e.runtimeEnv,r=a.appChannel,l=s.isIphoneX(),d={timeoutTime:1e4,hideFloor:function(t){t.addClass("hide")},getLbs:function(){var t=this;return t.labsInfo?t.labsInfo:(t.labsInfo={lng:t.getQueryString("lng")||"",lat:t.getQueryString("lat")||"",area:t.getQueryString("un_area")||""},t.labsInfo)},getQueryString:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),i=window.location.search.substr(1).match(e);return null!=i?i[2]:""},setFloorBgColor:function(t,e){t.css("background-color",e)},getBabelUrl:function(t){return e.protocol+"//api.m.jd.com/client.action?functionId="+t},getBabelUrlDev2Release:function(t){return("beta"==this.getQueryString("env")?"//beta-api.m.jd.com/client.action?functionId="+t+"&env=beta":this.getBabelUrl(t))+this.getExtraParam()},getExtraParam:function(){return s.isWxApp||s.isWQUrl?"&loginType=1&loginWQBiz=tttwxapp":""},mergeKeplerParam:function(e){if(!s.isJdApp){t.extend(e,{mtm_source:this.getQueryString("mtm_source")||"",mtm_subsource:this.getQueryString("mtm_subsource")||"",USER_FLAG_CHECK:n.cookie.get("USER_FLAG_CHECK")||"",sid:s.sid||""});var i=location.search.match(/mopenbp\w+=[^&]+/gi);i&&i.forEach(function(t){if((t=t.split("="))&&2==t.length){var i=t[0],a=t[1];e[i]=a||""}})}},getPosLngLat:function(){var t=n.cookie.get("wq_addr");return t&&(t=unescape(t).split("|"))[4]||""},getAddressId:function(){var t=navigator.userAgent.toLowerCase().match(/;*addressId\/(\w*)/i);if(t&&t[1])return t[1];var e=n.cookie.get("wq_addr");return e?(e=unescape(e).split("|"))[0]||"":this.getQueryString("addressid")||""},getUnArea:function(){var t=n.cookie.get("wq_addr");return t?(t=unescape(t).split("|"))[1]||"":this.getQueryString("un_area")||""},getPreviewTime:function(){var t=location.pathname.match(/service\/preview\/(mall|pc)\/.+\/([0-9a-zA-z]{26,})\/([0-9]{13,13})/);if(t){var e=new Date(parseInt(t[3]));return e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+e.getHours()+":"+e.getMinutes()+":"+e.getSeconds()}},getBabelUrlParam:function(t,e,i){var a=this.getScreen(),o="string"==typeof t?JSON.parse(t):JSON.parse(JSON.stringify(t));o.mitemAddrId=n.cookie.get("mitemAddrId")||"",o.geo={lng:this.getQueryString("lng")||"",lat:this.getQueryString("lat")||""},o.addressId=this.getAddressId();var r=this.getPosLngLat();if(o.posLng=r.split(",")[0]||"",o.posLat=r.split(",")[1]||"",o.previewTime=this.getPreviewTime(),o.previewTime&&(o.pageType="PagePreView"),o.focus=this.getQueryString("focus")||"",o.innerAnchor=this.getQueryString("innerAnchor")||"",s.isJdApp&&e){var l=s.jdAppVersionWithDot,d=s.system;"iphone"==d&&(d="apple"),o.siteClient=d,o.siteClientVersion=l}return i&&this.mergeKeplerParam(o),{body:t=JSON.stringify(o),screen:a,client:"wh5",clientVersion:"1.0.0",sid:s.sid,uuid:this.getUuid(),area:this.getUnArea()}},showToast:function(e){var i=e.time?e.time:3e3,a=void 0===e.iconCls?" ":e.iconCls,n=void 0===e.subContent?"":e.subContent;t("body").toast("show",{content:e.content,subContent:n,iconCls:a,showTime:i})},getScreen:function(){if(this.screen)return this.screen;var e=window.devicePixelRatio,i=t(window).width()*e;i=parseInt(i);var a=t(window).height()*e,n=i+"*"+(a=parseInt(a));return this.screen=n,this.screen},trackingParamMap:function(t,e,i){var a={};for(var n in t)a[n]=t[n];var o=a.event_level;a.event_level=void 0==o?i:o;var s,r=e.pageId,l=this.getQueryString("babelChannel");return""!=l&&(s=JSON.stringify({pageId:r,babelChannel:l})),a.page_param=r,s&&(a.par=s),a},addStyleCls:function(t,e){e&&e.length>0&&t.push(e)},addLoadError:function(t,e){t.html('<div class="pd_ex_module load_fail_page"><div class="load_fail_wrap"><div class="load_fail_img"></div><span class="load_fail_text_one">网络请求失败</span><span class="load_fail_text_two">请检查您的网络重新加载吧</span><div class="reload_page_btn"><span>重新加载</span></div></div></div>'),t.find(".pd_ex_module").css("height",e)},addNoneStyle:function(t,e,i){var a='<div class="pd_ex_module ex_page"><div class="pd_ex_wrap"><div class="pd_ex_img"></div><span class="pd_ex_text">'+i+"</span></div></div>";t.html(a),t.find(".pd_ex_module").css("height",e)},reportEventdata:function(t,e){var i=this.trackingParamMap(t,e,"3");o.globalSimulationClick(i)},reportShopCartData:function(t,e){var i=this.trackingParamMap(t,e,"5");o.globalCartTracking(i)},_checkJumpBlank:function(t){var e=!1;return t.des?"m"==t.des?t.params.url?0===t.params.url.length&&(e=!0):e=!0:"newgoodshop"==t.des?t.params.shopId?0===t.params.shopId.length&&(e=!0):e=!0:"skudetail"==t.des?t.params.skuId?0===t.params.skuId.length&&(e=!0):e=!0:"worthbuy_inventory_detail"==t.des?t.params.id||(e=!0):"album_detail"==t.des?t.params.id||(e=!0):"inventoryDetail"==t.des&&(t.params.id||(e=!0)):e=!0,e},getAppChannelDes:function(t,e){if(e&&"miaosha"==e)return e;var i=r[t];return 0==i.length&&(i=t),i},getAppChannelConfig:function(e,i){var a=r.paramConfig[e];return a&&t.extend(i,a),i},tplLinkData:function(t,e){var i=this,a=t;return a.url=a._url=function(){var e="",a="";if(this.jump){if(a=this.jump.openApp)return a;if(i._checkJumpBlank(this.jump))return e=n.getPageUrl("none");var o=this.jump.des;if("m"==o)e=n.parseUrl("1",this.jump.params.url);else if("newgoodshop"==o)e=n.parseUrl("3",this.jump.params.shopId,this.jump.params);else if("skudetail"==o)e=n.parseUrl("2",void 0,this.jump.params);else if("babel"==o)e=i.getBabelDesLink(this.jump.params.activityId),e=n.parseUrl("1",e);else if("productList"==o)"search"==this.jump.params.from?e=n.parseUrl("4",this.jump.params,this.jump.params):"category"==this.jump.params.from?e=n.parseUrl("4-1",void 0,this.jump.params):"promotion"==this.jump.params.from&&(e=self.parseUrl("4-2",void 0,this.jump.params));else if("faxian_article"==o)e=n.parseUrl("5",this.jump.params.id,this.jump.params);else if("jdreactcommon"==o)e=n.parseUrl("7",void 0,this.jump.params);else if("worthbuy_inventory_detail"==o)e=n.parseUrl("8",this.jump.params.id,this.jump.params);else if("album_detail"==o)e=n.parseUrl("9",this.jump.params.id,this.jump.params);else if("inventoryDetail"==o)e=n.parseUrl("10",this.jump.params.id,this.jump.params);else if("worthbuy_list"==o)e=n.parseUrl("11",this.jump.params.tabId);else if("album_list"==o)e=n.parseUrl("12",this.jump.params.tabId);else if("worthbuy_tag"==o)e=n.parseUrl("14",void 0,this.jump.params);else if("worthbuy_author"==o)e=n.parseUrl("15",void 0,this.jump.params);else if("couponCenter"==o)e=n.parseUrl("16",void 0,this.jump.params);else if("airList"==o)e=n.parseUrl("17",void 0,this.jump.params);else if("inventory_tag"==o)e=n.parseUrl("18",void 0,this.jump.params);else if("commune"==o)e=n.parseUrl("19",void 0,this.jump.params);else if("videoBuy"==o)e=n.parseUrl("20",this.jump.params.id);else if("mini_page"===o)e=n.parseUrl(o,void 0,this.jump);else if("Discovery"==o)e=n.parseUrl("21",this.jump.params.id);else if("brandinner"==o)"0"==this.jump.params.type?e=n.parseUrl("22-1",this.jump.params.brandId):"1"==this.jump.params.type&&(e=n.parseUrl("22-2",this.jump.params.brandId));else if("rankrecommend"==o)e=n.parseUrl("23",this.jump.params.contentId);else if("outfit_detail"==o)e=n.parseUrl("26",void 0,this.jump.params);else if("group_buying_sku_detail"==o)e=self.parseUrl("27",void 0,this.jump.params);else if("jddjxy"==o)e=self.parseUrl("28",void 0,this.jump.params);else if("mini"==o)e=self.parseUrl("mini",void 0,this.jump.params);else if("VideoImmersion"==o)e=self.parseUrl("29",void 0,this.jump.params);else if("mini_group_buying_miao_pin"===o)e=self.parseUrl(o,void 0,this.jump.params);else if(void 0!==r[o]){var l={params:i.getAppChannelConfig(o,this.jump.params),url:"https://h5.m.jd.com/active/download/download.html",des:i.getAppChannelDes(o)};"jipiao"==o&&(l.url="//airtickets.jd.com/"),e=n.parseUrl("6",l.des,l)}else e=n.getPageUrl("none")}else if(this.skuId){if(a=this.openApp)return a;e=n.parseUrl("2",void 0,{skuId:this.skuId,flt:t.flt,clickUrl:this.clickUrl||"",image:this.image,title:this.name,pps:this.pps||""})}else e=n.getPageUrl("none");return!s.isJdApp||-1!==e.toLowerCase().indexOf("openApp.jdMobile".toLowerCase())||"javascript:void(0)"==e&&"javascript:;"==e||s.isIpad?e:(0!==e.indexOf("http")&&(e="https:"+e),e='openApp.jdMobile://virtual?params={"category":"jump","des":"getCoupon","action":"to","url":"'+encodeURIComponent(e)+'","landPageId":"babelnode"}')},a.pageId=e.pageId,a.pageUrl=e.pageUrl,a.inkTarget="1"==e.useDiscovery?"_blank":"_self",a},horizontalScrollCheck:function(t){var e=-1;t.on("scroll",function(){clearTimeout(e),e=setTimeout(function(){n.lazyLoad.check()},200)})},initJump:function(){},toggleBgImg:function(t,e,i){var a={success:function(){setTimeout(function(){e.addClass(i)},300)},error:function(){setTimeout(function(){e.removeClass(i)},300)}};t.data({callback:a})},getImgHeight:function(e){var i=t(window).width(),a=0,n=0;"1"==e.innerBorder&&(a=2),"1"==e.externalBorder&&(n=20);var o=i-n,s=e.height-a,r=e.width-n;return s=parseInt(o/r*s)},gotoTop:function(e,i){var a=t(window).height()*e,n=15;t("#J_babelOptPage").append('<div class="general_purpose goto_top"></div>');var o=i.hasFoot,s=i.cartLayer,r=0;l&&(r=34),o?n=60+r:s?(n=60+r,t("#J_babCartLayer").css({bottom:110+r})):n=60+r,t(".goto_top").css({display:"none",bottom:n}),t(window).scroll(function(){t(window).scrollTop()>a?t(".goto_top").css({display:"block"}):setTimeout(function(){t(".goto_top").css({display:"none"})},100)}),t(".goto_top").on("click",function(){t(window).scrollTop(0)})},halfSideBindEvent:function(e){e.slideWrap.css({"overflow-y":"inherit","overflow-x":"hidden"}),e.slideWrap.find("ul").addClass("jdui_slide_list");var i=e.slideWrap.find(".jdui_slide_list li");if(i.length<2)return i.addClass(e.itemCurCls),i.css({width:e.itemCurWin}),void t("."+e.markCls).addClass("hide");e.slideWrap.halfslide(e);for(var a=e.slideWrap.find("li"),o=a.length,s=a.eq(o-1).find("img"),r=0;r<s.length;r++)n.lazyLoad.loadImg(s.eq(r));s=a.eq(o-3).find("img");for(var l=0;l<s.length;l++)n.lazyLoad.loadImg(s.eq(l))},getSearchKeywordUrl:function(t){return n.parseUrl("4,"+t)},scrollCenterPos:function(t){var e=t.curItem,i=t.scrollNode,a=i.scrollLeft(),n=t.mainSize,o=t.totalSize,s=e.position(),r=s.left+a,l=e.width();"vertical"==t.type&&(a=i.scrollTop(),r=s.top+a,l=e.height());var d=r-(n-l)/2;d=d>o?o:d,i.scrollLeft(d),"vertical"==t.type&&i.scrollTop(d)},loadVideo:function(t){c.loadVideo(t)},createMask:function(e){var i=t('<div class="babel_module_mask"></div>');return e.append(i),i},getUuid:function(){var t="";if(s.isJdApp){var e=window.navigator.userAgent.toLowerCase().split(";");t=e[4]?e[4]:""}else{t=(t=n.cookie.get("mba_muid"))||""}return t},computeNum:function(t){var e=t;if(t>9999){var i=Math.round(t/Math.pow(10,4)*10)/10;e=(t%Math.pow(10,4)<=0?i+".0":i)+"万"}return e},preLoadImg:function(t,e){if(t){Array.isArray(t)||(t=[t]);for(var i=[],a=0,n=0;n<t.length;n++)o(n)}function o(e){var n=new Image;n.onload=function(){a++,i[e]={status:!0,url:t[e]},s()},n.onerror=function(){a++,i[e]={status:!1,url:t[e]},s()},n.src=t[e]}function s(){a===t.length&&e&&e(i)}}},c={type:"",version:"",initObj:{},_checkNum:function(t){return t>=10?t:"0"+t},formateTime:function(t){var e=c,i={},a=parseInt(t/60/60);t-=60*a*60;var n=parseInt(t/60);t-=60*n;var o=parseInt(t%60);return i.minute=e._checkNum(n),i.second=e._checkNum(o),a>0?(i.hour=e._checkNum(a),i.hour+":"+i.minute+":"+i.second):i.minute+":"+i.second},_getVideoTime:function(t,e){var i,a=c,n=!0;t.on("loadedmetadata",function(){if("inf"!=(i=t[0].duration)&&"NAN"!=i&&i||(i=0,n=!1),i=a.formateTime(i),!n)return e.parent().addClass("mid_video"),void e.html("");e.html(i)})},_bindOpenEvent:function(t,e,i,a){var n=this,o=t.find(".overlay"),s=o.find(".close"),r=t.find("video"),l=r[0];i.forEach(function(t){t.on("click",function(t){switch(t.preventDefault(),e){case"iphone":a.pause(),setTimeout(function(){a.paused&&(a.play(),n._goFullScreen(a))},200);break;case"android":l.paused&&(n._goFullScreen(l),l.play());break;case"android_normal":l.paused&&l.play(),o.show(),n._onTouchMove(!0),r.addClass("play")}n.initObj.onPalyCb&&n.initObj.onPalyCb(a),t.stopPropagation()})}),a.addEventListener("webkitendfullscreen",function(){n._pauseVideo(a)},!1),a.addEventListener("webkitfullscreenchange",function(){n._pauseVideo(a)},!1),a.addEventListener("fullscreenchange",function(){n._pauseVideo(a)},!1),a.addEventListener("mozfullscreenchange",function(){n._pauseVideo(a)},!1),a.addEventListener("msfullscreenchange",function(){n._pauseVideo(a)},!1),r.on("click",function(t){t.preventDefault(),l.paused?l.play():l.pause(),t.stopPropagation()}),s.on("click",function(t){t.preventDefault(),n._onTouchMove(!1),l.pause(),r.removeClass("play"),o.hide(),t.stopPropagation()})},_pauseVideo:function(t){t.paused||t.pause()},_checkDevice:function(t,e,i){var a=c,n=[t.find(".video"),i];switch(window.navigator.userAgent.toLowerCase().indexOf("windows")>-1&&(s.system="android"),s.system){case"iphone":a.type="iphone",a._bindOpenEvent(t,"iphone",n,e[0]);break;case"android":a.type="android_normal";var o=t.find("img").attr("data-src");e.attr({poster:o}),"android"==a.type?a._androidHandleEvent(t,e,n):a._androidNormal(t,e,n)}t.addClass(a.type)},_goFullScreen:function(t){t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen?t.msRequestFullscreen():t.webkitEnterFullScreen&&t.webkitEnterFullScreen()},_onTouchMove:function(e){e?t(document).on("touchmove.overlay",this._onAlertTouchHandler):t(document).unbind("touchmove.overlay",this._onAlertTouchHandler)},_onAlertTouchHandler:function(t){t.preventDefault()},_cancelFullScrren:function(t){(t=t||document).exitFullScreen?t.exitFullScreen():t.mozExitFullScreen?t.mozExitFullScreen():t.webkitExitFullScreen?t.webkitExitFullScreen():t.msExitFullScreen&&t.msExitFullScreen()},_androidNormal:function(t,e,i){var a=c,n=e[0];a._bindOpenEvent(t,"android_normal",i,n)},_androidHandleEvent:function(t,e,i){var a=c,n=e[0];a._bindOpenEvent(t,"android",i,n),e.on("webkitfullscreenchange mozfullscreenchange fullscreenchange",function(t){t.preventDefault(),"FullscreenOn"==(document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen?"FullscreenOn":"FullscreenOff")?n.play():n.pause(),t.stopPropagation()})},loadVideo:function(t){var e=c;this.initObj=t;var i=t.videoWrap,a=i.find("video"),n=i.find("."+t.imgWrap+" img");"iphone"==this.type&&a.attr({height:"100%"}),e._checkDevice(i,a,n),n.on("click",function(){d.reportEventdata(t.eventData,t.activityData)}),i.find(".video").on("click",function(){d.reportEventdata(t.eventData,t.activityData)})}};return d}.apply(e,a))||(t.exports=n)},,,,,,,,function(t,e,i){"use strict";var a,n,o=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}(i(217));a=[i(1),i(25),i(224),i(235),i(126),i(240),i(241),i(242),i(122),i(243),i(244),i(245),i(246)],void 0===(n=function(t,e,i,a,n,s,r,l,d,c,u,p,h){var f=Array.prototype.slice,m=/\{(\d+?)\}/g;var v={lazyLoad:i,parseUrl:a,request:n,tracking:s,floorParseUrl:function(t){t.find(".J_ping").each(function(t,e){var i=e.getAttribute("href");e.setAttribute("href",a(i))})},share:r,wxShare:l,cookie:d,getData:function(e){var i=window[e],a=null;return-1==location.href.indexOf("/preview/")&&t("#"+e).remove(),i?a=JSON.parse(i):a},compile:c,canvas2d:u,render:p,md5:h,stringFormat:function(t){var e;return t instanceof Array&&(t=t.join("")),e=arguments[1]instanceof Array?arguments[1]:f.call(arguments,1),t.replace(m,function(){return e[arguments[1]]})},iphoneXUtil:o};return t.extend(v,e),v}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=r(i(121)),s=r(i(122));function r(t){return t&&t.__esModule?t:{default:t}}a=[i(1),i(6)],void 0===(n=function(t,e){var i=Array.prototype.slice,a=/\{(\d+?)\}/g,n=["innerLink","pps","tttdegradeurl","tttdegradepath"];return{throttle:function(t,e,i){var a,n,o,s=null,r=0;i||(i={});var l=function(){r=!1===i.leading?0:(new Date).getTime(),s=null,o=t.apply(a,n),s||(a=n=null)};return function(){var d=(new Date).getTime();r||!1!==i.leading||(r=d);var c=e-(d-r);return a=this,n=arguments,c<=0||c>e?(clearTimeout(s),s=null,r=d,o=t.apply(a,n),s||(a=n=null)):s||!1===i.trailing||(s=setTimeout(l,c)),o}},passParam:function(t){t=t.replace(/(\w*\:)\/\//,e.protocol+"//");var i=location.href.match(/\?(.+)$/);if(!i)return t;if(-1==t.indexOf("?"))return t+function(t){var e=void 0;return n.forEach(function(i){t.indexOf(i)>-1&&(e=new RegExp("&?"+i+"=([^&])+"),t=t.replace(e,"").replace(/^&/,""))}),t}(i[0]);var a=function(t){var e={};return i[1].split("&").forEach(function(t){if(-1!=t.indexOf("=")){var i=t=t.replace(/=/,",").split(","),a=(0,o.default)(i,2),s=a[0],r=a[1];n.indexOf(s)>-1||(e[s]=r)}}),e}();for(var s in a){new RegExp("[?|&]"+s+"=","i").test(t)||(t=t+"&"+s+"="+a[s])}return t},stringFormat:function(t){var e;return t instanceof Array&&(t=t.join("")),e=arguments[1]instanceof Array?arguments[1]:i.call(arguments,1),t.replace(a,function(){return e[arguments[1]]})},jumpLink:function(e,i){var a=t("#J_jumpLink");0===a.length&&((a=t("<a>")).attr("id","J_jumpLink").css("display","none"),t("body").append(a));var n=i||"_self";a.attr({href:e,target:n}),a.click()},getHeaderIphoneUrl:function(t){return"openapp.jdmobile://communication?params="+JSON.stringify(t)},getNoParamURL:function(){var t=window.location.href,e=t.match(/.*\.html/);return e=e?e[0]:t},goLogin:function(t){t=encodeURIComponent(t||window.location.href);var i=e.channelName,a=e.CHANNEL_ENUM,n="//m.jd.com";if(i==a.MINI_URL){if(e.isWxkeplerApp){var o="jshopH5"===this.getQueryString("pageName")?"/pages/jshopH5/jshopH5":"/pages/activityH5/activityH5",s="//passport.m.jd.com/user/login.action?returnurl="+t;return void(window.wxApp&&window.wxApp.jump(s,{type:"login",value:encodeURIComponent(o+"?redirectUrl="+t)}))}if(e.isBaiduMini||e.isttMini){var r="javascript:swan.webView.navigateTo({url:'/pages/login/main/main?pageType=h5&returnPage="+t+"'})";return void(window.wxApp&&window.wxApp.jump(r,{type:"login",value:encodeURIComponent("/pages/activityH5/activityH5?redirectUrl="+t)}))}if(e.isSevenfreshMini)return void(window.wxApp&&window.wxApp.jump(r,{type:"login"}));n="https://wq.jd.com/pinbind/pintokenredirect?biz=tttwxapp&url="+t}else if(i==a.YHD)n="//passport.yhd.com/m/login_input.do?returnUrl="+t;else if(i==a.wq)n="https://wq.jd.com/pinbind/pintokenredirect?biz=tttwxapp&url="+t;else if(i==a.YJC)n="openapp.jdmedicine://yiyaoapp.jd.com/gotoYjcLogin";else{if(i==a.SEVENFRESH)return void(window.SevenFresh&&window.SevenFresh.api.goToLogin());n="//passport.m.jd.com/user/login.action?returnurl="+t}window.location.href=n},getPageUrl:function(t,i){var a;switch(t){case"goodsDetail":a=e.isJdApp?'openApp.jdMobile://virtual?params={"category":"jump","des":"productDetail","skuId":"'+i.sku+'","sourceType":"h5","sourceValue":"double11_find"}':"https://item.m.jd.com/ware/view.action?wareId="+i.sku+"&sid="+this.runtimeEnv.sid;break;case"newgoodshop":a=e.isJdApp?'openApp.jdMobile://virtual?params={"category":"jump","des":"jshopMain","shopId":"'+i.shopId+'","sourceType":"h5" ,"sourceValue":"double11_find"}':"https://ok.jd.com/m/index-"+i.shopId+".htm?sid="+this.runtimeEnv.sid;break;case"none":a="javascript:void(0)";break;default:console.warn("page type not find:"+t),a="javascript:void(0)"}return a},getByteLen:function(t){return null==t?0:("string"!=typeof t&&(t+=""),t.replace(/[^\x00-\xff]/g,"01").length)},checkUrlProtocol:function(e){var i=location.protocol,a=t.trim(e),n=a.match(/^[/]{2}/g);return null==n||0==n.length?a:a=i+a},getQueryString:function(t){var e=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i"),i=window.location.search.substr(1).match(e);return null!=i?i[2]:""},getParam:function(t,e,i){i=i||"";var a=new RegExp(e+"=(\\w*)"),n=t.match(a);return n=n?n[1]:i},createStyleElement:function(t){if(t){var e=document.createElement("style"),i=document.getElementsByTagName("head")[0];e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t)),e.type="text/css",i.appendChild(e)}},hashTime33:function(t){for(var e=0,i=t.length,a=5381;e<i;++e)a+=(a<<5)+t.charAt(e).charCodeAt();return 2147483647&a},getTokenGtk:function(){var t=s.default.get("wq_skey");return null==t?"":this.hashTime33(t)},widthSchema:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https";return 0===t.indexOf("//")?e+":"+t:t}}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(269)],void 0===(n=function(t){return t}.apply(e,a))||(t.exports=n)},,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s(i(248)),n=s(i(16)),o=i(6);function s(t){return t&&t.__esModule?t:{default:t}}var r={functionIds:{getBabelProductPaged:n.default.getBabelUrlDev2Release(o.isPreview?"getPreviewProductPaged":"getBabelProductPaged"),queryWindowCoupon:"queryWindowCoupon",channelExtraData:o.isPreview?"getPreviewChannelExtraData":"getBabelChannelExtraData"},outerJumpUrl:{panoramaHotspot:"//h5.m.jd.com/dev/2xtoSqbHts1EpeDqSiZweCcS5JDX/index.html"+(o.isPreview?"?isPreview=1&":"?")},categoryReqParam:{reqSrc:void 0}};(0,a.default)("config",r),e.default=r},,,,,,,,,,,function(t,e,i){"use strict";var a,n;a=[i(1)],void 0===(n=function(t){var e={node:null,init:function(){this.node=t(".bab_opt_loading")},checkLoading:function(){},show:function(){this.node.removeClass("hide")},hide:function(){this.node.addClass("hide")}};return e.init(),e}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0)],void 0===(n=function(t){var e=t.util,i=t.mod,a=t.width;return function(n,o,s){return t.Create({$el:o,type:"",jumpTimeout:null,_isinView:!1,init:function(){var t=this.$el.data("template");this.type=t.indexOf("_")>-1?t.split("_")[1]:t,this._main()},_checkInView:function(){return this._isinView||(this._isinView=e.lazyLoad.isInViewPort(this.$el)),this._isinView},_main:function(){var t=this.type;if("lunbo"==t){var e=this.$el.data("styleid");"1"==e?this._lunboAdvertsliding():"2"==e||"3"==e?this._lunboCardSliding(e):this._lunbo(),this._addExt()}else"tonglan"==t?this._tonglan():"zuhe"==t?this._zuhe():"beishu"==t?this._beishu():"advertsliding"==t&&this._advertsliding();s&&s.adsList&&{notifyContent:{set:{sCon:"设置成功，将在活动开始前3分钟提醒您！",fCon:"活动已经开始啦，火速带您前往！"},cancle:{sCon:"已为您取消提醒！",fCon:"已为您取消提醒！"}},buttonStatus:{},initNotify:function(t,e){var i=this,a={},n=e.adsList,o=e.notify;$("body").toast(),t.forEach(function(t,s){if(!n[s].push_time||!n[s].push_msg||!n[s].push_url)return!1;a=$.extend(a,{notifyColor:o,remindParams:{pushTime:n[s].push_time,pushMsg:n[s].push_msg,pushUrl:n[s].push_url},appointRemindId:e.floorNum+""+n[s].advertId,appointRemindConfig:e.floorNum+"_"+o.cancelBtColor+"_"+o.notifyBtColor+"_"+n[s].advertId,pos:{x:o.x,y:o.y}}),i.buttonStatus=$.extend(i.buttonStatus,a),$(t).appointremind(i.buttonStatus)}),t.on("click",".jdui_appoint_remind",function(t){var a=$(this).parent(),o=a.attr("href")||"",s=a.index()||0,r="set"==i._checkSetRemind($(this));i._checkCurrentTime(n[s]),i._checkSetRemind($(this))?(t.preventDefault(),i.setRemind(a,e,s,r),i.outOfDate&&r&&setTimeout(function(){i._jumpUrl(o)},3e3),t.stopPropagation()):i._jumpUrl(o)})},_jumpUrl:function(t){location.href=t||"javascript:void(0);"},_checkSetRemind:function(t){return!(!t.hasClass("jdui_pre_remind")&&!t.hasClass("jdui_reminded"))&&(t.hasClass("jdui_pre_remind")?"set":t.hasClass("jdui_reminded")?"cancle":void 0)},_checkCurrentTime:function(t){var e=(new Date).getTime();this.outOfDate=!(e<Number(t.push_time))},_setSettings:function(t,e){var i={};switch(e){case 0:i={text:"去看看",conCls:"jdui_go_check",isEmptyRectangle:!1,basicColor:t.lookBtColor,callback:null};break;case 1:default:i={text:"提醒我",conCls:"jdui_pre_remind",isEmptyRectangle:!1,basicColor:t.notifyBtColor,callback:null};break;case 2:i={text:"取消提醒",conCls:"jdui_reminded",isEmptyRectangle:!0,basicColor:t.cancelBtColor,callback:null};break;case 3:i={text:"敬请期待",conCls:"jdui_waitfor",isEmptyRectangle:!1,basicColor:"#3370F1",callback:null}}return i},setRemind:function(t,e,i,a){var n=this,o=null,s=a?{action:"set",num:2}:{action:"cancle",num:1},r=e.notify,l=e.adsList;n.outOfDate?(o=function(){$("body").toast("show",{content:n.notifyContent[s.action].fCon})},n.buttonStatus=$.extend(n.buttonStatus,n._setSettings(r,0))):(o=function(){$("body").toast("show",{content:n.notifyContent[s.action].sCon})},n.buttonStatus=$.extend(n.buttonStatus,n._setSettings(r,s.num))),n.buttonStatus=$.extend(n.buttonStatus,{pos:{x:r.x,y:r.y},remindParams:{pushTime:l[i].push_time,pushUrl:l[i].push_url,pushMsg:l[i].push_msg,type:"BABEL"},appointRemindId:e.floorNum+""+l[i].advertId,appointRemindConfig:e.floorNum+"_"+r.cancelBtColor+"_"+r.notifyBtColor+"_"+l[i].advertId,callback:o,setReminderFlag:a}),t.appointremind("setRemind",n.buttonStatus,a)}}.initNotify(this.$el.find("a.wrap"),s)},_lunbo:function(){var t=this,i=this.$el;i.find(".point li").eq(0).addClass("cur");var a=i.find(".jdui_slide_list li");a.removeClass("hide"),a.length<2?i.find(".point").hide():i.find(".jdui_slide").slide({selectCls:"cur",autoTime:4e3,changeSlide:function(a){if(t._checkInView()){var n=i.find(".jdui_slide_list li");s=n.eq(a+1).find("img"),e.lazyLoad.loadImg(s);var o=a+1,s=n.eq(o+1).find("img");e.lazyLoad.loadImg(s);var r=a-1;s=n.eq(r+1).find("img"),e.lazyLoad.loadImg(s)}}})},_tonglan:function(){var a=this.$el.find(".img_wrap");this._currentVideoTonglan();var n=this.$el.data().floornum,o=a.map(function(t){var e=$(this).data("size").split(","),a=i.getImgHeight({innerBorder:e[0],externalBorder:e[1],width:e[2],height:e[3]});return".bab_opt_mod_"+n+" .wrap >.img_wrap:nth-child("+(t+1)+") {height: "+a+"px}"});if(e.createStyleElement([].join.call(o,"")),0!==this.$el.find(".play_time").length){var s={videoWrap:this.$el,imgWrap:"promo_banner",eventData:{event_id:"Babel_BannerVideo",event_param:this.$el.find("#pu").data("srv")||this.$el.find("#video").data("srv")},activityData:t.activityData};i.loadVideo(s)}},_currentVideoTonglan:function(){var e=this.$el.find("#video");0!==e.length&&(e.on("play",function(){i.reportEventdata({event_id:"Babel_BannerVideoStartVirtual",event_param:e.data("srv"),event_level:""},t.activityData)}),e.on("ended",function(){i.reportEventdata({event_id:"Babel_BannerVideoVirtual",event_param:e.data("srv"),event_level:""},t.activityData)}))},_zuhe:function(){},_beishu:function(){if(s.beishu_slide){var i=this.$el,n=i.find(".silde_style_con").find(".silde_style_block"),o=n.find(".silde_style_list"),r=o.find("li"),l=i.find(".silde_style_point>li"),d=0,c=l.length;if(0==c)return;({init:function(){l.eq(d).addClass("cur"),r.css({width:a,paddingTop:.064*a,paddingBottom:.096*a}),n.css({width:a,overflow:"hidden"}),o.css({width:a*c}),this.bind(),this.load()},bind:function(){var t={},e=!1,i=null,n=!1,s=0,r=this;o.on("touchstart",function(a){var s=(new Date).getTime(),r=s-(i=i||s+1);if(r>0&&r<720)return n=!0,void event.preventDefault();i=s,n=!1;var l=o.data("pos");l=l?-l:0;var d=a.touches[0];t={x:d.pageX,y:d.pageY,posx:d.pageX+l,posy:d.pageY+l},e=!1}),o.on("touchmove",function(i){if(!n){var a=i.touches[0];e=!0;var o={x:a.pageX-t.posx,y:a.pageY-t.posy,sx:a.pageX-t.x,sy:a.pageY-t.y};Math.abs(o.y)-Math.abs(o.sx)>0||i.preventDefault(),s=Math.abs(o.sx)>Math.abs(o.sy)?o.sx:0}}),o.on("touchend",function(){e&&!n&&0!=s&&(s>0?d--:s<0&&d++,d<0?d=0:d>c-1&&(d=c-1),r.load(),l.removeClass("cur").eq(d).addClass("cur"),r.move(-d*a),s=0)})},move:function(t,e){"none"==e?o.css({"-webkit-transition-duration":"0ms","transition-duration":"0ms"}):o.css({"-webkit-transition-duration":"700ms","transition-duration":"700ms"}),o.css({"transition-timing-function":"cubic-bezier(0.1, 0.57, 0.1, 1)",transform:"translate("+t+"px,0px) translateZ(0px)","-webkit-transform":"translate("+t+"px,0px) translateZ(0px)"}),o.data("pos",t)},load:function(){var t=r.eq(d).find("img[data-src]");if(t.length)for(var i=0,a=t.length;i<a;i++)e.lazyLoad.loadImg(t.eq(i))}}).init()}else{var u=this.$el.data(),p=u.styleid,h=u.floornum,f=this.$el.find(".img_wrap_puzzle").eq(0).data(),m=f.xpadding,v=f.ypadding,g=f.dw,_=f.dh,b="0"==p?2:"1"==p?3:4,y=(t.width-(b-1)*v-2*m)/b,w="\n                        .bab_opt_mod_"+h+" .img_wrap_puzzle, .bab_opt_mod_"+h+" .img_wrap_puzzle .img_wrap_puzzle_bg {\n                            height: "+t.width*(_/g)+"px !important;\n                        }";("number"==typeof m&&m>=0||"number"==typeof v&&v>=0)&&(w+=".bab_opt_mod_"+h+" .wrap{\n                            width: "+y+"px !important;}\n                        .bab_opt_mod_"+h+" .wrap:nth-child("+b+"n) {\n                            margin-right: 0 !important;\n                        }"),e.createStyleElement(w)}},_advertsliding:function(){var t=this,n=this.$el.data("height"),o=this.$el.data("floortoppadding"),s=$(window).width();function r(t,e){if(1*t&&1*e)return e/3/375*t}this.$el.css({height:r(s,n)}),this.$el.find(".promo_module.promo_slide_three .promo_slide_three_wrap").css({"margin-top":r(s,o)});var l,d,c,u,p,h={speed:300,slideWrap:"",listCls:"jdui_slide_list",itemWin:"",itemCurWin:"",itemCurCls:"cur",markCls:"",touchMove:!1,itemLeftWin:"",itemRightWin:"",itemLeftCls:"left",itemRightCls:"right",isLoop:!1,showMore:!1,isFourthStyle:!1,reportEventdata:function(){i.reportEventdata({event_id:"Babel_SlideMore",event_param:b,event_level:"3"},{page_id:y})},changeSlide:function(i){!function(i,a){for(var n=t.$el.find(".jdui_slide_list li"),o=i+1,s=n.eq(o+1).find("img"),r=0;r<s.length;r++)e.lazyLoad.loadImg(s.eq(r));var l=i-1;s=n.eq(l+1).find("img");for(var d=0;d<s.length;d++)e.lazyLoad.loadImg(s.eq(d));var c=i;s=n.eq(c+1).find("img");for(var u=0;u<s.length;u++)e.lazyLoad.loadImg(s.eq(u));t.$el.find("."+a+" span").eq(0).html(i+1)}(i,this.markCls)}},f=this.$el.find(".promo_module").data("conf");if(3!=f){if(1==f)d=.7397,c=.8493,p="promo_slide_one_mark",l=this.$el.find(".high .promo_slide_one_wrap");else if(2==f)d=.6164,c=.7123,p="promo_slide_one_mark",l=this.$el.find(".low .promo_slide_one_wrap");else if(4==f){var m,v,g,_,b,y,w=!0;u=1==this.$el.find(".promo_module").data("showmore"),_=this.$el.find(".promo_slide_three_showmore").data("url"),b=this.$el.find(".promo_slide_three_showmore a").attr("report-eventparam"),y=this.$el.find(".promo_slide_three_showmore a").attr("report-pageparam"),m=!u,v=.9111*(c=.72),g=.9289*c,p="promo_slide_three_mark",l=this.$el.find(".promo_slide_three_wrap")}4==f?(h.itemLeftWin=Math.round(v*(a-10)),h.itemRightWin=Math.round(g*(a-10)),h.showMore=u,h.isFourthStyle=w,h.showMoreURL=_):h.itemWin=Math.round(d*(a-10)),h.markCls=p,h.itemCurWin=Math.round(c*(a-10)),h.slideWrap=l,h.isLoop=m,i.halfSideBindEvent(h)}},_lunboAdvertsliding:function(){var t=this,i={speed:300,slideWrap:"",listCls:"jdui_slide_list",itemWin:"",itemCurWin:"",itemCurCls:"cur",markCls:"promo_slide_one_mark",touchMove:!1,isTabIndex:0,listClsAni:"",transScale:.5,resetBufferTime:300,changeSlide:function(e){t._checkInView()}},n=this.$el.find(".promo_carousel3"),o=.115*a;n.css({"overflow-y":"inherit","overflow-x":"hidden"}),i.itemWin=Math.round(.4333*(a-o)),i.itemCurWin=Math.round(.4333*(a-o)),i.slideWrap=n,i.styleOffset=o;var s=n.find(".jdui_slide_list li"),r=s.css("margin-top");if(s.length<2)return s.addClass(i.itemCurCls),s.css({width:i.itemCurWin}),void $("."+i.markCls).addClass("hide");-1!=r.indexOf("%")&&(r=parseInt(r)/100*a),s.css({marginRight:o,marginTop:r}),n.halfslide_mod(i),setTimeout(function(){n.find(".jdui_slide_list").css({opacity:"1"})},350);for(var l=s.length,d=2;d>0;d--)for(var c=s.eq(l-d).find("img"),u=0;u<c.length;u++)e.lazyLoad.loadImg(c.eq(u));for(var p=n.find(".jdui_slide_list li"),h=0;h<p.length;h++)for(var f=p.eq(h).find("img"),m=0;m<f.length;m++)e.lazyLoad.loadImg(f.eq(m),{success:function(t){t.parent().css({background:"transparent"})}})},_lunboCardSliding:function(t){var e=this.$el.find(".promo_carousel4"),i=e.find(".jdui_slide_list"),a=this,n={containerWidth:330,sliderWidth:304,slideScale:[1,.92,.84],slideOffset:[[0,0],[39,9],[74,18]],lazyLoad:!0,speed:600,autoplay:!0,autoplaySpeed:4e3};"2"==t&&$.extend(n,{containerWidth:323,sliderWidth:240,slideScale:[1,.85,.66],slideOffset:[[0,0],[91,25],[165,58]]}),setTimeout(function(){i.css({opacity:"1"})},350),e.layerCardSlide(n),i.find(".tag").on("click",function(t){clearTimeout(a.jumpTimeout);var e=$(this).data("href");a.jumpTimeout=setTimeout(function(){location.href=e},300),t.stopPropagation()})},_addExt:function(){var e=this,a=t.activityData;e.$el.find(".jdui_slide_list a").click(function(){var t=$(this).data("extension_id"),n=$(this).data("href"),o={event_id:$(this).attr("report-eventid"),event_param:$(this).attr("report-eventparam"),event_level:$(this).attr("report-eventlevel")};t&&(o.extension_id=JSON.stringify(t)),i.reportEventdata(o,a),clearTimeout(e.jumpTimeout),e.jumpTimeout=setTimeout(function(){location.href=n},300)})}})}}.apply(e,a))||(t.exports=n)},,,,,,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(i(215));e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return function(i,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};try{if(!t.hasOwnProperty(i))throw new Error(i+"适配器不存在");(new a.default).send(n).through(t[i]).then(o)}catch(t){e&&o&&o(n),console.log(t)}}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(i(90));e.adaptFunction=function(t,e,i){for(var n=(0,a.default)({},i,e),o=arguments.length,s=Array(o>3?o-3:0),r=3;r<o;r++)s[r-3]=arguments[r];return t.apply(void 0,[i,n].concat(s)),n[i]},e.jrTracking=function(){window.jQuery=window.Zepto;var t=Array.isArray(window.jraqnew)?window.jraqnew:[];t.push(["account","UA-J2011-12"]),window._jraqnew=t,_require(["//jdjrflow.jd.com/wl.dev.js","//jrclick.jd.com/qidian.js"])}},function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(3));a=[i(1),i(6),i(25)],void 0===(n=function(t,e,i){var a,n=e.isWkWebview,s=e.isJdApp,r=e.isAndroidJdApp,l=e.isIphoneJdApp,d=s&&e.versionGreaterOrEqual("6.1.0");function c(t,e){for(var i in e)e.hasOwnProperty(i)&&void 0!==e[i]&&(t[i]=e[i]);return t}function u(t){if(!(this instanceof u))return new u(t)}return u.prototype.checkReminder=function(t){var e;if(t.type="BABEL","checkReminderCallback"!==t.callBackName&&(t.callBackName="checkReminderCallback"),r)if(d){if(window.JDAppUnite&&"function"==typeof window.JDAppUnite.checkReminder){var i=JSON.stringify({businessType:t.type,beginTime:t.beginTime,uniqueId:t.uniqueId,callBackName:t.callBackName,callBackId:t.callBackId});window.JDAppUnite.checkReminder(i)}}else window.JdAndroid&&"function"==typeof window.JdAndroid.checkReminder&&window.JdAndroid.checkReminderWithURL(t.type,t.beginTime,t.jumpUrl,t.callBackId);else if(l){if(n)return window.webkit.messageHandlers.JDAppUnite.postMessage({method:"checkReminder",params:JSON.stringify({businessType:t.type,beginTime:t.beginTime,uniqueId:t.uniqueId,callBackName:t.callBackName,callBackId:t.callBackId}),callBackName:null,callBackId:null});d?(e=JSON.stringify({businessType:t.type,beginTime:t.beginTime,uniqueId:t.uniqueId,callBackName:t.callBackName,callBackId:t.callBackId}),window.JDAppUnite&&window.JDAppUnite.checkReminder(e)):(t.beginTime=Number(t.beginTime)/1e3,e=JSON.stringify({dataType:t.type,beginTime:t.beginTime,jumpUrl:t.jumpUrl,callBackName:t.callBackName,callBackId:t.callBackId}),window.MobileNavi&&window.MobileNavi.checkReminder(e))}},u.prototype.removeReminder=function(t){if(n)try{window.webkit.messageHandlers.JDAppUnite.postMessage({method:"removeReminder",params:JSON.stringify({businessType:t.businessType,beginTime:t.beginTime,uniqueId:t.uniqueId,callBackName:t.callBackName,callBackId:t.callBackId}),callBackName:null,callBackId:null})}catch(t){}else if(d){var e={businessType:t.businessType,beginTime:t.beginTime,uniqueId:t.uniqueId,callBackName:t.callBackName,callBackId:t.callBackId};window.JDAppUnite&&window.JDAppUnite.removeReminder(JSON.stringify(e))}else if(r){if(void 0!==window.JdAndroid&&("function"==typeof window.JdAndroid.cancelJDReminderWithURL||"function"==typeof window.JdAndroid.cancelJDReminder))try{"BABEL"===t.businessType?JdAndroid.cancelJDReminderWithURL("BABEL",t.beginTime,t.jumpStr.params.url):JdAndroid.cancelJDReminder(t.businessType,t.callBackId,t.beginTime)}catch(t){}}else if(l){t.beginTime=Number(t.beginTime)/1e3;var i='openApp.jdMobile://virtual?params={"category":"jump","des":"saveToCalender","sourceValue":"sourceValue_saveToCalender","sourceType":"sourceType_saveToCalender","SourceParam":"sourceParam","actionType":"del","dataType":"10","calendarTitle":"'+t.remindTitle+'","beginTime":"'+t.beginTime+'","dataId":"","jumpUrl":"'+encodeURIComponent(t.jumpStr.params.url)+'"}';location.href=i}},u.prototype.setReminder=function(t){if(n)try{window.webkit.messageHandlers.JDAppUnite.postMessage({method:"addReminder",params:JSON.stringify({businessType:t.businessType,showTag:t.showTag||"",remindTitle:t.remindTitle||"",beginTime:t.beginTime,uniqueId:t.uniqueId,jumpStr:JSON.stringify(t.jumpStr)||"",imgUrl:t.imgUrl||"",notifyTime:t.notifyTime||"",extraStr1:t.extra1||"",extraStr2:t.extra2||"",callBackName:t.callBackName,callBackId:t.callBackId}),callBackName:null,callBackId:null})}catch(t){}else if(d){var e=JSON.stringify({businessType:t.businessType,showTag:t.showTag||"",remindTitle:t.remindTitle||"",beginTime:t.beginTime,uniqueId:t.uniqueId,jumpStr:JSON.stringify(t.jumpStr)||"",imgUrl:t.imgUrl||"",notifyTime:t.notifyTime||"",extraStr1:t.extra1||"",extraStr2:t.extra2||"",callBackName:t.callBackName,callBackId:t.callBackId});window.JDAppUnite&&window.JDAppUnite.addReminder(e)}else if(r){if(void 0!==window.JdAndroid&&("function"==typeof window.JdAndroid.setJDReminderWithURL||"function"==typeof window.JdAndroid.setJDReminder))try{"BABEL"===t.businessType?window.JdAndroid.setJDReminderWithURL(t.businessType,t.remindTitle,t.beginTime,t.jumpStr.params.url):window.JdAndroid.setJDReminder(t.businessType,t.remindTitle,t.beginTime,t.jumpStr.params.url)}catch(t){}}else if(l){t.beginTime=Number(t.beginTime)/1e3;var i='openApp.jdMobile://virtual?params={"category":"jump","des":"saveToCalender","sourceValue":"sourceValue_saveToCalender","sourceType":"sourceType_saveToCalender","SourceParam":"sourceParam","actionType":"add","dataType":"10","calendarTitle":"'+t.remindTitle+'","beginTime":"'+t.beginTime+'","dataId":"","jumpUrl":"'+t.jumpStr.params.url+'"}';location.href=i}},u.prototype.configBtn=function(t){if("share"!==t.type){var e={},i=t.data,a=t.activityData;if(delete t.data,delete t.activityData,i.searchInfo&&i.searchInfo.searchScope&&"search"===t.type){var o=function(){var t="0"==i.searchInfo.searchScope?"":',"is_allworld_shopping":"1"';return"openApp.jdmobile://virtual?params="+encodeURIComponent('{"des":"search","category":"jump","from":"babel","channelName":"'+a.encodeActivityId+'","channelTitle":"'+a.title+'","showWord":"'+i.searchInfo.searchContext+'","realWord":"'+i.searchInfo.trueContext+'"'+t+"}")}(),r=[location.protocol+"//m.360buyimg.com/babel/jfs/t1/22836/9/8650/2737/5c77af84E9fce75b7/272c9ac424427845.png",location.protocol+"//m.360buyimg.com/babel/jfs/t1/26310/35/8555/1636/5c77af84Eb90872b1/1229bbebf7c00265.png"][1*i.routineStyleIconFontColor];t.icon=r,t.type="custom",t.title="搜索",t.jump=o}e[t.type]={type:t.type,display:"show",position:"outside"},e.custom&&(e.custom.icon=t.icon,e.custom.title=t.title,e.custom.jump=t.jump),s&&"[object Object]"===Object.prototype.toString.call(t)&&(c(e,t),n?(window.webkit.messageHandlers.MobileNavi.postMessage({method:e.custom?"configBtn":"configBtnSince610",params:JSON.stringify({clear_js:{type:"clear_js"}}),callBackName:null,callBackId:null}),window.webkit.messageHandlers.MobileNavi.postMessage({method:e.custom?"configBtn":"configBtnSince610",params:e.custom?JSON.stringify(e.custom):JSON.stringify(e),callBackName:null,callBackId:null}),e.custom&&window.webkit.messageHandlers.MobileNavi.postMessage({method:"configBtnSince610",params:JSON.stringify({search:{type:"search",display:"hidden",position:"inside"}}),callBackName:null,callBackId:null})):(!d||e.custom?(window.MobileNavi&&MobileNavi.configBtn(JSON.stringify({type:"clear_js",display:"",position:"",icon:"",title:"",jump:""})),window.MobileNavi&&MobileNavi.configBtn(JSON.stringify(t))):(window.MobileNavi&&window.MobileNavi.configBtnSince610(JSON.stringify({clear_js:{type:"clear_js"}})),window.MobileNavi&&window.MobileNavi.configBtnSince610(JSON.stringify(e))),e.custom&&window.MobileNavi&&MobileNavi.configBtnSince610(JSON.stringify({search:{type:"search",display:"hidden",position:"inside"}}))))}},u.prototype.searchBtn=function(t){if(t.searchType&&s&&"[object Object]"===Object.prototype.toString.call(t)&&t.searchBoxConfig&&t.searchBoxConfig.searchBoxStyle){var e=function(){var e="";function i(t){return-1==t.indexOf("http://")&&-1==t.indexOf("https://")&&t}return{img:i(e="2"==t.searchBoxConfig.searchBoxStyle?t.searchBoxConfig.imgUrl:["//m.360buyimg.com/babel/jfs/t1/32472/25/3294/10935/5c7393aeE1223a700/156dcb6590341826.png","//m.360buyimg.com/babel/jfs/t1/25177/37/8130/8067/5c7393aeE378b6700/6b8ac70bc516100a.png"][1*t.searchBoxConfig.searchBoxStyle])?location.protocol+e:e,pic:i(t.titleBgImgUrl)?location.protocol+t.titleBgImgUrl:t.titleBgImgUrl}}(),i={canPull:"0",supportTran:"0",tranParams:{whiteImg:e.img,blackImg:e.img,pic:e.pic,backgroundColor:t.bgColor,naviMenuType:"1"==t.iconStyle?"ww":"bb"},titleImgWidth:"400"};!e.pic&&delete i.tranParams.pic,setTimeout(function(){n?window.webkit.messageHandlers.MobileNavi.postMessage({method:"configNavigationBar",params:JSON.stringify(i)}):window.MobileNavi&&window.MobileNavi.configNavigationBar(JSON.stringify(i))},300)}},u.prototype.enableTransparent=function(t){var e={blackImg:"",whiteImg:""};s&&"[object Object]"===Object.prototype.toString.call(t)&&(c(e,t),n?window.webkit.messageHandlers.MobileNavi.postMessage({method:"enableTransparent",params:JSON.stringify(e),callBackName:null,callBackId:null}):window.MobileNavi&&MobileNavi.enableTransparent(JSON.stringify(e)))},u.prototype.setPicTitle=function(t){if(e.isAndroidJdApp){var a={isShow:"N"};t&&(a={isShow:"Y",imageUrl:t}),"object"===(0,o.default)(window.AndroidNavi)&&window.AndroidNavi.setTitle(JSON.stringify(a))}else if(e.isIphoneJdApp){a={action:"sh_hideImgTitle"};t&&(a={action:"sh_showImgTitle",imageUrl:t}),i.jumpLink(i.getHeaderIphoneUrl(a))}},u.prototype.setNaviBackground=function(t){var e=c({naviIcon:"1"},t);s&&(n?window.webkit.messageHandlers.MobileNavi.postMessage({method:"setNaviBackground",params:JSON.stringify(e)}):window.MobileNavi&&MobileNavi.setNaviBackground(JSON.stringify(e)))},a||(a=u()),a}.apply(e,a))||(t.exports=n)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var a,n;a=[i(6),i(86)],void 0===(n=function(t,e){var i={$window:$(window),width:$(window).width(),runtimeEnv:t,protocol:location.protocol,curPageUrl:location.origin+location.pathname};return $.extend(i,e),i}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(1)],void 0===(n=function(){var t={pageType:"",pageTime:"",init:function(){this.checkType()},checkType:function(){var t=this;t.pageType=t.checkUrlParam("type"),t.babelType=t.checkUrlParam("babelType"),t.pageTime=t.checkUrlParam("time")},checkUrlParam:function(t){var e=window.location.href,i=new RegExp(t+"=\\w*","gi"),a=e.match(i);return a=a?a[0].split("=")[1]:""},formatURL:function(t,e){if(e||(e=3088),"dev"!=this.pageType)return t;var i=window.location.host;i="http://"+(i=i.split(":")[0])+":"+e+"/";var a=t.match(/http:\/\/(\w*\.){1,3}(\w*\/)/g)[0];return t.replace(a,i)}};return t.init(),{pageType:t.pageType,pageTime:t.pageTime,babelType:t.babelType,parFormatURL:t.formatURL,checkUrlParam:t.checkUrlParam}}.apply(e,a))||(t.exports=n)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var a;void 0===(a=function(){return{modFun:{guanggao:"promo",loucengbiaoti:"floortitle",jiange:"floorgap",shangpin_putong:"product_normal",shangpin_wuxianxiala:"product_infinite",quickentry:"quickentry",category:"category",waretheme:"guide",articletheme:"guide",searchelement:"research",coupon_yijianlingqu:"coupon",hotzone:"hotzone",advertsliding:"promo",shangpin_miaosha:"product_seckill",customcode:"customcode",bookingProduct:"booking",preSaleProduct:"presale",countDown:"countdown",gonggao:"announcement",anchor_nav:"navtab",coupon_new:"couponNew",shopping_guide:"store",multiModuleTab:"tab",live:"live",floatLayer:"floatlayer",choujiang_guaguale:"guaguale",shangpin_cuxiao:"product_promotion"},modTplMap:{waretheme:"zhutidaogou",articletheme:"zhutidaogou",choujiang_guaguale:"guaguale"},requestUrl:{},requestWQUrl:{},appChannel:{paramConfig:{homeIcons:{type:5,ctype:1}},seckill:"",miaosha:"",couponcenter:"",jipiao:"airTicket",dianyingpiao:"Movie",story:"",xiaobing:"getXB",aggregatePage:"",promotion:"",kMobileChargeView:"",kFlowChargeView:"",kQbChargeView:"",KGamechargeView:"",homeIcons:"",newrecharge:"",worthbuy_detail:"",album_detail:"",signRank:"",faxian:"",faxian_author:"",RankingMain:"",FindLivePlayList:"",im:"",ranklist:""},videoBury:{promo:{eventId:"Babel_BannerVideo",imgCls:"promo_banner"},articleGuide:{eventId:"Babel_InfoGuideVideo",imgCls:"promo_img_wrap"}}}}.call(e,i,e,t))||(t.exports=a)},,function(t,e,i){"use strict";var a,n;!function(t){t&&t.__esModule}(i(3));void 0===(n="function"==typeof(a=function(){function t(){for(var t=0,e={};t<arguments.length;t++){var i=arguments[t];for(var a in i)e[a]=i[a]}return e}return function e(i){function a(e,n,o){var s;if("undefined"!=typeof document){if(arguments.length>1){if("number"==typeof(o=t({path:"/"},a.defaults,o)).expires){var r=new Date;r.setMilliseconds(r.getMilliseconds()+864e5*o.expires),o.expires=r}try{s=JSON.stringify(n),/^[\{\[]/.test(s)&&(n=s)}catch(t){}return n=i.write?i.write(n,e):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),e=(e=(e=encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent)).replace(/[\(\)]/g,escape),document.cookie=[e,"=",n,o.expires&&"; expires="+o.expires.toUTCString(),o.path&&"; path="+o.path,o.domain&&"; domain="+o.domain,o.secure?"; secure":""].join("")}e||(s={});for(var l=document.cookie?document.cookie.split("; "):[],d=/(%[0-9A-Z]{2})+/g,c=0;c<l.length;c++){var u=l[c].split("="),p=u.slice(1).join("=");'"'===p.charAt(0)&&(p=p.slice(1,-1));try{var h=u[0].replace(d,decodeURIComponent);if(p=i.read?i.read(p,h):i(p,h)||p.replace(d,decodeURIComponent),e===h){s=p;break}e||(s[h]=p)}catch(t){}}return s}}return a.set=a,a.get=function(t){return a(t)},a.getJSON=function(){},a.defaults={},a.remove=function(e,i){a(e,"",t(i,{expires:-1}))},a.withConverter=e,a}(function(){})})?a.call(e,i,e,t):a)||(t.exports=n)},,,,function(t,e,i){"use strict";var a,n;a=[i(1)],void 0===(n=function(t){var e=t.ajaxSettings;return function(i){e.type="get",e.charset="utf8",e.dataType="jsonp",e.timeout=1e4;var a=i.success,n=i.error;return i.data="body="+JSON.stringify(i.data),i.success=function(t,e,i){if("0"==t.code)a&&a(t,e,i);else if("3"==t.code){var n=location.pathnaindexof(".html")<0?"":location.href.match(/^(.+?\.html)/)[1];location.href="https://passport.m.jd.com/user/login.action?returnurl="+encodeURIComponent(n)}else alert("网络跑累了，请稍候再来！")},i.error=n||function(){alert("网络飞到外太空")},t.ajax(i)}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(3));a=[i(1)],void 0===(n=function(t){var e=function(t,e){this.element=t,this._init(e)};e.prototype={version:"1.0.0",playID:-1,node:"",_init:function(e){var i=this.element,a=this._getSettings(i),n=a||t.fn.toast.defaults;a=t.extend({},n,e);var o=this._initDomConfig();a=t.extend({},a,o),this._setSettings(i,a),this._renderHandler()},_initDomConfig:function(){var e,i=this.element,a={};for(var n in t.fn.toast.defaults)(e=i.attr("data-"+n))&&(a[n]=e);return a},_renderHandler:function(){var e=this.element;if(t("#J_toast").length>0)this.node=t(".jdui_toast");else{var i=this._getSettings(e);this.node=t('<div id="J_toast" class="jdui_toast animated fadeIn"><span class="jdui_icon"></span><div class="jdui_text"></div><div class="jdui_sub_text"></div></div>'),this.node.addClass(i.conCls),this.node.find(".jdui_text").html(i.content),i.iconCls?this.node.find(".jdui_icon").addClass(i.iconCls):this.node.find(".jdui_icon").attr("class","jdui_icon"),i.subContent?this.node.find(".jdui_sub_text").html(i.subContent):this.node.find(".jdui_sub_text").html(""),t("body").append(this.node)}},_getSettings:function(t){return t.data("toastOpt")},_setSettings:function(t,e){t.data("toastOpt",e)},show:function(e){var i=this,a=this.element,n=i._getSettings(a);e&&(delete n.subContent,n=t.extend({},n,e)),i._setSettings(a,n),i.node.attr("class","jdui_toast animated fadeIn"),i.node.addClass(n.conCls),i.node.find(".jdui_text").html(n.content),i.node.find(".jdui_icon").attr("class","jdui_icon"),n.iconCls&&i.node.find(".jdui_icon").addClass(n.iconCls),n.subContent?i.node.find(".jdui_sub_text").html(n.subContent):i.node.find(".jdui_sub_text").html(""),"none"===i.node.css("display")&&(i.node.css({display:"inline-block"}),setTimeout(function(){i.node.css({opacity:1,"-webkit-transform":"translate3d(-50%, -30px, 0)",transform:"translate3d(-50%, -30px, 0)"})},50),clearTimeout(i.playID),i.playID=setTimeout(function(){i.node.css({opacity:0,"-webkit-transform":"translate3d(-50%, 0, 0)",transform:"translate3d(-50%, 0, 0)"}),setTimeout(function(){i.node.css({display:"none"})},50)},n.showTime))},hide:function(){var t=this;clearTimeout(t.playID),setTimeout(function(){t.node.css({opacity:0,"-webkit-transform":"translate3d(-50%, 0, 0)",transform:"translate3d(-50%, 0, 0)"}),setTimeout(function(){t.node.css({display:"none"})},50)},300)}};var i={init:function(i){this.each(function(){var a=t(this);a.data("toastInstance")||a.data("toastInstance",new e(a,i))})},instance:function(){var e=[];return this.each(function(){e.push(t(this).data("toastInstance"))}),e},show:function(e){var i=t(this).data("toastInstance");i&&i.show(e)},hide:function(){var e=t(this).data("toastInstance");e&&e.hide()}};return t.fn.toast=function(){var t=arguments[0],e=arguments;if(i[t]){if(!this.data("toastInstance"))return;t=i[t],e=Array.prototype.slice.call(arguments,1)}else{if("object"!==(void 0===t?"undefined":(0,o.default)(t))&&t)return this;t=i.init}return t.apply(this,e)},t.fn.toast.defaults={content:"提示信息",conCls:"",subContent:"",iconCls:"",showTime:2e3},e}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(3));a=[i(1)],void 0===(n=function(){var t=function(){},e=[];return t._esMap={video:"Babel_VideoExpo",textModule:"Babel_WordsExpo",articletheme:"Babel_InfoshoppingguideExpo",goodStuff:"Babel_GoodsExpo",detailed_list:"Babel_InventoryExpo",basement:"Babel_AgilityExpo",shopping_guide:"Babel_ShopExpo",guanggao_beishu:"Babel_MultipleExpo",guanggao_tonglan:"Babel_BannerExpo",guanggao_tonglan_video:"Babel_BannerVideoExpo",guanggao_lunbo:"Babel_CarouselExpo",advertProduct_theme:"Babel_CombiExpo",hotzone:"Babel_MapAreaExpo",advertsliding:"Babel_SlideExpo",custom_material:"Babel_DIYExpo",ranking_list:"Babel_RankingExpo",outfit_buy:"Babel_MatchBuyExpo",shangpin_putong:"Babel_CommonExpo",shangpin_wuxianxiala:"Babel_InfiniteExpo",shangpin_wuxianxiala_flexible:"Babel_InfiniteExpo",new_user_interest:"Babel_NewRightsExpo"},t.init=function(t){this.expos={},this.app=t},t.push=function(t){var i=this,a=[];0!==e.length&&(t=t.filter(function(t){var i=e.find(function(e){return e===t.$node.data("expoflag")});return!i||(a.push(i),!1)})),e=a,t.forEach(function(t){var a=t.type,n=t.$node,s=n.data("es");if("guanggao_tonglan"==a)n.find("video").size()>0&&(a+="_video");else if("basement"==a){var r=n.attr("report-expoid");r&&(i._esMap[a]=r)}if(n.hasClass("autoexpo")){var l=n.data("expourl");e.push(n.data("expoflag")),l&&$.ajax({url:l,dataType:"jsonp",success:function(){}})}var d=i._esMap[a];if("customcode"==a&&n.hasClass("expo")&&(d=n.data("eventid")),""!=s&&d){var c=i.expos[d];"object"===(void 0===s?"undefined":(0,o.default)(s))&&(s=JSON.stringify(s)),c?-1==c.indexOf(s)&&(i.expos[d]+=","+s):i.expos[d]=s}})},t.done=function(){var t=0;for(var e in this.expos){var i=this.expos[e];t+=0,this._report(e,i,t)}},t._report=function(t,e,i){var a=this.app;setTimeout(function(){a.mod.reportEventdata({event_id:t,event_param:e,event_level:""},a.activityData)},i)},t}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(1),i(6)],void 0===(n=function(t,e){var i=e.isWQUrl,a=/^javascript:wxApp/i;return{bindPtagEvent:function(){i&&t(window).on("ready",function(){for(var e=t(".bab_opt_mod"),i=0;i<e.length;i++){var n=t(e[i]).data("pdid");if(n)for(var o=t(e[i]).find(".J_ping"),s=0;s<o.length;s++){var r=n+"."+(s+1);if(o[s].getAttribute("href")){var l=o[s].getAttribute("href");if(-1===l.indexOf("//"))continue;if(/ptag/gi.test(l)||a.test(l))continue;l.indexOf("?")>-1?t(o[s]).attr("href",l+"&ptag="+r):t(o[s]).attr("href",l+"?ptag="+r)}else t(o[s]).attr("ptag",r)}}})},addPtag:function(e,n){if(i){var o=e.data("pdid"),s=e.find(n);if(o)for(var r=0;r<s.length;r++){var l=o+"."+(r+1);if(s[r].getAttribute("href")){var d=s[r].getAttribute("href");if(/ptag/gi.test(d)||a.test(d))continue;d.indexOf("?")>-1?t(s[r]).attr("href",d+"&ptag="+l):t(s[r]).attr("href",d+"?ptag="+l)}else t(s[r]).attr("ptag",l)}}}}}.apply(e,a))||(t.exports=n)},,,,function(t,e){t.exports='<div class="coupon_bomb_box show <%=obj.couponColorCls%> <%=obj.couponStatus%> "> <div class="coupon_sm <%=obj.couponType%> discount_<%=obj.val.length%>"> <div class="preferential_price"> <%if(obj.couponStyle === \'3\'){%> <div class="price"><%=obj.val%></div> <div class="discount">折</div> <%}else{%> <div class="symbol">¥</div> <div class="price"><%=obj.val%></div> <%}%> </div> <div class="limit_text"><%=obj.limit%></div> <div class="range"><%=obj.scope%></div> <%if(obj.endTime){%> <div class="date">有效期至:<%=obj.endTime%></div> <%}%> </div> <div class="pay_beans">支付<%=obj.beanNum%><%=obj.beanType || \'京豆\'%>兑换</div> <%if((obj.holdBeans!=undefined)||(obj.holdBeans!=null)){%> <div class="account_bean">您的账户还剩<%=obj.holdBeans%>京豆<%=obj.beanNum>obj.holdBeans?",数量不足哦！":""%></div> <span></span> <%}%> <span class="babel_module_close"></span> </div>'},function(t,e,i){"use strict";var a,n;a=[i(0),i(2)],void 0===(n=function(t,e){return function(i,a,n,o){var s=t.util,r=t.mod,l=t.width,d=e.ptag;return t.Create({$el:a,template:"",init:function(){this.template=this.$el.data("template"),this._main()},_main:function(){var e=this;if("waretheme"==this.template){var i,a=this.$el.find(".shopping_guide_module").data("conf"),n={speed:300,slideWrap:"",listCls:"jdui_slide_list",itemWin:Math.round(.7397*(l-10)),itemCurWin:Math.round(.8219*(l-10)),itemCurCls:"cur",markCls:"shopping_guide_mark",touchMove:!1,changeSlide:function(t){e._halfSlideCallBack(t,this.markCls)}};3!=a&&4!=a||(3==a?(this.$el.find(".shopping_3x .pd_img_wrap").css({"border-radius":"0"}),i=this.$el.find(".shopping_3x .shopping_guide_wrap")):4==a&&(i=this.$el.find(".shopping_4x .shopping_guide_wrap")),n.slideWrap=i,r.halfSideBindEvent(n))}else{if(this.$el.find(".shopping_guide_module.style4").length>0&&this._lazyLoadImg(),this.$el.find(".promo_img_wrap>.video").length>0&&this.$el.find(".shopping_guide_module").addClass("add_video"),0===this.$el.find(".play_time").length)return;var s={videoWrap:this.$el,imgWrap:"promo_img_wrap",eventData:{event_id:"Babel_InfoGuideVideo",event_param:this.$el.find("#pu").data("srv")},activityData:t.activityData};r.loadVideo(s),"5"==o&&d.addPtag(e.$el,".J_ping")}},_halfSlideCallBack:function(t,e){for(var i=this.$el.find(".jdui_slide_list li"),a=t+1,n=i.eq(a+1).find("img"),o=0;o<n.length;o++)s.lazyLoad.loadImg(n.eq(o));var r=t-1;n=i.eq(r+1).find("img");for(var l=0;l<n.length;l++)s.lazyLoad.loadImg(n.eq(l));this.$el.find("."+e+" span").eq(0).html(t+1)},_lazyLoadImg:function(){this.$el.find(".shopping_guide_picture img[data-lazysrc]").each(function(t,e){var i=$(e),a=i.data("lazysrc"),n=new Image;n.onload=function(t){var n=t.target.width,o=t.target.height;e.src=a,i.attr("data-lazysrc",""),n<=o&&i.css({width:"100%",height:"auto"})},n.src=a})}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=r(i(312)),s=r(i(31));function r(t){return t&&t.__esModule?t:{default:t}}a=[i(1),i(4),i(0),i(2)],void 0===(n=function(t,e,i,a){var n=a.ptag,r=i.mod,l={$node:null,modData:null,switchListTpl:o.default,init:function(e,a,n){t(window).scroll(),this.$node=a;var o=this.modData=n,s=t("#J_babelOptPage"),l=t(window).height()-s.offset().top;if(i.activityData.hasFoot&&(l-=50),o){if(0===o.categoryList.length)return void r.addNoneStyle(this.$node,l,"暂无类目数据哦~");this.$node.find(".cate_switch").css("height",l),"switch"===o.type&&this._bindEventSwitch()}t(window).scroll()},_bindEventSwitch:function(){var e=this,a=e.$node;a.find(".classify_names li").on("click",function(){var n=t(this);if(!n.hasClass("cur")&&!e.isLoadData){var o=n.index();e.curIndex=o;var s=e.modData.categoryList[o];s.list?e._renderSwitchList(s):e._loadSwitchList(s.advertId),a.find(".classify_names li").removeClass("cur"),n.addClass("cur");var l=a.find(".classify_scroll"),d=l.scrollTop(),c=a.height(),u=l.find(".classify_names").height()-c,p=n.position().top+d-(c-n.height())/2;p=p>u?u:p,l.scrollTop(p),r.reportEventdata({event_id:"Babel_SwitchFirst",event_param:s.jump.srv},i.activityData)}}),a.find(".classify_right_part").on("click",".load_fail_wrap",function(){var t=e.curIndex,i=e.modData.categoryList[t];e._loadSwitchList(i.advertId)})},_renderSwitchList:function(a){var o=this.$node;if(0!==a.list.length){var s=this.switchListTpl,l=a;this._mergeSwitchData(l);var d=l.pictureUrl;d&&d.length>0&&(l.promo={pictureUrl:l.pictureUrl,jump:l.jump}),r.tplLinkData(l,i.activityData);var c=e.render(s,l);o.find(".classify_right_part").html(c),t(window).scroll(),n.addPtag(this.$node,".J_ping")}else{var u=o.find(".classify_right_part"),p=o.height();r.addNoneStyle(u,p,"该类目下暂无数据哦~")}},_mergeSwitchData:function(t){if(0!=t.pictureUrl.length){var e={pictureUrl:t.pictureUrl,jump:t.jump};t.topbanner=e}},_loadSwitchList:function(e){var n=this;if(!n.isLoadData){a.loading.show(),n.isLoadData=!0;var o=r.getBabelUrlDev2Release("getTrackBabelAdvert"),l=n.modData,d=Object.assign({moduleId:l.moduleId,advertId:e,activityId:i.activityData.activityId,pageId:i.activityData.pageId},s.default.categoryReqParam);i.runtimeEnv.isWQUrl&&(d={moduleId:l.moduleId,advertId:e,activityId:i.activityData.activityId,platform:1}),d=JSON.stringify(d);var c=r.getBabelUrlParam(d,!0);t.ajax({url:o,data:c,type:"POST",dataType:"json",xhrFields:{withCredentials:!0},success:function(t){if(0==t.code&&0==t.subCode){var e=n.curIndex,i=n.modData.categoryList[e];i.list=t.list,i.list||(i.list=[]),n._renderSwitchList(i)}else n._loadErrorHandler()},error:function(){n._loadErrorHandler()},complete:function(){n.isLoadData=!1,a.loading.hide()}})}},_loadErrorHandler:function(){var t=this.$node.find(".classify_right_part");r.addLoadError(t,this.$node.height())}};return function(){var t=Object.create(l);t.init.apply(t,arguments)}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0)],void 0===(n=function(t){var e=t.mod,i=t.util,a=e.preLoadImg,n={$node:null,modData:null,template:null,wh:0,childModules:[],$moduleList:null,$moduleListItem:null,activeIndex:0,sub_activeIndex:[],cachedDom:[],modTpl:null,init:function(e,a,n){var o=this;if(o.$node=a,o.isFree=n.isFree,o.isFree?(o.modData=n.dataHub,o.modTpl=n.tpl,o.isText="1"===n.dataHub.tabConfig.styleId):o.modData=n,this.wh=t.$window.height(),this.childModules=a.find(".top_nav_module_list .bab_opt_mod"),"multiModuleTab"===(o.template=o.modData.template)){var s=this.$node.find(".top_nav_module");o.isFree&&(s.find("ul>li").length<2&&s.hide(),s.find("ul>li").each(function(){o.sub_activeIndex.push(0)})),o.$moduleList=o.$node.find(".top_nav_module_list"),o.$moduleListItem=o.$moduleList.find(".top_nav_module_list_item").css("overflow","hidden"),o.isFree?o._initFrontEndFree(o.modTpl[o.activeIndex].nav[0].groupId):o._initFrontEndTabs(o.modData),o.inVisibleTabContent(),function(t){t.find("li img").forEach(function(t){var e=$(t);i.lazyLoad.loadImg(e)})}(o.$node),o.isFree&&s.find("ul>li").eq(o.activeIndex).data("loaded",!0)}o._processCurItem(),o._betterStyle(function(t){o._bindEventTab(t),o.isFree&&o._bindSubTab(),setTimeout(function(){$(window).scroll()},10)})},inVisibleTabContent:function(){var t=this;this.$moduleListItem.css({height:"auto"}),this.$moduleListItem.filter(function(e){return e!==t.activeIndex}).height(0)},_betterStyle:function(t){var e=this.$node,i=e.find("li"),n=e.find("li img"),o=this.modData.tabConfig,s=$(window).width();if(o&&"3"==o.styleId&&"topTab"==this.template){var r=i.reduce(function(t,e){var i=$(e).height()||50,a=1*(($(e).find("img").eq(0).data("tabw")||s/4)*(i/($(e).find("img").eq(0).data("tabh")||150))).toFixed(2);return $(e).data("sWidth",a),$(e).css({width:a}),t+a},0);if(r<=s){var l=((s-r)/(i.length+1)).toFixed(2);i.css("margin-left",l+"px")}var d=n.map(function(t,e){return $(e).data("tabsrc")});a(d,function(e){$.each(e,function(t,i){var a=n.index(n.eq(t).siblings("img")),o=n.eq(t).parents("li"),s=n.eq(t).parents(".top_wrap").find(".top_title");i.status&&-1!==a&&e[a].status?(s.removeClass("hide"),s.addClass("hide")):(s.removeClass("hide"),n.eq(t).parent().addClass("hide"),o.css({height:"50px"}))}),t&&t(r>s)})}else t&&t(!1)},_processCurItem:function(){this.$node.find(".top_nav_wrap ul li.cur a").attr("href","javascript:void(0)").removeClass("J_ping")},_initFrontEndTabs:function(t){var e=this,i=t.tabs,a=Object.keys(i);a&&a.forEach(function(t){var a=i[t];e._initFrontEndModules(a)});var n=this.$node.find(".top_nav_module");n.find("ul>li").length<2&&n.hide()},_initFrontEndFree:function(t){var e=this.modData.tabs[t],i=this.$moduleListItem.eq(this.activeIndex).find("div.top_nav_module_subcon"),a=i.eq(this.sub_activeIndex[this.activeIndex]);this._initFloorHtml(a),this._initFrontEndModules(e),i.hide(),a.show()},_initFloorHtml:function(t){if(!t.data("loaded")){var e=unescape(this.modTpl[this.activeIndex].con[this.sub_activeIndex[this.activeIndex]].context);e&&t.html(e),t.data("loaded",!0)}},_initFrontEndModules:function(e){var i=this;Object.keys(e).forEach(function(a){var n='.bab_opt_mod[data-floornum="'+a+'"]',o=i.$node.find(n),s=e[a],r=s.template;r&&t.modules(r)(void 0,o,s)})},_bindEventTab:function(i){var a=this,n=a.$node,o=a.modData.template,s=t.activityData,r={node:n,tabMainWrap:n.find(".top_nav_module"),tabHdWrap:n.find(".top_nav_wrap"),tabHdList:n.find(".top_nav_wrap li"),tabClick:!1,tabSlide:!!i,tabLimitNum:1};if("multiModuleTab"===o?(r.topPos=s.topnavHeight||200,r.tabClick=!0,r.tabSlide=!0,r.subNavHeight=40,r.tabClickCallbak=function(t){var i=t.index();a.isFree||a.$moduleList.animate({translate3d:100*-i+"%,0,0"},{duration:0}),a.activeIndex=i,a.inVisibleTabContent(),a.isFree&&(a._bindSubTab(),a.$moduleListItem.find("div.top_nav_module_subnav").hide(),a.$moduleListItem.eq(a.activeIndex).find("div.top_nav_module_subnav").css("display","block"),t.data("loaded")||(a._initFrontEndFree(t.data("groupid")),t.data("loaded",!0))),e.reportEventdata({event_id:"Babel_MultipleTab",event_param:t.attr("data-srv")},s),setTimeout(function(){$(window).scroll()},10)},r._initCallback=function(){var t=a.$node.find(".top_nav_module_hd .top_img_wrap"),e=t.size();t.each(function(){var t=$(this),i=t.find("img");i.size()<1||(e>5&&t.css({"padding-top":"66.67%","background-size":"70%"}),i.each(function(){var i=$(this);i.data({callback:function(t,i){return{success:function(){e<=5&&i.css({"background-image":"none"}),t.off()},error:function(){t.off().css({display:"none"})}}}(i,t)})}))})}):(r.node=$("#J_babelOptPage"),r.initIndex=a.modData.tabIndex),n.tab(r),"topTab"==o){var l=r.tabHdList.last(),d=l.offset().left+l.width(),c={type:"level",curItem:r.tabHdList.eq(a.modData.tabIndex),scrollNode:r.tabHdWrap,mainSize:$(window).width(),totalSize:d};e.scrollCenterPos(c)}},_bindSubTab:function(){var i=this,a=i.$moduleListItem.eq(i.activeIndex),n=t.activityData;if(0!=a.find(".top_nav_module_subnav").length&&!a.data("bind-subnav")){var o={node:a,tabMainWrap:a.find(".top_nav_module_subnav"),tabHdWrap:a.find(".top_nav_module_subnav_wrap"),tabHdList:a.find(".top_nav_module_subnav_wrap li"),tabClick:!0,tabSlide:!0,tabLimitNum:1,isSubNav:!0};o.topPos=(n.topnavHeight||200)+(i.isText?40:49),o.tabClickCallbak=function(t){var a=t.index();i.sub_activeIndex[i.activeIndex]=a,i._initFrontEndFree(t.data("groupid")),e.reportEventdata({event_id:"Babel_MultipleSTab",event_param:t.attr("data-srv")},n),setTimeout(function(){$(window).scroll()},10)},a.tab(o),a.data("bind-subnav",!0)}}};return function(){var t=Object.create(n);t.init.apply(t,arguments)}}.apply(e,a))||(t.exports=n)},,,,,function(t,e,i){"use strict";i(142);var a=s(i(0)),n=s(i(267)),o=s(i(390));function s(t){return t&&t.__esModule?t:{default:t}}var r=a.default.util,l=a.default.find("#J_babelOptPage > .bab_opt_mod"),d=a.default.dataHub.head,c=a.default.activityData,u=a.default.runtimeEnv;function p(){(0,n.default)("header").init(d),c.hasFoot&&(0,n.default)("navBottom").init(),l.forEach(function(t){var e=$(t),i=e.data("floornum"),o=e.data("template"),s=a.default.dataHub[i];if(o)try{(0,n.default)(o)(i,e,s)}catch(t){"2"==r.getQueryString("__debug")&&console.log(t)}}),function(){var t=Object.assign({},d&&d.shareInfo);""==t.sharingIntro&&(t.sharingIntro="我有新发现，绝对适合你，速来围观~");if(c.miniShareOn&&u.isJdApp&&"1"===d.isMpShare){var e=location.href.replace(/\/(mall)\//,"/mini/");e.indexOf("?")>0?e+="&wxAppName=jd":e+="?wxAppName=jd";var i={mpId:d.mpShare.id,mpPath:d.mpShare.path||"pages/h5/index?encode_url="+encodeURIComponent(e),mpIconUrl:d.mpShare.iconUrl};Object.assign(t,i)}u.isYhdUrl&&t.sharingUrl&&(t.sharingUrl=t.sharingUrl.replace(/\/\/(pro|h5)\.m\.jd\.com\/((mall|wq)\/)?/g,"//pro.yhd.com/yhd/"));window.addEventListener("load",function(){d&&"1"==d.shareButton?setTimeout(function(){a.default.util.share.directAnalysisData(t)},200):d&&"1"==d.showSSImg&&u.isJdApp&&setTimeout(function(){a.default.util.share.directAnalysisData(t,{incentiveBizType:d.ssType,incentiveBizId:c.encodeActivityId})},200)})}(),setTimeout(function(){var t=0,e={point24:{type:"duration",name:"parser.css"},point25:{type:"duration",name:"mheaderbottom.css"},point26:{type:"duration",name:"main.147"},point37:{type:"duration",name:"unify.min.js"}};function i(){setTimeout(function(){o.default&&o.default.report()},100)}o.default&&o.default.init({flag:6,profilingRate:1,encrypt:c.encodeActivityId,title:c.title,autoReport:!1}),window.performance&&window.performance.getEntries?function a(){var n=window.ImgStatusOfThefisrtScreen;if(n){var s=n.firstSuccessImgSrc,r=n.lastSuccessImgSrc;s&&(e.point20={type:"duration",name:s},e.point21={type:"responseEnd",name:s}),r&&(e.point22={type:"duration",name:r},e.point23={type:"responseEnd",name:r}),o.default&&o.default.addStaticFile(e),i()}else++t<150&&setTimeout(a,200)}():i()},200)}a.default.modules=n.default,$(function(){a.default.init(p)})},function(t,e,i){"use strict";i(143),i(168),i(173),i(176);var a=o(i(178));i(1);var n=o(i(186));function o(t){return t&&t.__esModule?t:{default:t}}window.babel=a.default,Object.assign(window,n.default,{_require:n.default.require})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(i(214)),n=i(53),o=r(i(16)),s=r(i(31));function r(t){return t&&t.__esModule?t:{default:t}}e.default=(0,n.adaptFunction)(a.default,function(t,e){var i=e.hasPerData;if(!i||"1"!==i)return Promise.reject("no getExtPin");var a=o.default.getBabelUrlDev2Release(s.default.functionIds.channelExtraData),n=t.couponData,r={activityId:e.encodeActivityId,riskParam:n.formatCouponData,pageId:e.pageId,transParam:e.transParam};r=JSON.stringify(r);var l=o.default.getBabelUrlParam(r);return new Promise(function(e,i){$.ajax({url:a,data:l,dataType:"jsonp",success:function(a){"0"===a.code?"0"===a.subCode?(t.extraData=a,e(a)):i('getBabelChannelExtraData接口返回subCode不为"0"'):i("getBabelChannelExtraData接口异常")}})})},"getExtPin")},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(i(52)),n=r(i(216)),o=r(i(247)),s=r(i(252));function r(t){return t&&t.__esModule?t:{default:t}}var l={getExtPin:[n.default,o.default,s.default]};e.default=(0,a.default)(l)},function(t,e,i){"use strict";var a,n=function(t){return t&&t.__esModule?t:{default:t}}(i(3));void 0===(a=function(){function t(t){return"function"==typeof t}var e=[].slice;function i(){this.passable=null,this.valves=[],this.method="handle"}return i.prototype={send:function(t){return this.passable=t,this},through:function(t){return this.valves=Array.isArray(t)?t:e.call(arguments),this},via:function(t){return this.method=t,this},then:function(t){var e=this.getInitialSlice(t);return this.valves.reverse().reduce(this.getSlice(),e)(this.passable)},getInitialSlice:function(t){return function(e){return t(e)}},getSlice:function(){var e=this;return function(i,a){return function(o){return t(a)?a.call(null,o,i):function(t){return null!==t&&"object"===(void 0===t?"undefined":(0,n.default)(t))}(a)&&t(a[e.method])?a[e.method](o,i):void 0}}}},i}.call(e,i,e,t))||(t.exports=a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(12),n=function(t){return t&&t.__esModule?t:{default:t}}(i(16));e.default=(0,a.yhdChanel)(function(t){Object.assign(t,{getExtPin:function(t,e){var i=e.hasPerData;if(!i||"1"!==i)return Promise.reject("no getExtPin");var a=t.couponData,o={activityId:e.encodeActivityId,riskParam:a.formatCouponData,pageId:e.pageId,transParam:e.transParam};o=JSON.stringify(o);var s=n.default.getBabelUrlParam(o);return new Promise(function(e,i){$.ajax({url:"//couponsta.yhd.com/getCouponStatusByActivityId",data:s,dataType:"jsonp",xhrFields:{withCredentials:!0},success:function(a){"0"===a.code?"0"===a.subCode&&(t.extraData=a,e(a)):i("getBabelYHDChannelExtraData接口异常")},error:function(t){i(t)}})})}})})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.WX_6_6_7_THRESHOLD=void 0,e.isIphonex=function(){return n},e.adaptOrNot=s,e.adaptBottom=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},e=arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"appResize",a=0;s()&&(a=34,o&&e&&e.on&&e.on(i,t));return a};var a=i(85),n=a.runtimeEnv.isIphoneX(),o=(a.runtimeEnv.isJdApp,a.runtimeEnv.isWeChat);a.runtimeEnv.isQQ,a.runtimeEnv.isBestPay;function s(){return n}e.WX_6_6_7_THRESHOLD=641},,,,,,,function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(225));a=[i(1),i(25),i(6)],void 0===(n=function(t,e,i){var a,n=window.devicePixelRatio,s=window.screen.width*n,r=t(window);function l(e,i,a){var n,o,s,l,d,c;if(void 0!==e){n=e.height(),o=e.width();var u=e.offset();s=u.left,l=u.top}else n=r.height(),o=r.width(),s=t(window).scrollLeft(),l=t(window).scrollTop();return d=s+o,c=l+n,i&&(a?c+=i.bottom:(d+=i.right,c+=i.bottom)),{left:s,top:l,right:d,bottom:c}}function d(t,e,i){var a={};return a.top=Math.max(t.top,e.top),a.bottom=Math.min(t.bottom,e.bottom),i?a.bottom>=a.top:(a.left=Math.max(t.left,e.left),a.right=Math.min(t.right,e.right),a.bottom>=a.top&&a.right>=a.left)}function c(e,i){var a;e&&(a=e.each?e:t(e));var n={target:void 0,diff:void 0,verticalOnly:i,container:a};return function(t){return n.target=t,n.diff=this.settings.diff,function(t){var e=t.container,i=t.target,a=t.diff,n=t.verticalOnly,o=i.offset(),s=o.left,r=o.top,c={left:s,top:r,right:s+i.width(),bottom:r+i.height()},u=null,p=d(l(void 0,a,n),c,n);return e&&"window"!==e&&"document"!==e&&(u=l(e,a,n)),p&&u?d(u,c,n):p}(n)}}function u(t,e){var i=e||1,a=t,n=null;if(!t)return n;for(;i;)a.parentNode?(a=n=a.parentNode,i--):(n=null,i=0);return n}i.webpDetect({onSupport:function(){a=!0},feature:"lossy"});var p=function(e,i){this.selector=[],t.isPlainObject(e)&&(i=e),this.elements=null,this.settings=t.extend({diff:{right:0,bottom:700},reSelectOnCheck:!0,throttleTime:30,effectClass:"fadein",container:null,dataAttribute:"data-src",skipInvisible:!0,autoCheckAfterInit:!1,placeholder:"",rootSelector:".bab_opt_content",verticalOnly:!1},i||{}),this.imgJfsRegex=/\/s([\d^_]+)x([\d^_]+)_jfs\//i,this.imgJfsNoSizeRegex=/\/jfs\//i,this.imgForQ70Regex=/\.jpe{0,1}g\s*$/i,this.isPNGReg=/\.png\s*$/i,this.isGIFReg=/\.gif\s*$/i,this.imgForWebpRegex=/\.jpe{0,1}g\s*$/i,this.imgPngRegex=/\.png\s*$/i,this.imgQuanlityReducedJpgRegex=/(?:\!q\d{1,2})+\.jpe{0,1}g\s*$/i,this.isInViewPort=c(this.settings.container,this.settings.verticalOnly).bind(this),this.userSelector=e,this.root=document.querySelector(this.settings.rootSelector)};return p.prototype={constructor:p,init:function(t){var e=this;return t=t||e.userSelector,e.add(t),e.eventHandler=(0,o.default)(function(){e.check()},e.settings.throttleTime),e._attachEvents(),this},add:function(t){if("string"==typeof t)this.selector=this.selector.concat([t]);else{if(!Array.isArray(t))return;this.selector=this.selector.concat(t.filter(function(t){return"string"==typeof t}))}return this.settings.autoCheckAfterInit?(this._select(),this.check()):this.settings.reSelectOnCheck||this._select(),this},_select:function(){var e=this.settings.dataAttribute;0===this.selector.length?this.elements=t(this.root).find("img["+e+"]:not(["+e+'=""])'):this.elements=t(this.selector.join(","));var i=t("._lazyed");this.elements=this.elements.concat(i)},check:function(){this.settings.reSelectOnCheck&&this._select();for(var e=0,i=this.elements.length;e<i;e++){var a=t(this.elements[e]);this.settings.skipInvisible&&!a.is(":visible")||this.isInViewPort(a)&&(this.loadImg(a),[].splice.call(this.elements,e,1),e--,i--)}return this},loadImg:function(e,i){var a,n,o=this;if(i=i||e.data("callback"),e.hasClass("_lazyed"))a=e.data("url"),a=o._parseUrl(a,e),(n=new Image).onload=function(){e.attr("data-url",""),e.css({"background-image":'url("'+a+'")'}).removeClass("_lazyed").addClass("fadein")},n.onerror=function(){},n.src=a;else{var s=o.settings.dataAttribute;if(!(a=e.attr(s)))return void(i&&"function"==typeof i.success&&i.success(e));a=o._parseUrl(a,e);var r=new Image;r.onload=function(){e.attr("src",a),e[0].removeAttribute(o.settings.dataAttribute),e.height()>e.width()&&(e.addClass("ht_priority"),e.parent().addClass("c_ht_vertical_parent")),e.hasClass("_rm_parent_bg")&&function(t){for(var e=(t.getAttribute("data-parentlevel")||"1").split(","),i=e.length,a=0;a<i;a++){var n=e[a];if(n){var o=u(t,+n);o&&(o.style.background="none")}}}(e[0]),e.hasClass("waterfall")&&t(e[0]).parent().addClass("show"),i&&"function"==typeof i.success&&i.success(e),e.attr("llImgSuccess")},r.onerror=function(){i&&"function"==typeof i.error&&i.error(e)},r.src=a}},_parseUrl:function(t,e){var n=this,o=s/1242,r="",l=0,d=0;return t=function(t){if(i.isIphoneJdApp)return t;a&&n.imgForWebpRegex.test(t)&&(t+=".webp");return t}(t=function(t){!n.imgQuanlityReducedJpgRegex.test(t)&&n.imgForQ70Regex.test(t)&&(t+="!q70");return t}(t=function(t){if(n.isPNGReg.test(t))return t;var e=t.match(n.imgJfsRegex);if(e){if(l=parseInt(e[1]),d=parseInt(e[2]),l<200)return t;r="/s"+parseInt(l*o)+"x"+parseInt(d*o)+"_jfs/",t=t.replace(e[0],r)}return t}(t)))},_attachEvents:function(){return t(window).on("scroll touchmove resize",this.eventHandler),this},_detachEvents:function(){return t(window).off("scroll touchmove resize",this.eventHandler),this},pause:function(){if(!this._destroyed)return this._detachEvents(),this},resume:function(){if(!this._destroyed)return this._attachEvents(),this},destroy:function(){this.pause(),this.selector=[],this.settings=null,this.elements=null,this._destroyed=!0}},new p}.apply(e,a))||(t.exports=n)},,,,,,,,,,,function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(236)),s=i(53);a=[i(1),i(6),i(120),i(25)],void 0===(n=function(t,e,i,a){var n=e.isJdApp,r=e.isYhdApp,l=e.isWQUrl,d=(e.wxAppName,e.isYhdUrl),c=e.versionGreaterOrEqual,u=a.stringFormat,p=a.passParam,h=a.getParam,f="//h5.m.jd.com/WQSupport/transfer.html";return(0,s.adaptFunction)(o.default,function(t,i,a){var o="//h5.m.jd.com/active/download/download.html",s=i;if("1"==t)if(i=s,/sale.jd.com\//.test(s))i=n&&!/h5\//.test(s)?i.replace(/\/m\//,"/app/"):i.replace(/\/app\//,"/m/"),i=p(i);else if(i.indexOf("has_native=1")>-1)if(n){var m=i.match(/\/active\/(.*)\//);if(!(m=m||i.match(/\/activity\/preview\/(.*)\//)))return i=p(i);m=m[1];var v=h(i,"sourceType","h5"),g=h(i,"sourceValue","babel_node");i=u('openApp.jdMobile://virtual?params={"category":"jump","des":"babel","sourceType":"{1}","sourceValue":"{2}","activityId":"{0}"}',m,v,g)}else i=p(i);else i=p(i);else if("2"==t)if(n){var _=a.image||"",b=a.title||"";_&&(_=_.replace(/^(http(s)?:)?\/\//,"https://")),i=a.flt?u('openApp.jdMobile://virtual?params={"category":"jump","des":"productDetail","skuId":"{0}","sourceType":"h5","sourceValue":"{1}","flt":"{2}","clickUrl":"{3}","image":"{4}","title":"{5}"}',a.skuId,a.skuId,a.flt,a.clickUrl,_,b):u('openApp.jdMobile://virtual?params={"category":"jump","des":"productDetail","skuId":"{0}","sourceType":"h5","sourceValue":"{1}","clickUrl":"{2}","image":"{3}","title":"{4}"}',a.skuId,a.skuId,a.clickUrl,_,b)}else r?i=u('openApp.yhdMobile://virtual?params={"category":"jump","des":"productDetail","skuId":"{0}"}',a.skuId):(i=p("//item.m.jd.com/ware/view.action?wareId="+a.skuId+"&clickUrl="+encodeURIComponent(a.clickUrl)),l&&(i=p("//wqitem.jd.com/item/view?sku="+a.skuId+"&pps="+a.pps)),d&&(i=p("//item.m.yhd.com/"+a.skuId+".html")));else if("3"==t)n?i=u('openApp.jdMobile://virtual?params={"category":"jump","des":"jshopMain","shopId":"{0}","sourceType":"h5" ,"sourceValue":"double11_find","clickUrl":"{1}"}',s,a.clickUrl):r?i=u('openApp.yhdMobile://virtual?params={"category":"jump","des":"jshopMain","shopId":"{0}"}',s):(i=p("//shop.m.jd.com/?shopId="+s+(a.jumpTab?"&jumpTab="+a.jumpTab:"")+"&clickUrl="+encodeURIComponent(a.clickUrl)),l&&(i=p("//wq.jd.com/mshop/gethomepage?shopid="+s)),d&&(i=p("//search.m.yhd.com/search/sid"+s)));else if("4"==t)if(n){var y=Object.assign({category:"jump",des:"productList",sourceValue:"sourceValue_test",from:"search"},s);i="openApp.jdMobile://virtual?params="+JSON.stringify(y)}else{var w="//so.m.jd.com/ware/search.action?keyword="+s.keyWord+(s.clearBodyMaps?"&filt_type=productext2,b5v1":"");i=p(w),l&&(i=p("//wqsou.jd.com/search/searchn?sf=41&key="+s.keyWord)),d&&(i=p("//search.m.yhd.com/search/k"+s.keyWord))}else if("4-1"==t)n?i=u('openApp.jdMobile://virtual?params={"category":"jump","des":"productList","sourceType":"sourceType_test" ,"sourceValue":"sourceValue_test", "from":"category", "cid": "{0}", "levelFirst": "{1}", "levelSecond": "{2}"}',a.cid,a.levelFirst,a.levelSecond):(i=p("//so.m.jd.com/products/"+a.levelFirst+"-"+a.levelSecond+"-"+a.cid+".html"),l&&(i=p("//wqsou.jd.com/search/searchn?sf=41&key=catid_str,,"+a.cid)),d&&(i=p("//search.m.yhd.com/search/c"+a.cid+"-0/p1-s1")));else if("4-2"==t)i=n&&c("6.1.0")&&a?u('openApp.jdMobile://virtual?params={"category":"jump","des":"productList","activityId":"{0}","tip":"{1}","inlet":"{2}","from":"{3}","sourceType":"h5","sourceValue":"sourceValue_test"}',a.activityId,a.tip,a.intel,a.from):o;else if("5"==t)n?i=u('openApp.jdMobile://virtual?params={"category":"jump","des":"faxian_article","sourceType":"sourceType_test" ,"sourceValue":"sourceValue_test", "id": "{0}","clickUrl":"{1}"}',s,a.clickUrl):(i=p("//h5.m.jd.com/active/faxian/html/innerpage.html?id="+s+"&clickUrl="+encodeURIComponent(a.clickUrl)),l&&(i=p(f)));else if("6"==t)if(n){var C="";a.params&&(C=(C=(C=JSON.stringify(a.params)).match(/\{(.*)\}/)[1])?","+C:""),i=u('openApp.jdMobile://virtual?params={"category":"jump","des":"{0}","sourceType":"h5" ,"sourceValue":"sourceValue_test"'+C+"}",s)}else i=p(a.url),l&&(e.isWeChat?i="seckill"===a.des||"miaosha"===a.des?"//wqs.jd.com/portal/wx/seckill/index.shtml":"couponCenter"===a.des?"//wqs.jd.com/my/coupon/coupon_center_wx_v2.html":p(f):e.isQQ&&(i="seckill"===a.des||"miaosha"===a.des?"//wqs.jd.com/portal/wx/seckill/index.shtml":"couponCenter"===a.des?"//wqs.jd.com/my/coupon/coupon_center_wx_v2.html":p(f)));else if("7"==t)if(n){var x=a.modulename;i="JDReactNewProduct"==x?c("6.1.0")?'openApp.jdMobile://virtual?params={"category":"jump","des":"jdreactcommon","modulename":"JDReactNewProduct","appname":"JDReactNewProduct","ishidden":true,"param":{}}':o:c("5.7.0")?'openApp.jdMobile://virtual?params={"category":"jump","des":"jdreactcommon","modulename":"JDReactCooking","appname":"JDReactCooking","ishidden":true,"param":{}}':"//cooking.jd.com/m/"}else i=p(l?f:"//cooking.jd.com/m/");else"8"==t?c("6.1.0")?i=n&&a?u('openapp.jdmobile://virtual?params={"category":"jump","des":"worthbuy_inventory_detail","id":"{0}","clickUrl":"{1}"}',a.id,a.clickUrl):o:c("6.0.0")&&(i=n?u('openapp.jdmobile://virtual?params={"category":"jump","des":"worthbuy_inventory_detail","id": "{0}"}',s):p("//h5.m.jd.com/active/youpin/qingdan/index.html?id="+s)):"9"==t?i=n&&c("5.5.0")?u('openapp.jdmobile://virtual?params={"category":"jump","des":"album_detail","id": "{0}","clickUrl":"{1}"}',s,a.clickUrl):p("//h5.m.jd.com/active/youpin/goods/ablum.html?id="+s):"10"==t?i=n&&c("5.2.0")?u('openapp.jdmobile://virtual?params={"category":"jump","des":"inventoryDetail","sourceValue":"sourceValue_test","sourceType":"sourceType_test","id": "{0}","clickUrl":"{1}"}',s,a.clickUrl):p("//h5.m.jd.com/active/faxian/inventory/index.html?id="+s+"&clickUrl="+encodeURIComponent(a.clickUrl)):"11"==t?i=n?u('openapp.jdmobile://virtual?params={"category":"jump","des":"worthbuy_list","tabId":"{0}"}',s):o:"12"==t?i=n?u('openapp.jdmobile://virtual?params={"category":"jump","des":"album_list","tabId":"{0}"}',s):o:"14"==t?i=n&&c("6.1.0")&&a?u('openapp.jdmobile://virtual?params={"category":"jump","des":"worthbuy_tag","tagId":"{0}","tagName":""}',a.tagId):o:"15"==t?i=n&&c("6.1.0")&&a?u('openapp.jdmobile://virtual?params={"category":"jump","des":"worthbuy_author","authorId":"{0}"}',a.authorId):o:"16"==t?a&&a.batchStr?i=n&&c("6.1.0")&&a?"iphone"==e.system?u('openapp.jdmobile://virtual?params={"category":"jump","des":"couponCenter","sourceType":"h5","sourceValue":"sourceValue_test","batchStr":"{0}","categoryId":"{1}"}',a.batchStr,a.categoryId):u('openapp.jdmobile://virtual?params={"category":"jump","des":"couponCenter","sourceType":"h5","sourceValue":"sourceValue_test","batchStr":"{0}","categoryId":{1}}',a.batchStr,a.categoryId):"//coupon.m.jd.com/center/getCouponCenter.action":n?i=u('openApp.jdMobile://virtual?params={"category":"jump","des":"couponCenter","sourceType":"h5","sourceValue":"sourceValue_test"}'):(i=p("//h5.m.jd.com/active/download/download.html"),l&&(i="//wqs.jd.com/my/coupon/coupon_center_wx_v2.html")):"17"==t?i=n&&c("6.1.0")&&a?u('openApp.jdMobile://virtual?params={"category":"jump","des":"airList","depCity":"{0}","depCityCode":"{1}","arrCity":"{2}","arrCityCode":"{3}","depDate":"{4}","returnDate":"{5}","international":"{6}","single":"{7}"}',a.depCity,a.depCityCode,a.arrCity,a.arrCityCode,a.depDate,a.returnDate,a.international,a.single):"//airtickets.jd.com/":"18"==t?i=n&&c("6.1.0")&&a?u('openApp.jdMobile://virtual?params={"category":"jump","des":"inventory_tag","tagid":"{0}","name":"{1}"}',a.tagid,a.name):o:"19"==t?i=n&&c("6.1.0")&&a?u('openapp.jdmobile://virtual?params={"category":"jump","des":"commune","subDes":"activitydetail","id":"{0}"}',a.id):o:"20"==t?n?i=u('openApp.jdMobile://virtual?params={"category":"jump","des":"videoBuy","sourceType":"sourceType_test" ,"sourceValue":"sourceValue_test", "id": "{0}"}',s):(i=p("//h5.m.jd.com/active/faxian/html/innerpage.html?id="+s),l&&(i=p(f))):"21"==t?i=n&&c("6.2.0")?u('openapp.jdmobile://virtual?params={"category":"jump","des":"Discovery","id":"{0}"}',s):o:"22-1"==t?i=n&&c("6.2.0")?u(' openApp.jdMobile://virtual?params={"category":"jump","des":"brandinner","brandId":"{0}","type":"0"}',s):o:"22-2"==t?i=n&&c("6.2.0")?u(' openApp.jdMobile://virtual?params={"category":"jump","des":"brandinner","brandId":"{0}","type":"1"}',s):p("//ms.m.jd.com/seckill/seckillBrandGoods?brandId="+s):"23"==t?i=n&&c("6.2.0")?u('openapp.jdmobile://virtual?params={"category":"jump","des":"rankrecommend","from":"babel","contentId":"{0}"}',s):p("//ranking.m.jd.com/rankElement/article?articleId="+s):"26"==t?i=n&&c("6.6.4")?u('openApp.jdMobile://virtual?params={"category":"jump","des":"outfit_detail","id":"{0}","testId":"{1}","channel":"{2}","isInstation":"{3}","isHideFloor":"{4}"}',a.id,a.testId,a.channel,a.isInstation,a.isHideFloor):p("//h5.m.jd.com/active/discovery-match-buy/index.html?id="+a.id+"&testId="+a.testId+"&channel="+a.channel+"&isInstation="+a.isInstation+"&isHideFloor="+a.isHideFloor):"27"==t?i="javscript:void(0)":"28"==t?i=n?u('openapp.jdmobile://virtual?params={"category":"jump","des":"jddjxy","sourceValue":"sourceValue_test","sourceType":"h5","from":"babel","themeId":"{0}","babelChannel":"{1},"needLogin":"0","innerIndex":"1","innerLink":"{2}"}',a.themeId,a.babelChannel,a.innerLink):o:"29"==t?i=n?u('openApp.jdMobile://virtual?params={"category":"jump","des":"VideoImmersion","id":"{0}","adid":"{1}","playtype":"5","referpageid":"{2}","projectid":"{3}","style":"2","modeid":"{4}"}',a.id,a.adid,a.referpageid,a.projectid,a.modeid):o:"mini"==t?i="javscript:void(0)":(i=p(i),l&&(i=p(f)));return i},"parseUrl")}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(i(52));function n(t){return t&&t.__esModule?t:{default:t}}var o={parseUrl:[n(i(237)).default]};e.default=(0,a.default)(o)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(i(6)),n=i(25);var o="javascript:void(0)";e.default=function(t,e){var i=t.parseUrl;a.default.isMiniUrl?Object.assign(t,{parseUrl:function(t,e,a){var s=function(t,e){return function(i){return t?("begin"===e?i=t+i:"end"===e?i+=t:i=t+i+t,i):i}}("'"),r=e,l="";switch(t){case"1":e=r,/sale.jd.com\//.test(r)&&(e=e.replace(/\/app\//,"/m/")),e=(0,n.passParam)(e);var d=(0,n.getQueryString)("isTabBarH5");if("true"==d&&e){0!==e.indexOf("http")&&(e="https:"+e);e="javascript:wxApp.jump('"+e+"', '"+JSON.stringify({type:"blankJump",value:null})+"')"}break;case"2":l=s((0,n.passParam)("//wqitem.jd.com/item/view?sku="+a.skuId));var c={type:"2",value:a.skuId,params:{storeId:a.storeId}};c=s(JSON.stringify(c)),e="javascript:wxApp.jump("+l+","+c+")";break;case"3":l=s((0,n.passParam)("//wq.jd.com/mshop/gethomepage?shopid="+r));var u={type:"3",value:r,venderId:a.venderId};u=s(JSON.stringify(u)),e="javascript:wxApp.jump("+l+","+u+")";break;case"4-1":case"4-2":case"4":var p={type:"search",value:a.keyWord};e="javascript:wxApp.jump('','"+JSON.stringify(p)+"')";break;case"27":var h={type:"27",value:a.skuId};h=s(JSON.stringify(h)),e="javascript:wxApp.jump("+o+","+h+")";break;case"mini":var f={type:"miniJump",value:a.transParam};f=s(JSON.stringify(f)),e="javascript:wxApp.jump("+o+","+f+")";break;case"mini_page":var m=a.plat,v=a.params;e="miniKepler"===m||"miniWq"===m?"baidu"===(0,n.getQueryString)("wxAppName")?"javascript:swan.webView.navigateTo({url:'"+v.wxUrl+"'})":"javascript:wx.miniProgram.navigateTo({url:'"+v.wxUrl+"'})":"javascript:wx.goto('"+v.wxUrl+"'";break;case"mini_group_buying_miao_pin":var g=a.params;e="javascript:wx.miniProgram.navigateTo({url:'"+g.url+"'})";break;default:e=i(t,e,a)}return e}}):e(t)}},,,function(t,e,i){"use strict";var a,n;a=[i(1)],void 0===(n=function(t){var e={winH:t(window).height(),scrollPage:[-1,-1,-1],isMpingload:!1,funArry:[],init:function(){"undefined"==typeof MPing?this._mpingLoad():(this.addTrackingBind(),this.isMpingload=!0)},_mpingLoad:function(){var t=this;_require(["//wl.jd.com/unify.min.js"],function(){if("undefined"!=typeof MPing&&(t.addTrackingBind(),t.isMpingload=!0,0!=t.funArry.length))for(var e=0;e<t.funArry.length;e++)t.funArry[e].func.apply(t,t.funArry[e].obj)})},_saveFun:function(t){t=t||"";var e=Array.prototype.slice.call(arguments);e=e.splice(1,e.length-1);var i={};i.func=t,i.obj=e,this.funArry.push(i)},_clickTracking:function(t){var e=new window.MPing.inputs.Click(t.event_id);for(var i in t=t||{})e[i]=t[i];e.updateEventSeries(),(new window.MPing).send(e)},_getUrl:function(t){return null==(t=t||"").match(/^(.+?\.html)/)?"no_url":t.match(/^(.+?\.html)/)[1]||""},_globalGetUrl:function(t){var e=(t=t||"").split("?")[0];return void 0===t.split("?")[1]?e:null===t.match(/wareId=+\w+/)?e:e+"?"+t.match(/wareId=+\w+/)},_cartTracking:function(t){var e,i,a=t.skuId||"";switch(t.type){case"add":e=t.event_id||"MProductdetail_Addtocart",i=new window.MPing.inputs.AddCart(e,a);break;case"remove":e=t.event_id||"Shopcart_Delete",i=new window.MPing.inputs.RmCart(e,a)}for(var n in t=t||{})i[n]=t[n];(new window.MPing).send(i)},addTrackingBind:function(){try{window.MPing.inputs.Click.attachEvent()}catch(t){}},globalPvTracking:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.isMpingload){var i=this._getUrl(window.location.href)||"",a=new window.MPing.inputs.PV;a.page_name=i,a.page_param=t,Object.assign(a,e),(new window.MPing).send(a)}else this._saveFun(this.globalPvTracking,i,e)},globalLabelTracking:function(e,i){var a=this,n=i||t("body");if(e=e||{},a.isMpingload){if(0!=n.find(".J_ping").length&&e.event_id){for(var o=e.event_id||"",s=e.id||"",r=a._globalGetUrl(window.location.href),l=(document.title||"title")+"_"+r,d=n.find(".J_ping"),c=0,u=d.length;c<u;c++){var p=d.eq(c),h=a._globalGetUrl(p.attr("href")),f=null===h?"url":h,m=(p.attr("report-dateid")||"ID")+"_"+f,v=e.event_level||"";p.attr("report-eventid",o),p.attr("report-eventparam",m),p.attr("report-pagename",l),p.attr("report-pageparam",s),p.attr("report-eventlevel",v)}a.addTrackingBind()}}else a._saveFun(a.globalLabelTracking,e,n)},globalSlideTracking:function(e){var i,a,n=this,o=!1,s="";e=e||{},n.isMpingload?(t(window).on("touchstart",function(t){if(t.touches.length){var e=t.touches[0];i=e.pageY}}),t(window).on("touchmove",function(t){if(t.touches.length){var e=t.touches[0];a=e.pageY-i}}),t(window).on("touchend",function(){if(Math.abs(a)>0&&(t(window).scrollTop()>=n.winH&&t(window).scrollTop()<2*n.winH&&n.scrollPage[0]<0?(s="Babel_Screen2",o=!0,n.scrollPage[0]++):t(window).scrollTop()>=5*n.winH&&t(window).scrollTop()<6*n.winH&&n.scrollPage[1]<0?(s="Babel_Screen6",o=!0,n.scrollPage[1]++):t(window).scrollTop()>=9*n.winH&&t(window).scrollTop()<10*n.winH&&n.scrollPage[2]<0&&(s="Babel_Screen10",o=!0,n.scrollPage[2]++)),o)try{var i=n._getUrl(window.location.href);e.event_id=s,e.page_name=i,e.page_param="",n._clickTracking(e),o=!1}catch(t){}})):n._saveFun(n.globalSlideTracking,e)},globalOverdueTracking:function(t){var e=this;if(t=t||{},e.isMpingload)try{var i=e._getUrl(window.location.href);t.event_id="Babel_OutOfTime",t.page_name=i,t.page_param="",e._clickTracking(t)}catch(t){}else e._saveFun(e.globalOverdueTracking,t)},globalSimulationClick:function(t){var e=this;if(t=t||{},e.isMpingload)try{var i=e._getUrl(window.location.href);t.page_name=i,e._clickTracking(t)}catch(t){}else e._saveFun(e.globalSimulationClick,t)},globalCartTracking:function(t){var e=this;if(t=t||{},e.isMpingload)try{var i=e._getUrl(window.location.href);t.page_name=i,e._cartTracking(t)}catch(t){}else e._saveFun(e.globalCartTracking,t)}};return e.init(),e}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(1),i(6),i(126),i(25),i(127)],void 0===(n=function(t,e,i,a){var n=location.protocol,o={configData:null,configOption:{},_init:function(){t("body").toast()},_success:function(){var t=o;e.isJdApp||e.isYhdApp?t._setAppShare():(e.isWeChat||e.isQQ)&&t._setWxShare()},_error:function(){t("body").toast("show",{content:"网络飞到外太空！"})},_operateData:function(e){var i=o;i._dataMerge(e),"0"===e.subCode?i._success(e):t("body").toast("show",{content:"网络跑累了，请稍候再来！"})},_judgeHeadUrl:function(t){var e=t.match(/^[/]{2}/g);return null!=e&&0!=e.length},_dataMerge:function(e){var i=o,n=e.sharingUrl,s=e.sharingImgFile;return e.sharingUrl=a.checkUrlProtocol(n),e.sharingImgFile=a.checkUrlProtocol(s),i.configData=t.extend({},i.configData,e),i},_setShareConfig:function(i){var a=t.extend({},{sharingTitle:"",sharingImgFile:n+"//m.360buyimg.com/babel/jfs/t2146/59/1639581949/6519/6f836d0b/56ceb5baN90d3de13.png",sharingIntro:" ",sharingUrl:location.href,imgW:"240",imgH:"240",incentiveBizType:"",incentiveBizId:""},i);e.isWeChat||e.isQQ?this.configOption={img_url:a.sharingImgFile,img_width:a.imgW,img_height:a.imgH,link:a.sharingUrl,desc:a.sharingIntro,title:a.sharingTitle}:e.isJdApp&&(this.configOption={title:a.sharingTitle,description:a.sharingIntro,url:a.sharingUrl,img:a.sharingImgFile,channel:"Wxfriends",needCallBack:!0,incentiveBizType:a.incentiveBizType,incentiveBizId:a.incentiveBizId})},_needCallBack:function(t){return"function"==typeof window.jdappShareRes&&"boolean"==typeof t?t:"function"==typeof window.jdappShareRes&&"boolean"!=typeof t&&this.configOption.needCallBack},_setAppShare:function(i){var n,o=this,s=o._needCallBack(i),r=s?"Y":"N",l=!e.versionGreaterOrEqual("6.2.0"),d=e.versionGreaterOrEqual("7.0.2"),c={title:o.configData.sharingTitle,description:o.configData.sharingIntro,url:o.configData.sharingUrl,img:o.configData.sharingImgFile,needCallBack:!1};if(o.configOption=t.extend({},o.configOption,c),o.configOption.url=encodeURIComponent(o.configOption.url),o.configOption.img=encodeURIComponent(o.configOption.img),e.isIphone){if(o.configOption.channel={Wxfriends:"WeChat_Friend",Wxmoments:"WeChat_FriendTimeline",Sinaweibo:"Weibo",QQfriends:"QQFriend_SHARE_CLIENT",QQzone:"QQZone_SHARE_CLIENT",Moreshare:""}[o.configOption.channel],e.isJdApp){var u={category:"jump",des:"share",type:"111",title:o.configOption.title,content:o.configOption.description,imageUrl:o.configOption.img,shareUrl:o.configOption.url,iconUrl:o.configOption.img,timeline_title:o.configOption.title,incentiveBizType:o.configOption.incentiveBizType,incentiveBizId:o.configOption.incentiveBizId,isCallBack:r,shareActionType:"S"};if(d){var p=o.configData,h=p.mpId,f=p.mpPath,m=p.mpIconUrl,v=p.mpType;h&&f&&(u.mpId=h,u.mpPath=f,u.mpIconUrl=a.widthSchema(m),u.mpType=v)}n="openapp.jdmobile://virtual?params="+JSON.stringify(u)}else e.isYhdApp&&(n='openapp.yhdmobile://communication?params={"action":"syncShareData","title":"'+o.configOption.title+'","content":"'+o.configOption.description+'","shareUrl":"'+o.configOption.url+'","iconUrl":"'+o.configOption.img+'"}');location.href=n}else if(e.isAndroid){var g={title:(c={title:o.configOption.title,desc:o.configOption.description,url:decodeURIComponent(o.configOption.url),imgUrl:decodeURIComponent(o.configOption.img),incentiveBizType:o.configOption.incentiveBizType,incentiveBizId:o.configOption.incentiveBizId,callback:r}).title,content:c.desc,iconUrl:c.imgUrl,shareUrl:c.url,incentiveBizType:l?"":c.incentiveBizType,incentiveBizId:l?"":c.incentiveBizId,shareActionType:"S",channel:"",timeline_title:"",qrparam:"",callback:s?c.callback:null,clickcallback:null,eventId:""};if(d){var _=o.configData,b=_.mpId,y=_.mpPath,w=_.mpIconUrl,C=_.mpType;b&&y&&(g.mpId=b,g.mpPath=y,g.mpIconUrl=a.widthSchema(w),g.mpType=C)}window.shareHelper&&window.shareHelper.initShare(JSON.stringify(g))}},_setWxShare:function(){var t=o;"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",t._wxShare,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",t._wxShare),document.attachEvent("onWeixinJSBridgeReady",t._wxShare)):t._wxShare()},_wxShare:function(){var e=o,i={img_url:e.configData.sharingImgFile,img_width:"240",img_height:"240",link:location.href,desc:e.configData.sharingIntro,title:e.configData.sharingTitle};e.configOption=t.extend({},e.configOption,i),WeixinJSBridge.on("menu:share:appmessage",function(){WeixinJSBridge.invoke("sendAppMessage",e.configOption,function(){})}),WeixinJSBridge.on("menu:share:timeline",function(){WeixinJSBridge.invoke("shareTimeline",e.configOption,function(){})})},directAnalysisData:function(t,e){var i=o;i._setShareConfig(e),i._dataMerge(t),i._success(t)},requestData:function(e,a){var s=o;s._setShareConfig(a);var r=t.extend({},{url:n+"//ngw.m.jd.com/client.action?functionId=babelActivityGetShareInfo&client=wh5&clientVersion=1.0.0",data:{activityId:"",pageId:""},success:s._operateData,error:s._error},e);i(r)}};return o._init(),{directAnalysisData:o.directAnalysisData,requestData:o.requestData}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(1)],void 0===(n=function(t){var e=location.protocol+"//res.wx.qq.com/open/js/jweixin-1.2.0.js",i=["onMenuShareTimeline","onMenuShareAppMessage","hideOptionMenu","showOptionMenu","closeWindow"],a="url",n="obj";function o(){this.isInWeixin=o.isInWeixin(),this.laterConfig=null,this.jssdkLoaded=!1,this.wx=null,this.isInWeixin&&this._init()}return o.prototype={_init:function(){var t=this;_require([e],function(e){t.jssdkLoaded=!0,t.wx=e,t.laterConfig&&t._doShareBuilder(t.laterConfig[0],t.laterConfig[1])})},_doShareBuilder:function(t,e){switch(t.type){case a:this._configFromUrl(t.url,e);break;case n:default:this._configFromObj(t.payload,e)}},_configFromUrl:function(e,a){var n=this;t.getJSON(e,function(t){if(1==t.rtn_code){var e=t.data;n.wx.config({debug:!1,appId:e.appId,timestamp:e.timestamp,nonceStr:e.nonceStr,signature:e.signature,jsApiList:i}),n._doShare(a)}})},_configFromObj:function(t,e){t&&(this.wx.config({debug:!1,appId:t.appId,timestamp:t.timestamp,nonceStr:t.nonceStr,signature:t.signature,jsApiList:i}),this._doShare(e))},_doShare:function(t){var e=this;this.wx.ready(function(){try{e.wx.checkJsApi({jsApiList:["onMenuShareTimeline","onMenuShareAppMessage"],success:function(){}})}catch(t){}e.onMenuShareTimeline(t),e.onMenuShareAppMessage(t),e.wx.showOptionMenu()})},onMenuShareTimeline:function(t){this.wx.onMenuShareTimeline({title:t.title,desc:t.desc,link:t.link,imgUrl:t.imgUrl,success:function(){"function"==typeof t.success&&t.success()},cancel:function(){"function"==typeof t.cancel&&t.cancel()}})},onMenuShareAppMessage:function(t){this.wx.onMenuShareAppMessage({title:t.title,desc:t.desc,link:t.link,imgUrl:t.imgUrl,type:"",dataUrl:"",success:function(){"function"==typeof t.success&&t.success()},cancel:function(){"function"==typeof t.cancel&&t.cancel()}})},shareMenu:function(t,e){this.isInWeixin&&t&&(this.jssdkLoaded?this._doShareBuilder.apply(this,arguments):this.laterConfig=[t,e])}},o.isInWeixin=function(){return"micromessenger"==navigator.userAgent.toLowerCase().match(/MicroMessenger/i)},o.instance=new o,o.instance}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(1)],void 0===(n=function(t){var e={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},i={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};return function(a,n,o){var s;o=t.extend({},i,o);var r=/(.)^/,l=/\\|'|\r|\n|\t|\u2028|\u2029/g,d=new RegExp([(o.escape||r).source,(o.interpolate||r).source,(o.evaluate||r).source].join("|")+"|$","g"),c=0,u="__p+='";a.replace(d,function(t,i,n,o,s){return u+=a.slice(c,s).replace(l,function(t){return"\\"+e[t]}),n&&(u+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),o&&(u+="';\n"+o+"\n__p+='"),c=s+t.length,t}),u+="';\n",o.variable||(u="with(obj||{}){\n"+u+"}\n"),u="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+u+"return __p;\n";try{s=new Function(o.variable||"obj","_",u)}catch(t){throw t.source=u,t}if(n)return s(n,{});var p=function(t){return s.call(this,t,{})};return p.source="function("+(o.variable||"obj")+"){\n"+u+"}",p}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a;void 0===(a=function(){return function(t){var e=t[0].getContext("2d"),i=t[0].width,a=t[0].height,n=t.offset();e.textBaseline="top",this.setfont=function(t){e.font=t||"12px  Verdana, Geneva, sans-serif  "},this.setLineWidth=function(t){e.lineWidth=t||20},this.getData=function(){return e.getImageData(0,0,i,a).data},this.width=function(){return i},this.height=function(){return a},this.resetOffset=function(){n=t.offset()},$(window).resize(function(){n=t.offset()}),this.getCanvasPoint=function(t,e){return{x:t-n.left,y:e-n.top}},this.clearRect=function(t){return e.clearRect(t.x,t.y,10,10),e.beginPath(),e.globalCompositeOperation="destination-out",e.fillStyle="rgba(0,0,234,1)",e.arc(t.x,t.y,10,0,2*Math.PI,!0),e.fill(),e.closePath(),e.globalCompositeOperation="source-over",this},this.clear=function(){return e.clearRect(0,0,i,a),this},this.drawLine=function(t,i){return e.beginPath(),e.moveTo(t.x,t.y),e.lineTo(i.x,i.y),e.stroke(),this},this.drawRect=function(t,i,a){var n=i.x-t.x,o=i.y-t.y;a?e.fillRect(t.x,t.y,n,o):e.strokeRect(t.x,t.y,n,o)},this.drawCircle=function(t,i,a){e.beginPath(),e.arc(t.x,t.y,i,0,2*Math.PI,!0),a?e.fill():e.stroke()},this.drawPoints=function(t){e.beginPath(),e.moveTo(t[0].x,t[0].y);for(var i=1;i<t.length;i++)e.lineTo(t[i].x,t[i].y);return e.stroke(),this},this.drawText=function(t,n,o,s){var r=e.measureText(t),l=(i-r.width)/2,d=(a-(parseInt(s)||12))/2;e.font=s,o?e.fillText(t,n.x||l,n.y||d):e.strokeText(t,n.x||l,n.y||d)},this.drawEllipse=function(t,i,a){var n=Math.abs(i.x-t.x),o=Math.abs(i.y-t.y),s=Math.sqrt(n*n,o*o);e.save(),e.translate(t.x,t.y),e.scale(n/s,o/s),e.beginPath(),e.arc(0,0,s,0,2*Math.PI,!0),e.closePath(),a?e.fill():e.stroke(),e.restore()},this.drawImage=function(n,o){var s=new Image;try{s.setAttribute("crossOrigin","anonymous"),s.onload=function(){o?e.drawImage(s,o.x,o.y,o.width,o.height,0,0,i,a):e.drawImage(s,0,0,i,a),localStorage.setItem("savedImageData",t[0].toDataURL("pic/png"))},s.src=n}catch(t){}(s.complete||void 0===s.complete)&&(s.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",s.src=n)},this.penWidth=function(t){return arguments.length?(e.lineWidth=t,this):e.lineWidth},this.penColor=function(t){return arguments.length?(e.strokeStyle=t,e.fillStyle=t,this):e.strokeStyle},this.penOpacity=function(t){return arguments.length?(e.globalAlpha=t,this):e.globalAlpha},this.fontSize=function(t){return arguments.length?(e.font=t+"px Verdana, Geneva, sans-serif",this):e.fontSize},this.savePen=function(){return e.save(),this},this.restorePen=function(){return e.restore(),this}}}.call(e,i,e,t))||(t.exports=a)},function(t,e,i){"use strict";var a,n;a=[i(4)],void 0===(n=function(t){return function(e,i){return t.render(e,i)}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a;!function(t){t&&t.__esModule}(i(3));!function(n){function o(t,e){var i=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(i>>16)<<16|65535&i}function s(t,e,i,a,n,s){return o(function(t,e){return t<<e|t>>>32-e}(o(o(e,t),o(a,s)),n),i)}function r(t,e,i,a,n,o,r){return s(e&i|~e&a,t,e,n,o,r)}function l(t,e,i,a,n,o,r){return s(e&a|i&~a,t,e,n,o,r)}function d(t,e,i,a,n,o,r){return s(e^i^a,t,e,n,o,r)}function c(t,e,i,a,n,o,r){return s(i^(e|~a),t,e,n,o,r)}function u(t,e){var i,a,n,s,u;t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;var p=1732584193,h=-271733879,f=-1732584194,m=271733878;for(i=0;i<t.length;i+=16)a=p,n=h,s=f,u=m,h=c(h=c(h=c(h=c(h=d(h=d(h=d(h=d(h=l(h=l(h=l(h=l(h=r(h=r(h=r(h=r(h,f=r(f,m=r(m,p=r(p,h,f,m,t[i],7,-680876936),h,f,t[i+1],12,-389564586),p,h,t[i+2],17,606105819),m,p,t[i+3],22,-1044525330),f=r(f,m=r(m,p=r(p,h,f,m,t[i+4],7,-176418897),h,f,t[i+5],12,1200080426),p,h,t[i+6],17,-1473231341),m,p,t[i+7],22,-45705983),f=r(f,m=r(m,p=r(p,h,f,m,t[i+8],7,1770035416),h,f,t[i+9],12,-1958414417),p,h,t[i+10],17,-42063),m,p,t[i+11],22,-1990404162),f=r(f,m=r(m,p=r(p,h,f,m,t[i+12],7,1804603682),h,f,t[i+13],12,-40341101),p,h,t[i+14],17,-1502002290),m,p,t[i+15],22,1236535329),f=l(f,m=l(m,p=l(p,h,f,m,t[i+1],5,-165796510),h,f,t[i+6],9,-1069501632),p,h,t[i+11],14,643717713),m,p,t[i],20,-373897302),f=l(f,m=l(m,p=l(p,h,f,m,t[i+5],5,-701558691),h,f,t[i+10],9,38016083),p,h,t[i+15],14,-660478335),m,p,t[i+4],20,-405537848),f=l(f,m=l(m,p=l(p,h,f,m,t[i+9],5,568446438),h,f,t[i+14],9,-1019803690),p,h,t[i+3],14,-187363961),m,p,t[i+8],20,1163531501),f=l(f,m=l(m,p=l(p,h,f,m,t[i+13],5,-1444681467),h,f,t[i+2],9,-51403784),p,h,t[i+7],14,1735328473),m,p,t[i+12],20,-1926607734),f=d(f,m=d(m,p=d(p,h,f,m,t[i+5],4,-378558),h,f,t[i+8],11,-2022574463),p,h,t[i+11],16,1839030562),m,p,t[i+14],23,-35309556),f=d(f,m=d(m,p=d(p,h,f,m,t[i+1],4,-1530992060),h,f,t[i+4],11,1272893353),p,h,t[i+7],16,-155497632),m,p,t[i+10],23,-1094730640),f=d(f,m=d(m,p=d(p,h,f,m,t[i+13],4,681279174),h,f,t[i],11,-358537222),p,h,t[i+3],16,-722521979),m,p,t[i+6],23,76029189),f=d(f,m=d(m,p=d(p,h,f,m,t[i+9],4,-640364487),h,f,t[i+12],11,-421815835),p,h,t[i+15],16,530742520),m,p,t[i+2],23,-995338651),f=c(f,m=c(m,p=c(p,h,f,m,t[i],6,-198630844),h,f,t[i+7],10,1126891415),p,h,t[i+14],15,-1416354905),m,p,t[i+5],21,-57434055),f=c(f,m=c(m,p=c(p,h,f,m,t[i+12],6,1700485571),h,f,t[i+3],10,-1894986606),p,h,t[i+10],15,-1051523),m,p,t[i+1],21,-2054922799),f=c(f,m=c(m,p=c(p,h,f,m,t[i+8],6,1873313359),h,f,t[i+15],10,-30611744),p,h,t[i+6],15,-1560198380),m,p,t[i+13],21,1309151649),f=c(f,m=c(m,p=c(p,h,f,m,t[i+4],6,-145523070),h,f,t[i+11],10,-1120210379),p,h,t[i+2],15,718787259),m,p,t[i+9],21,-343485551),p=o(p,a),h=o(h,n),f=o(f,s),m=o(m,u);return[p,h,f,m]}function p(t){var e,i="",a=32*t.length;for(e=0;e<a;e+=8)i+=String.fromCharCode(t[e>>5]>>>e%32&255);return i}function h(t){var e,i=[];for(i[(t.length>>2)-1]=void 0,e=0;e<i.length;e+=1)i[e]=0;var a=8*t.length;for(e=0;e<a;e+=8)i[e>>5]|=(255&t.charCodeAt(e/8))<<e%32;return i}function f(t){var e,i,a="";for(i=0;i<t.length;i+=1)e=t.charCodeAt(i),a+="0123456789abcdef".charAt(e>>>4&15)+"0123456789abcdef".charAt(15&e);return a}function m(t){return unescape(encodeURIComponent(t))}function v(t){return function(t){return p(u(h(t),8*t.length))}(m(t))}function g(t,e){return function(t,e){var i,a,n=h(t),o=[],s=[];for(o[15]=s[15]=void 0,n.length>16&&(n=u(n,8*t.length)),i=0;i<16;i+=1)o[i]=909522486^n[i],s[i]=1549556828^n[i];return a=u(o.concat(h(e)),512+8*e.length),p(u(s.concat(a),640))}(m(t),m(e))}function _(t,e,i){return e?i?g(e,t):function(t,e){return f(g(t,e))}(e,t):i?v(t):function(t){return f(v(t))}(t)}void 0===(a=function(){return _}.call(e,i,e,t))||(t.exports=a)}()},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(12),n=s(i(16)),o=s(i(31));function s(t){return t&&t.__esModule?t:{default:t}}e.default=(0,a.wqChannel)(function(t){Object.assign(t,{getExtPin:function(t,e){var i=e.hasPerData;if(!i||"1"!==i)return Promise.reject("no getExtPin");var a=n.default.getBabelUrlDev2Release(o.default.functionIds.channelExtraData),s=t.couponData,r={activityId:e.encodeActivityId,riskParam:s.formatCouponData,pageId:e.pageId,transParam:e.transParam};r=JSON.stringify(r);var l=n.default.getBabelUrlParam(r);return new Promise(function(e,i){$.ajax({url:a,data:l,dataType:"jsonp",success:function(a){"0"===a.code?"0"===a.subCode&&(t.extraData=a,e(a)):i("getBabelChannelExtraData接口异常")},error:function(t){i(t)}})})}})})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(i(52)),n=r(i(249)),o=r(i(250)),s=r(i(251));function r(t){return t&&t.__esModule?t:{default:t}}var l={config:[o.default,n.default,s.default]};e.default=(0,a.default)(l)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(12),n=function(t){return t&&t.__esModule?t:{default:t}}(i(16)),o=i(6);e.default=(0,a.wqChannel)(function(t){Object.assign(t.functionIds,{getBabelProductPaged:n.default.getBabelUrlDev2Release(o.isPreview?"getPreviewProductPaged4Wq":"getBabelProductPaged4Wq"),queryWindowCoupon:"queryWindowCoupon4Wq",channelExtraData:o.isPreview?"getPreviewChannelExtraData4Wq":"getBabelChannelExtraData4Wq"}),Object.assign(t.outerJumpUrl,{panoramaHotspot:"//h5.m.jd.com/wq/dev/2xtoSqbHts1EpeDqSiZweCcS5JDX/index.html"+(o.isPreview?"?isPreview=1&":"?")})})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(12);e.default=(0,a.yhdChanel)(function(t){Object.assign(t.functionIds,{getBabelProductPaged:"//couponsta.yhd.com/getBabelProductPaged4Yhd?client=wh5&clientVersion=1.0.0"}),Object.assign(t,{yhd:{coinExchangeCouponUrl:"//channel.m.yhd.com/api/ajaxGenerateCoinCoupon.do",financeCouponUrl:"//coupon.yhd.com/couponCenter/financereceive.do",freeCouponUrl:"//channel.m.yhd.com/api/ajaxGenerateCoupon.do"}})})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(12),n=function(t){return t&&t.__esModule?t:{default:t}}(i(16)),o=i(6);e.default=(0,a.miniChannel)(function(t){Object.assign(t.functionIds,{getBabelProductPaged:n.default.getBabelUrlDev2Release("getBabelProductPaged4MiniWq"),queryWindowCoupon:"queryWindowCoupon4MiniWq",queryPanoramaHotspot:"queryPanoramaHotspot4MiniWq",channelExtraData:"getBabelChannelExtraData4MiniWq"}),Object.assign(t.categoryReqParam,{reqSrc:o.isWxApp?"miniWq":"miniKepler"})})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(12),n=function(t){return t&&t.__esModule?t:{default:t}}(i(16));e.default=(0,a.miniChannel)(function(t){Object.assign(t,{getExtPin:function(t,e){var i=e.hasPerData;if(!i||"1"!==i)return Promise.reject("no getExtPin");var a=n.default.getBabelUrlDev2Release(t.runtimeEnv.isWxApp?"getBabelChannelExtraData4MiniWq":"getBabelChannelExtraData"),o=t.couponData,s={activityId:e.encodeActivityId,riskParam:o.formatCouponData,pageId:e.pageId,transParam:e.transParam};s=JSON.stringify(s);var r=n.default.getBabelUrlParam(s);return new Promise(function(e,i){$.ajax({url:a,data:r,dataType:"json",type:"POST",xhrFields:{withCredentials:!0},success:function(a){"0"===a.code?"0"===a.subCode&&(t.extraData=a,e(a)):i("getBabelChannelExtraData接口异常")},error:function(t){i(t)}})})}})})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ASSET_CATEGORY=void 0;var a=function(t){return t&&t.__esModule?t:{default:t}}(i(90));e.default=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;e=Object.assign({},s,e);var i=(t={},(0,a.default)(t,o.IMG,{}),(0,a.default)(t,o.JS,{}),(0,a.default)(t,o.CSS,{}),(0,a.default)(t,o.XHR,{}),(0,a.default)(t,o.CACHE,{}),t),r=null,l=function(){try{n.getEntriesByType("resource").forEach(function(t){var a=t.name,n=t.initiatorType,s=t.transferSize,r=t.encodedBodySize;0===s&&r>0&&!a.match(new RegExp(e.cacheIgnore))?i[o.CACHE][a]=t:"img"!=n&&"css"!=n||a.match(new RegExp(e.imgIgnore))?"link"!=n||a.match(new RegExp(e.cssIgnore))?"script"!=n||a.match(new RegExp(e.jsIgnore))?"xmlhttprequest"!=n||a.match(new RegExp(e.xhrIgnore))||(i[o.XHR][a]=t):i[o.JS][a]=t:i[o.CSS][a]=t:i[o.IMG][a]=t})}catch(t){console.warn(t)}};return{start:function(){n&&n.getEntries&&(r&&(clearTimeout(r),r=null),function t(){r=setTimeout(function(){l(),t()},e.interval)}())},report:function(){var t={};return Object.keys(i).forEach(function(e){t[e]=(Object.keys(i[e]).reduce(function(t,a){var n=i[e][a],o=n.transferSize,s=n.encodedBodySize,r=t+(o>0?o:s);return isNaN(r)?t:r},0)/1024).toFixed(3)+""}),t},stop:function(){clearTimeout(r),r=null}}};var n=window.performance,o=e.ASSET_CATEGORY={IMG:"img",JS:"js",CSS:"css",XHR:"xhr",CACHE:"cache"},s={interval:250,imgIgnore:null,jsIgnore:null,cssIgnore:null,xhrIgnore:null,cacheIgnore:null}},function(t,e,i){"use strict";var a,n;a=[i(1),i(6),i(24),i(86),i(42)],void 0===(n=function(t,e,i,a,n){var o={isLoadData:!1,init:function(){var t=e.isAndroidJdAppGte500||e.isIphoneJdAppGte500;this.jdappV5=t},addCartLayer:function(a){var n=t("#J_babCartLayer"),o=n.length>0;return 0!=n.length||this.jdappV5||(o=!0,t("#J_babCartLayer").on("click",function(){var t=e.protocol+"//p.m.jd.com/cart/cart.action";e.isWQUrl&&(t=e.protocol+"//wqs.jd.com/my/cart/jdshopcart.shtml"),e.isYhdUrl&&(t=e.protocol+"//cart.m.yhd.com/cart/showCart.do"),t=i.passParam(t),setTimeout(function(){if(e.isJdApp||e.isYhdApp){var a;e.isJdApp?a='openApp.jdMobile://virtual?params={"category":"jump","des":"cartB","skuId":0,"skuNum":0}':e.isYhdApp&&(a='openApp.yhdMobile://virtual?params={"category":"jump","des":"cartB","skuId":0,"skuNum":0}');try{i.jumpLink(a)}catch(e){location.href=t}}else location.href=t},200)})),a&&a(),o},addCartItem:function(o,s,r){var l=this;if(!l.isLoadData)if(l.isLoadData=!0,e.isWQUrl)l.addCartItemInWQ(o,s,r);else{var d=e.protocol+"//m.jd.com/cart/add.json";d=a.parFormatURL(d);var c={wareId:o,num:1,actId:1};t.ajax({url:d,xhrFields:{withCredentials:!0},data:c,dataType:"json",success:function(t){if(t.login&&"0"===t.login)i.goLogin();else if(t.cartJson&&"0"==t.cartJson.resultCode){var e=t.cartJson.Num;l.findValueOfKey.call(t,"Id",o)?(e&&"number"==typeof e&&l.setCartSkuNum(e),s&&s()):r&&r()}else r&&r()},error:function(){r&&r()},beforeSend:function(){n.show()},complete:function(){l.isLoadData=!1,n.hide()}})}},addCartItemInWQ:function(o,s,r){var l=this,d=i.cookie,c=e.protocol+"//wq.jd.com/deal/mshopcart/addcmdy";c=a.parFormatURL(c);var u=d.get("wq_skey");u=u||"";var p={commlist:o+",,1,"+o+",1,0,0",type:0,locationid:"19-1607-3155",action:0,g_tk:l.hashTime33(u)};t.ajax({url:c,data:p,dataType:"jsonp",success:function(t){if(t.errId&&"13"===t.errId){var e=encodeURIComponent(window.location.href),i=t.nextUrl+e;window.location.href=i}else if(t.errId&&"0"===t.errId){var a=t.cart.mainSkuNum;a?(l.setCartSkuNum(a),s&&s()):r&&r()}else r&&r()},error:function(){r&&r()},beforeSend:function(){n.show()},complete:function(){l.isLoadData=!1,n.hide()}})},hashTime33:function(t){for(var e=0,i=(t=t||"").length,a=5381;e<i;++e)a+=(a<<5)+t.charAt(e).charCodeAt();return 2147483647&a},setCartSkuNum:function(a){if(this.jdappV5){if("android"===e.system)window.AndroidNavi&&window.AndroidNavi.refreshCart();else if("iphone"===e.system){var n=i.getHeaderIphoneUrl({action:"sh_refreshCart"});location.href=n,i.jumpLink(n)}}else{var o=t("#J_babCartLayer");if(0!=o.length)if(a>0){var s=a>99?"99+":a;o.find(".num").text(s),o.find(".num").show()}else o.find(".num").hide()}},findValueOfKey:function(t,e){var i=o;for(var a in this)if(this.hasOwnProperty(a))if(this[a]instanceof Object){if(i.findValueOfKey.call(this[a],t,e))return!0}else if(this[a]==e)return!0;return!1}};return o.init(),o}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(3));a=[i(1)],void 0===(n=function(t){var e=function(t,e){this.element=t,this._init(e)};e.prototype={version:"1.0.0",autoPlayID:-1,itemLen:0,isScrolling:void 0,slideStart:{},slideDelta:{},slideIndex:0,_init:function(e){var i=this.element,a=this._getSettings(i),n=a||t.fn.slide.defaults;a=t.extend({},n,e),this._setSettings(i,a),this._resizeSlide(),this._renderHandler(),this._bindHandler(),this._autoPlay()},_resizeSlide:function(){var e=this,i=this.element,a=e._getSettings(i),n=i.find("."+a.listCls);n.hasClass("jdui_slide_list")||n.addClass("jdui_slide_list");var o=n.find(a.listItem);if(o=0==o.length?n.find("."+a.listItem):o,e.itemLen=o.length,0!=e.itemLen&&0!=o.eq(0).width()){e.slideWidth=o.eq(0).width();var s=t(window).width();a.hasScale&&(e.slideWidth=parseInt(e.slideWidth/(s/375)));var r=Math.ceil(s/e.slideWidth);r=r>1?r-1:r,e.listNum=r;var l=e.slideWidth+a.slideOffset,d=a.isLoop?e.itemLen+2*r:e.itemLen;n.css({width:l*d}),o.css("width",e.slideWidth)}else console.log("item not exit;")},_renderHandler:function(){var e=this,i=this.element,a=e._getSettings(i);if(a.hasDot){var n=i.find(".jdui_slide_dot");0==n.length&&(n=t("<ul>")).addClass("jdui_slide_dot"),n.html("");for(var o=0;o<e.itemLen;o++)n.append("<li>");n.find("li").eq(0).addClass(a.selectCls),i.append(n)}for(var s,r,l=i.find("."+a.listCls),d=l.find(a.listItem),c=0;c<e.listNum;c++)s=d.eq(c),r=d.eq(e.itemLen-1-c),l.append(s.clone()),0==c&&r.clone().insertBefore(s);var u=e.getSlidePos(e.slideIndex+1);e.cssTranslateFun(u,0)},_bindHandler:function(){var t=this,e=t.element;e.on("touchstart",function(e){clearInterval(t.autoPlayID),t.slideTouchstart(e)}),e.on("touchmove",function(e){t.slideTouchmove(e)}),e.on("touchend",function(e){t.slideTouchend(e),t._autoPlay()})},_autoPlay:function(){var t=this,e=this.element,i=t._getSettings(e);i.autoPlay&&(t.autoPlayID=setInterval(function(){var e=t.slideIndex;e+=i.slideNum,t.slideChange(e)},i.autoTime))},_getSettings:function(t){return t.data("slideOpt")},_setSettings:function(t,e){t.data("slideOpt",e)},slideTouchstart:function(t){var e=t.touches[0];this.slideStart={x:e.pageX,y:e.pageY,time:+new Date},this.isScrolling=void 0,this.slideDelta={}},slideTouchmove:function(t){var e=this,i=e.element,a=e._getSettings(i);if(!(t.touches.length>1||t.scale&&1!==t.scale)){var n=t.touches[0];if(e.slideDelta={x:n.pageX-e.slideStart.x,y:n.pageY-e.slideStart.y},void 0===e.isScrolling&&(e.isScrolling=!!(e.isScrolling||Math.abs(e.slideDelta.x)<Math.abs(e.slideDelta.y))),e.isScrolling||t.preventDefault(),!e.isScrolling&&a.touchMove){var o=e.getSlidePos(e.slideIndex);o+=e.slideDelta.x,e.cssTranslateFun(o,0)}}},slideTouchend:function(){var t=this,e=t.element,i=t._getSettings(e),a=t.slideIndex;if(t.slideDelta.x){var n=t.slideDelta.x<0;t.isScrolling||(n?a+=i.slideNum:a-=i.slideNum,t.slideChange(a))}},getSlidePos:function(t){var e=this.element,i=this._getSettings(e),a=t*(this.slideWidth+i.slideOffset);return a*=-1},cssTranslateFun:function(t,e){var i=this.element,a=this._getSettings(i);i.find("."+a.listCls).css({"-webkit-transition-duration":e+"ms","transition-duration":e+"ms","-webkit-transform":"translate3d("+t+"px, 0px, 0px)",transform:"translate3d("+t+"px, 0px, 0px)"})},slideChange:function(t){var e=this,i=e.element,a=e._getSettings(i);a.isLoop||(t=(t=t<0?0:t)>e.itemLen-1?e.itemLen-1:t);var n=e.getSlidePos(t+1);e.cssTranslateFun(n,a.speed);var o=t;a.isLoop&&(o=e.slideReset(t));var s=a.selectCls,r=i.find(".jdui_slide_dot li");r.removeClass(s),r.eq(o).addClass(s),e.slideIndex=o,"function"==typeof a.changeSlide&&a.changeSlide(o),i.trigger("slideChange",o)},slideReset:function(t){var e=this,i=e.element,a=e._getSettings(i),n=t;if(t>=e.itemLen?n=0:t<0&&(n=e.itemLen-1),t!=n){var o=a.speed;setTimeout(function(){var t=e.getSlidePos(n+1);e.cssTranslateFun(t,0)},o+50)}return n},clear:function(){clearInterval(this.autoPlayID)}};var i={init:function(i){this.each(function(){var a=t(this);a.data("slide-instance")||a.data("slide-instance",new e(a,i))})},instance:function(){var e=[];return this.each(function(){var i=t(this);e.push(i.data("slide-instance"))}),e},select:function(e){var i=t(this).data("slide-instance");i&&i.slideChange(e)}};return t.fn.slide=function(){var t=arguments[0],e=arguments;if(i[t]){if(!this.data("slide-instance"))return void console.log("please init slide first");t=i[t],e=Array.prototype.slice.call(arguments,1)}else{if("object"!=(void 0===t?"undefined":(0,o.default)(t))&&t)return console.log("Method "+t+" does not exist on zepto.slide"),this;t=i.init}return t.apply(this,e)},t.fn.slide.defaults={hasDot:!0,slideNum:1,slideOffset:0,listCls:"jdui_slide_list",listItem:"li",selectCls:"select",speed:300,isLoop:!0,autoPlay:!0,autoTime:3e3,touchMove:!1,changeSlide:null},e}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(3));a=[i(1)],void 0===(n=function(t){var e="halfslide-instance",i=function(t,e){this.element=t,this._init(e)};i.prototype={version:"1.0.0",itemLen:0,isScrolling:void 0,slideStart:{},slideDelta:{},slideIndex:0,_init:function(e){var i=this.element,a=this._getSettings(i),n=a||t.fn.halfslide.defaults;a=t.extend({},n,e),this._setSettings(i,a),this._resizeSlide(),this._renderHandler(),this._bindHandler()},_resizeSlide:function(){var e=this,i=this.element,a=e._getSettings(i),n=i.find("."+a.listCls);n.hasClass("jdui_slide_list")||n.addClass("jdui_slide_list");var o=n.find(a.listItem);if(o=0==o.length?n.find("."+a.listItem):o,a.isFourthStyle&&o.length>6&&(o=o.splice(0,6)),e.itemLen=o.length,0!=e.itemLen&&0!=o.eq(0).width()){a.isFourthStyle?e.slideWidth=a.itemLeftWin:e.slideWidth=a.itemWin;var s=t(window).width(),r=Math.ceil(s/e.slideWidth);r=r>1?r-1:r,e.listNum=r;var l=0,d=0;a.isFourthStyle?(l=a.itemRightWin+a.slideOffset,d=a.isLoop?e.itemLen+2*r+1:e.itemLen+2):(l=e.slideWidth+a.slideOffset,d=a.isLoop?e.itemLen+2*r+1:e.itemLen),n.css({width:l*d}),o.css({width:e.slideWidth})}else console.log("item not exit;")},_renderHandler:function(){for(var e,i,a,n=this,o=this.element,s=n._getSettings(o),r=o.find("."+s.listCls),l=r.find(s.listItem),d=0;d<n.listNum;d++)e=l.eq(d),i=l.eq(n.itemLen-1-d),r.append(e.clone()),0==d&&i.clone().insertBefore(e);a=l.eq(1),r.append(a.clone());var c=n.getSlidePos(n.slideIndex+1);n.cssTranslateFun(c,0),r.find("li").eq(1).addClass(s.itemCurCls),s.isFourthStyle?(r.find("li.left").css({width:s.itemLeftWin+"px"}),r.find("li.right").css({width:s.itemRightWin+"px"})):r.find("li").css({width:s.itemWin+"px"}),r.find("."+s.itemCurCls).css({width:s.itemCurWin+"px"});var u=r.find("."+s.itemCurCls).height();r.css({height:u+"px"});var p=".bab_opt_mod_"+t(s.slideWrap).parents(".bab_opt_mod").attr("data-floornum")+" ."+s.listCls+" "+s.listItem,h="<style>"+p+"{width:"+s.itemWin+"px!important;}"+p+"."+s.itemLeftCls+"{width:"+s.itemLeftWin+"px!important;}"+p+"."+s.itemRightCls+"{width:"+s.itemRightWin+"px!important;}"+p+"."+s.itemCurCls+"{width:"+s.itemCurWin+"px!important;}</style>";r.append(h)},_bindHandler:function(){var t=this,e=t.element;e.on("touchstart",function(e){t.slideTouchstart(e)}),e.on("touchmove",function(e){t.slideTouchmove(e)}),e.on("touchend",function(e){t.slideTouchend(e)})},_getSettings:function(t){return t.data("halfslideOpt")},_setSettings:function(t,e){t.data("halfslideOpt",e)},slideTouchstart:function(t){var e=t.touches[0];this.slideStart={x:e.pageX,y:e.pageY,time:+new Date},this.isScrolling=void 0,this.slideDelta={}},slideTouchmove:function(t){var e=this,i=e.element,a=e._getSettings(i);if(!(t.touches.length>1||t.scale&&1!==t.scale)){var n=t.touches[0];if(e.slideDelta={x:n.pageX-e.slideStart.x,y:n.pageY-e.slideStart.y},void 0===e.isScrolling&&(e.isScrolling=!!(e.isScrolling||Math.abs(e.slideDelta.x)<Math.abs(e.slideDelta.y))),e.isScrolling||t.preventDefault(),!e.isScrolling&&a.touchMove){var o=e.getSlidePos(e.slideIndex);o+=e.slideDelta.x,e.cssTranslateFun(o,0)}}},slideTouchend:function(){var t=this,e=t.element,i=t._getSettings(e),a=t.slideIndex;if(t.slideDelta.x){var n=t.slideDelta.x<0;t.isScrolling||(n?a+=i.slideNum:a-=i.slideNum,t.slideChange(a))}},getSlidePos:function(t){var e=this.element,i=this._getSettings(e),a=t*(this.slideWidth+i.slideOffset);return i.isFourthStyle&&(a-=this.slideWidth/5),a*=-1},cssTranslateFun:function(t,e,i){var a=this.element,n=this._getSettings(a),o=a.find("."+n.listCls);o.find("li").removeClass(n.itemCurCls).eq(i+1).addClass(n.itemCurCls),n.isFourthStyle&&setTimeout(function(){o.find("li").removeClass(n.itemLeftCls).removeClass(n.itemRightCls),o.find("li."+n.itemCurCls).nextAll("li").addClass(n.itemRightCls),o.find("li."+n.itemCurCls).prevAll("li").addClass(n.itemLeftCls)},0),o.find("li").css({"-webkit-transition-duration":e+"ms","transition-duration":e+"ms",width:""}),o.css({"-webkit-transition-duration":e+"ms","transition-duration":e+"ms","-webkit-transform":"translate3d("+t+"px, 0px, 0px)",transform:"translate3d("+t+"px, 0px, 0px)"})},slideChange:function(t){var e=this,i=e.element,a=e._getSettings(i);a.isLoop||((t=t<0?0:t)>=e.itemLen-1&&e.showMore(t==e.itemLen-1),t=t>e.itemLen-1?e.itemLen-1:t);var n=e.getSlidePos(t+1);e.cssTranslateFun(n,a.speed,t);var o=t;a.isLoop&&(o=e.slideReset(t)),e.slideIndex=o,"function"==typeof a.changeSlide&&a.changeSlide(o),i.trigger("slideChange",o)},showMore:function(t){var e=this.element,i=this._getSettings(e),a=e.find("."+i.listCls);if(t){var n=e.find(".promo_slide_three_showmore").detach().css({display:"block"});a.find("."+i.itemCurCls).next().next().html(n)}else i.reportEventdata(),window.location.href=i.showMoreURL},slideReset:function(e){var i=this,a=i.element,n=i._getSettings(a),o=e;if(e>=i.itemLen?o=0:e<0&&(o=i.itemLen-1),e!=o){var s=n.speed;setTimeout(function(){var e=i.getSlidePos(o+1);i.cssTranslateFun(e,0),t(n.slideWrap).find("li").eq(o+1).addClass(n.itemCurCls)},s+50)}return o},destory:function(){var t=this.element;t.off(),this._setSettings(t,"")}};var a={init:function(a){this.each(function(){var n=t(this);n.data(e)||n.data(e,new i(n,a))})},instance:function(){var i=[];return this.each(function(){var a=t(this);i.push(a.data(e))}),i},select:function(i){var a=t(this).data(e);a&&a.slideChange(i)},destory:function(){var i;this.each(function(){var a=t(this);(i=a.data(e))&&(i.destory(),i=null,a.data(e,""))})}};return t.fn.halfslide=function(){var t=arguments[0],i=arguments;if(a[t]){if(!this.data(e))return void console.log("please init halfslide first");t=a[t],i=Array.prototype.slice.call(arguments,1)}else{if("object"!=(void 0===t?"undefined":(0,o.default)(t))&&t)return console.log("Method "+t+" does not exist on zepto.slide"),this;t=a.init}return t.apply(this,i)},t.fn.halfslide.defaults={slideNum:1,slideOffset:0,listCls:"jdui_slide_list",listItem:"li",speed:300,isLoop:!0,touchMove:!1,slideWrap:null,itemWin:0,itemCurWin:0,itemCurCls:"cur",changeSlide:null,itemLeftCls:"",itemRightCls:"",itemLeftWin:"",itemRightWin:"",showMore:!1,isFourthStyle:!1,showMoreURL:"",reportEventdata:""},t.fn.prevAll=function(e){var i=[],a=this[0];if(!a)return t([]);for(;a.previousElementSibling;){var n=a.previousElementSibling;e?t(n).is(e)&&i.push(n):i.push(n),a=n}return t(i)},t.fn.nextAll=function(e){var i=[],a=this[0];if(!a)return t([]);for(;a.nextElementSibling;){var n=a.nextElementSibling;e?t(n).is(e)&&i.push(n):i.push(n),a=n}return t(i)},i}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(3));a=[i(1)],void 0===(n=function(t){var e="countdownInstance",i=function(t,e){this.element=t,this._init(e)};i.prototype={version:"1.0.0",playID:-1,node:"",dayPer:864e5,hourPer:36e5,minutePer:6e4,_init:function(e){var i=0;this.requestAnimationFrame=function(t){var e=(new Date).getTime(),a=Math.max(0,16.7-(e-i)),n=window.setTimeout(function(){t(e+a)},1e3);return i=e+a,n},this.cancelAnimationFrame=function(t){clearTimeout(t)};var a=this.element,n=this._getSettings(a),o=n||t.fn.countdown.defaults;n=t.extend({},o,e),this._setSettings(a,n),this._startHandler()},_startHandler:function(){var t=this,e=this.element,i=t._getSettings(e),a=i.type,n=0;if("timeRemain"==a)n=i.timeRemain;else if("normal"==a){var o=new Date(i.startTime).getTime(),s=new Date(i.endTime).getTime();n=parseInt(s-o)}var r=(new Date).getTime();t.timeSec=1*n+r;var l=t._getTimeStr(t.timeSec,i);i.newFormat&&(l=t._newTimeFormat(l)),e.text(l),function a(){var n=(new Date).getTime();if(t.timeSec-n<=0)t._stopHandler(),i.endCallback&&i.endCallback();else{var o=t._getTimeStr(n,i);i.newFormat&&(o=t._newTimeFormat(o)),e.text(o),i.handleData&&i.handleData()}t.playID=t.requestAnimationFrame(a)}()},_getTimeStr:function(t,e){var i=this,a=i.timeSec-t,n=parseInt(a/1e3),o=n%60,s=(n=parseInt(n/60))%60,r=(n=parseInt(n/60))%24,l=n=parseInt(n/24),d=i._getNumFormat(r),c=i._getNumFormat(s),u=i._getNumFormat(o),p=i._getNumFormat(l);return e.hasDateInfo?p+":"+d+":"+c+":"+u:d+":"+c+":"+u},_newTimeFormat:function(t){var e=t.split(":");return e instanceof Array&&e.length&&(t=e[0]>0?e[0]+"天"+e[1]+"时"+e[2]+"分":e[1]+"时"+e[2]+"分"+e[3]+"秒"),t},_getNumFormat:function(t){return t<10?"0"+t:t},_getSettings:function(t){return t.data("countdownOpt")},_setSettings:function(t,e){t.data("countdownOpt",e)},_stopHandler:function(){this.cancelAnimationFrame(this.playID),this.playID=-1},start:function(){this.destroy(),this._startHandler()},newCountdown:function(t){this.destroy(),this.playID=-1,this._init(t)},stop:function(){this._stopHandler()},destroy:function(e){var i=this.element,a=this._getSettings(i);e&&(a=t.extend({},a,e)),this._stopHandler(),this.playID=-1,a.type="",a.startTime="",a.endTime="",a.timeRemain="",a.handleData=null,a.endCallback=null}};var a={init:function(a){this.each(function(){var n=t(this);n.data(e)||n.data(e,new i(n,a))})},instance:function(){var i=[];return this.each(function(){i.push(t(this).data(e))}),i},newCountdown:function(i){var a=t(this).data(e);a&&a.newCountdown(i)},start:function(){var i=t(this).data(e);i&&i.start()},stop:function(){var i=t(this).data(e);i&&i.stop()},destroy:function(i){var a=t(this).data(e);a&&a.destroy(i)}};return t.fn.countdown=function(){var t=arguments[0],i=arguments;if(a[t]){if(!this.data(e))return void console.error("please init countdown first");t=a[t],i=Array.prototype.slice.call(arguments,1)}else{if("object"!==(void 0===t?"undefined":(0,o.default)(t))&&t)return console.error("Method "+t+" does not exist on zepto.tab"),this;t=a.init}return t.apply(this,i)},t.fn.countdown.defaults={type:"timeRemain",startTime:"",endTime:"",timeRemain:"",newFormat:!1,hasDateInfo:!0,handleData:null,endCallback:null},i}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(3));a=[i(1),i(24),i(6)],void 0===(n=function(t,e,i){var a="gestureInstance",n=function(t,e){this.element=t,this._init(e)};n.prototype={version:"1.0.0",swipeW:0,node:"",_init:function(e){var i=this.element,a=this._getSettings(i),n=a||t.fn.gesture.defaults;a=t.extend({},n,e),this._setSettings(i,a),this._bindEventSwipe()},_getSettings:function(t){return t.data("gestureOpt")},_setSettings:function(t,e){t.data("gestureOpt",e)},checkSwipeWidth:function(){var e,i=this.element,a=this._getSettings(i),n=t.trim(a.scrollWrapCls),o=t.trim(a.listWrapCls),s=(e=i.find("."+n+" ."+o)).length;if(0==s)return!1;var r=e.eq(s-1),l=r.position().left+r.width();this.swipeW=l},_bindEventSwipe:function(){var a=this,n=a.element,o=a._getSettings(n);a.checkSwipeWidth();var s,r,l=a.node=t(n).eq(0),d=t(window).width(),c=-1,u=-1,p=!0,h=t.trim(o.scrollWrapCls),f=t.trim(o.lookMoreCls),m=o.callback;0!=l.find("."+h+" ."+f).length&&(l.on("touchstart","."+h,function(t){var e=t.touches[0];s={x:e.pageX,y:e.pageY}}),l.on("scroll touchmove","."+h,function(n){var o=t(n.target).parents("."+h).eq(0);if(0!=o.length&&void 0!=o){if(n.touches){if(n.touches.length>1||n.scale&&1!==n.scale)return;var v=n.touches[0];r={x:v.pageX-s.x,y:v.pageY-s.y},Math.abs(r.y)-Math.abs(r.x)>20&&n.preventDefault()}var g=20,_=i.isAndroid;_&&(g=10),clearTimeout(u),u=setTimeout(function(){var i=a.swipeW-d-o.scrollLeft();if(p=!!o.scrollLeft(),i<=0&&r&&Math.abs(r.x)>g&&p?c++:c=-1,c>0&&r&&Math.abs(r.x)>g){var n=l.find("."+f);t.isFunction(m)&&m(),n.click(),c=-1,_||(r=null,c=0),setTimeout(function(){o.scrollLeft(a.swipeW)},1e3)}e.lazyLoad.check()},100)}}))},destory:function(){var t=this.element;this.node.off(),this._setSettings(t,"")}};var s={init:function(e){this.each(function(){var i=t(this);i.data(a)||i.data(a,new n(i,e))})},instance:function(){var e=[];return this.each(function(){e.push(t(this).data(a))}),e},destory:function(){var e;this.each(function(){var i=t(this);(e=i.data(a))&&(e.destory(),e=null,i.data(a,""))})},checkSwipeWidth:function(){var e=t(this).data(a);e&&e.checkSwipeWidth()}};return t.fn.gesture=function(){var t=arguments[0],e=arguments;if(s[t]){if(!this.data(a))return void console.error("please init gesture first");t=s[t],e=Array.prototype.slice.call(arguments,1)}else{if("object"!==(void 0===t?"undefined":(0,o.default)(t))&&t)return console.error("Method "+t+" does not exist on zepto.tab"),this;t=s.init}return t.apply(this,e)},t.fn.gesture.defaults={scrollWrapCls:"pre_pd_module_wrap",listWrapCls:"pd_commom",lookMoreCls:"look_more"},n}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(3));a=[i(1)],void 0===(n=function(t){var e="slidevertical",i=e+"-instance",a=function(t,e){this.element=t,this._init(e)};a.prototype={version:"1.0.0",autoPlayID:-1,itemLen:0,isScrolling:void 0,slideStart:{},slideDelta:{},slideIndex:0,_init:function(e){var i=this.element,a=this._getSettings(i),n=a||t.fn.slidevertical.defaults;a=t.extend({},n,e),this._setSettings(i,a),this._resizeSlide(),this._getlistItemPadding(),this._renderSlide(),this._autoPlay()},_resizeSlide:function(){var t=this,e=this.element,i=t._getSettings(e),a=e.find("."+i.listCls);a.hasClass("jdui_slide_list")||a.addClass("jdui_slide_list");var n=a.find(i.listItem);if(n=0===n.length?a.find("."+i.listItem):n,t.itemLen=n.length,0!==t.itemLen&&0!==n.eq(0).width()){var o=t._getlistItemPadding("padding");t.slideHeight=n.eq(0).height()-o;var s=e.height(),r=Math.ceil(s/t.slideHeight);r=r>1?r-1:r,t.listNum=r;var l=t.slideHeight+i.slideOffset,d=i.isLoop?t.itemLen+2*r:t.itemLen;a.css({height:l*d}),n.css("height",t.slideHeight)}else console.log("item not exit;")},_renderSlide:function(){for(var t,e,i=this,a=this.element,n=i._getSettings(a),o=a.find("."+n.listCls),s=o.find(n.listItem),r=0;r<i.listNum;r++)t=s.eq(r),e=s.eq(i.itemLen-1-r),o.append(t.clone()),0===r&&e.clone().insertBefore(t);var l=i.getSlidePos(i.slideIndex+1);i.cssTranslateFun(l,0)},_autoPlay:function(){var t=this,e=this.element,i=t._getSettings(e);i.autoPlay?t.autoPlayID=setInterval(function(){var e=t.slideIndex;e+=i.slideNum,t.slideChange(e)},i.autoTime):clearInterval(t.autoPlayID)},_getSettings:function(t){return t.data("slideverticalOpt")},_setSettings:function(t,e){t.data("slideverticalOpt",e)},_getlistItemPadding:function(){var t,e=this.element,i=this._getSettings(e),a=e.find("."+i.listCls).find(i.listItem).css("padding");if(void 0===a)return 0;var n=a.split("px");switch(n.length){case 2:case 3:t=2*Number(n[0]);break;case 4:case 5:t=Number(n[0])+Number(n[2]);break;default:t=0}return t},getSlidePos:function(t){var e=this.element,i=this._getSettings(e),a=this._getlistItemPadding(),n=t*(this.slideHeight+i.slideOffset+a);return n*=-1},cssTranslateFun:function(t,e){var i=this.element,a=this._getSettings(i);i.find("."+a.listCls).css({"-webkit-transition-duration":e+"ms","transition-duration":e+"ms","-webkit-transform":"translate3d( 0px,"+t+"px, 0px)",transform:"translate3d( 0px,"+t+"px, 0px)"})},slideChange:function(t){var e=this,i=e.element,a=e._getSettings(i);a.isLoop||(t=(t=t<0?0:t)>e.itemLen-1?e.itemLen-1:t);var n=e.getSlidePos(t+1);e.cssTranslateFun(n,a.speed);var o=t;a.isLoop&&(o=e.slideReset(t)),e.slideIndex=o,"function"==typeof a.changeSlide&&a.changeSlide(o),i.trigger("slideChange",o)},slideReset:function(t){var e=this,i=e.element,a=e._getSettings(i),n=t;if(t>=e.itemLen?n=0:t<0&&(n=e.itemLen-1),t!=n){var o=a.speed;setTimeout(function(){var t=e.getSlidePos(n+1);e.cssTranslateFun(t,0)},o+50)}return n}};var n={init:function(e){this.each(function(){var n=t(this);n.data(i)||n.data(i,new a(n,e))})},instance:function(){var e=[];return this.each(function(){var a=t(this);e.push(a.data(i))}),e},select:function(e){var a=t(this).data(i);a&&a.slideChange(e)}};return t.fn.slidevertical=function(){var t=arguments[0],e=arguments;if(n[t]){if(!this.data(i))return void console.log("please init slidevertical first");t=n[t],e=Array.prototype.slice.call(arguments,1)}else{if("object"!=(void 0===t?"undefined":(0,o.default)(t))&&t)return console.log("Method "+t+" does not exist on zepto.slidevertical"),this;t=n.init}return t.apply(this,e)},t.fn.slidevertical.defaults={slideNum:1,multiLine:1,listOffset:20,slideOffset:0,listCls:"jdui_slide_list",listItem:"li",speed:300,isLoop:!0,autoPlay:!0,autoTime:3e3,changeSlide:null},a}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(3));a=[i(1),i(129),i(24)],void 0===(n=function(t,e){var i=0,a=function(t,e){this.element=t,this._init(e)};a.prototype={version:"1.0.0",tabFixedId:-1,tabSlideSign:!1,tabLimitW:0,winW:320,_init:function(e){var a=this.element,n=this._getSettings(a),o=n||t.fn.tab.defaults;(n=t.extend({},o,e)).comNum=++i,this._setSettings(a,n),this._runStartup()},_runStartup:function(){this._initHandler(),this._bindHandler()},_initHandler:function(){var i=this.element,a=this._getSettings(i),n=a.initIndex,o=a.tabHdList,s=a.activeClassName;0==o.filter(".cur").length&&o.eq(n).addClass(s),a.tabBdList&&(a.tabBdList.addClass("hide"),a.tabBdList.eq(n).removeClass("hide"));var r=o.length,l=a.tabLimitNum,d=a.isSubNav?20:0;if(r>l&&a.tabSlide){var c=a.tabHdWrap,u=o.reduce(function(e,i){return e+t(i).width()},0);u=parseInt(u),c.css({overflow:"hidden"}),u>t(window).width()&&c.find("ul").css({width:u+d+"px"})}a.initCallback&&a.initCallback(),this._chekTabLimit(),e.addPtag(this.element,".J_ping")},_chekTabLimit:function(){var e=this.element,i=this._getSettings(e),a=!1,n=t(window).width(),o=i.tabHdList.length,s=0,r=i.tabLimitNum,l=i.tabHdWrap.find("ul");o>r&&(s=(s=l.css("width"))||"",a=(s=Number(s.replace("px",""))-n+i.tabMainWrapPadding)>0&&i.tabSlide),this.tabLimitW=s,this.tabSlideSign=a,this.winW=n},_bindHandler:function(){var t=this.element,e=this._getSettings(t);e.tabClick&&this._bindEventClick(),this.tabSlideSign&&this._bindEventScroll(),e.tabFixed&&this._bindEventFixed()},_bindEventClick:function(){var i=this,a=this.element,n=this._getSettings(a),o=n.tabHdList,s=n.tabHdWrap.find("ul"),r=n.clickJumpback,l=n.fixedTabPos;o.on("click",function(){if(l){var d=n.node.find(".top_nav_module_list"),c=t(window).height(),u=t(window).scrollTop(),p=s.offset().top;d.css("min-height",c-(p-u)+"px")}var h=t(this),f=n.tabMainWrap,m=n.activeClassName,v=window._appNavHeight;v>0&&(n.topPos=v);var g=Math.ceil(f.offset().top)-n.topPos,_=t(window).scrollTop();if(r&&h.hasClass(m))g!=_&&f.hasClass("fixed")&&t(window).scrollTop(g);else{var b=!1;if(n.tabClickLoading&&(b=n.tabClickLoading()),!b){if(i.tabSlideSign){var y=s.data("pos");y=y?-y:0;var w=h.offset().left+y,C=(i.winW-h.width())/2;C=(C=(C=w-C)<0?0:C)>i.tabLimitW?i.tabLimitW:C,i._tabTranslateFun(s,-C)}if(o.removeClass(m),h.addClass(m),r&&g!=_&&f.hasClass("fixed")&&t(window).scrollTop(g),n.tabBdList){n.tabBdList.addClass("hide");var x=h.attr("data-groupId"),k=n.tabBdList.filter('[data-groupId="'+x+'"]');k.removeClass("hide")}n.tabClickCallbak&&n.tabClickCallbak(h,k),e.addPtag(a,".J_ping"),t(window).scroll()}}})},_bindEventScroll:function(){var t=this,e=this.element,i={},a=-1,n=!1,o=this._getSettings(e).tabHdWrap.find("ul"),s=t.tabLimitW;o.on("touchstart",function(t){var e=o.data("pos");e=e?-e:0;var a=t.touches[0];i={x:a.pageX,y:a.pageY,posx:a.pageX+e},n=!1}),o.on("touchmove",function(e){var r=e.touches[0];n=!0;var l={x:r.pageX-i.posx,y:r.pageY-i.y,sx:r.pageX-i.x};Math.abs(l.y)-Math.abs(l.sx)>0||e.preventDefault();var d=-l.x;d<0&&(d-=.9*d),d>s&&(d-=.9*(d-s)),a=d,t._tabTranslateFun(o,-d,"none")}),o.on("touchend",function(){if(n){var e=a;e=(e=e<0?0:e)>s?s:e,t._tabTranslateFun(o,-e)}})},_bindEventFixed:function(){var e,i,a,n,o=this,s=this.element,r=this._getSettings(s),l=r.tabMainWrap,d=r.tabHdWrap,c=l.height(),u=r.node,p="."+r.comNum,h="scroll"+p+" touchmove"+p;t(window).on(h,function(s){o.tabFixedId=setTimeout(function(){var o=l[0].getBoundingClientRect();if(l.is(":visible")){if(l.removeClass("fixed"),d.css("top","0"),!(o.left>=0&&parseInt(o.left+o.width)<=t(window).width()))return;e=t(this).scrollTop(),i=l.offset();var p=window._appNavHeight;if(p>0&&(r.topPos=p),a=(a=i.top-r.topPos)<0?0:parseInt(a),n=u.height()+u.offset().top-r.topPos,n=parseInt(n),e>=a&&e<=n){s.cancelable&&s.preventDefault(),l.addClass("fixed");var h=Math.abs(e-n);e<=n&&h-r.subNavHeight<c?(h=h-c+r.topPos-r.subNavHeight,d.css("top",h)):d.css("top",r.topPos)}}r.scrollCallback&&r.scrollCallback(s)},0)})},_tabTranslateFun:function(t,e,i){"none"==i?t.css({"-webkit-transition-duration":"0","transition-duration":"0"}):t.css({"-webkit-transition-duration":"600ms","transition-duration":"600ms"}),t.css({"transition-timing-function":"cubic-bezier(0.1, 0.57, 0.1, 1)",transform:"translate("+e+"px, 0px) translateZ(0px)","-webkit-transform":"translate("+e+"px, 0px) translateZ(0px)"}),t.data("pos",e)},_getSettings:function(t){return t.data("tabOpt")},_setSettings:function(t,e){t.data("tabOpt",e)},destory:function(){var e=this.element,i=this._getSettings(e);i.tabHdList.off(),i.tabHdWrap.find("ul").off();var a="."+i.comNum,n="scroll"+a+" touchmove"+a;t(window).off(n),this._setSettings(e,"")}};var n={init:function(e){this.each(function(){var i=t(this);i.data("tabInstance")||i.data("tabInstance",new a(i,e))})},instance:function(){var e=[];return this.each(function(){e.push(t(this).data("tabInstance"))}),e},destory:function(){var e;this.each(function(){var i=t(this);(e=i.data("tabInstance"))&&(e.destory(),e=null,i.data("tabInstance",""))})}};return t.fn.tab=function(){var t=arguments[0],e=arguments;if(n[t]){if(!this.data("tabInstance"))return;t=n[t],e=Array.prototype.slice.call(arguments,1)}else{if("object"!==(void 0===t?"undefined":(0,o.default)(t))&&t)return this;t=n.init}return t.apply(this,e)},t.fn.tab.defaults={initIndex:0,node:null,tabMainWrap:null,tabHdWrap:null,tabHdList:null,tabBdList:null,tabLimitNum:4,topPos:0,tabClick:!0,tabFixed:!0,tabSlide:!0,clickJumpback:!0,fixedTabPos:!1,initCallback:null,tabClickLoading:null,tabClickCallbak:null,scrollCallback:null,activeClassName:"cur",tabMainWrapPadding:0,isSubNav:!1,subNavHeight:0},a}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(1)],void 0===(n=function(t){var e={content1:"",content2:"",showTime:3e3};return t.toastOn_ll=function(i){var a=t.extend({},e,i||{}),n='<div id="liuliang_toast" class="ll_fadeInOut" style="display:none;    left: 50%;';return n+="top: 45%;padding: 5px 10px;max-width: 94%;width: auto;border-radius: 6px;background-color: rgba(0,0,0,.7);",n+='color: #fff;font-size: 14px;text-align: center;white-space: nowrap;position: fixed;">',n+="<p>"+a.content1+"</p> <p>"+a.content2+"</p> </div>",setTimeout(function(){t("#liuliang_toast").css({display:"block",transform:"translate3d(-50%, 30px, 0px)","-webkit-transform":"translate3d(-50%, -30px, 0)"})},500),setTimeout(function(){t("#liuliang_toast").css("opacity","0"),t("#liuliang_toast").remove()},a.showTime),t(n).appendTo(t("body"))},t}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(3));a=[i(1),i(6),i(54)],void 0===(n=function(t,e,i){var a="appointremind",n=a+"Opt",s=a+"Instance",r=e.isJdApp&&e.versionGreaterOrEqual("6.1.0");function l(t){return(100*t).toFixed(4)+"%"}window.checkReminderCallback=function(e,i,a){var o,s,l=arguments;if(r)s=1==e,o=i;else if(1==l.length){var d=l[0].split(",");o=d[1],s=1==d[0]}else l.length>=2&&(s="true"==l[0],o=l[1]);var c=t("body").find('a[data-remindid="'+o+'"]'),u=(o=c.data("remindconfig"))?o.split("_"):[],p=u[2]?u[2]:"rgb(42, 199, 94)",h=u[1]?u[1]:"#fff",f=c.find(".jdui_text"),m=c.parent().data(n)||{};"CAddRemoveReminder"==a&&(m.callback&&m.callback(),s="true"==m.setReminderFlag.toString()),s?(c.css({"background-color":"#fff","border-color":h}).attr({class:"jdui_appoint_remind  jdui_reminded"}),f.html("取消提醒").css({color:h})):(c.css({"background-color":p,"border-color":p}).attr({class:"jdui_appoint_remind  jdui_pre_remind"}),f.html("提醒我").css({color:"#fff"}))},window.CAddRemoveReminderCallback=function(t,e){window.checkReminderCallback&&window.checkReminderCallback(t,e,"CAddRemoveReminder")};var d=t(window).width()<=360,c=function(t,e){this.element=t,this._init(e)};c.prototype={version:"0.0.1",node:"",winW:t(window).width(),winH:t(window).height(),demoW:375,nodeW:75,nodeH:33,_init:function(i){var a=this,n=this.element,o=e.jdapp?e.jdapp.version:"",s=o.split(".");a.jdappVSecond7=!!s[1]&&s[1]>=7,a.jdappV5=!!o&&s[0]>=5;var r=a._getSetting(n),l=r||t.fn.appointremind.defaults;r=t.extend({},l,i),a._setSetting(n,r),a._renderDom(),a._rendNotifyStatus()},_setSetting:function(t,e){t.data(n,e)},_getSetting:function(t){return t.data(n)},_renderDom:function(){var e=this.element;if(e.find(".jdui_appoint_remind").length>0)this.node=e.find("jdui_appoint_remind");else{this.node=t('<a href="#" class="jdui_appoint_remind"><span class="jdui_text"></span></a>'),this._setStyleDom(),e.append(this.node)}},_checkBoundary:function(t,e){var i,a,n,o,s=this,r=s.nodeW,l=s.nodeH,d=e.itemW,c=e.itemH;i=s.winW-d,a=Math.round(c/d*100)/100,o=s.demoW-i,n=Math.round(o*a),s.demoItemH=n,s.demoItemW=o;var u="",p="";return(t.pos.x+r>=o||0==t.pos.x)&&(u="horizontal"),(t.pos.y+l+1>=n||0==t.pos.y)&&(p="vertical"),{h:u,v:p}},_getPadding:function(t){var e=t.css("padding"),i=null!=e?e.split(" "):[],a={};switch(i.length){case 0:default:a={w:0,h:0};break;case 1:a={h:2*parseInt(i[0]),w:2*parseInt(i[0])};break;case 2:a={h:2*parseInt(i[0]),w:2*parseInt(i[1])};break;case 3:a={h:parseInt(i[0])+parseInt(i[2]),w:2*parseInt(i[1])};break;case 4:a={h:parseInt(i[0])+parseInt(i[2]),w:parseInt(i[1])+parseInt(i[3])}}return a},_checkPosInfo:function(e){var i=this,a=this.element,n=i._getPadding(t(a)),o=t(a).width(),s=t(a).height(),r=i._checkBoundary(e,{itemH:s-n.h,itemW:o-n.w}),l=Math.round(e.pos.x/i.demoItemW*o),d=Math.round(e.pos.y/i.demoItemH*s);return{x:"horizontal"==r.h||l+i.nodeW>=o?Number(o-i.nodeW-n.w):l,y:"vertical"==r.v||d+i.nodeH>=s?Number(s-i.nodeH-n.h):d}},_setStyleDom:function(){var t=this.element,e=this._getSetting(t),i=this.node,a=this._getPercentStyle(e.notifyColor);i.attr({class:"jdui_appoint_remind "+e.conCls,"data-remindId":e.appointRemindId,"data-remindConfig":e.appointRemindConfig}).css({"background-color":e.isEmptyRectangle?"#fff":e.basicColor,"border-color":e.basicColor,left:a.x,top:a.y,width:a.w+" !important","min-width":"auto","box-sizing":"border-box","-webkit-box-sizing":"border-box",height:a.h}),i.find(".jdui_text").html(e.text).css({color:e.isEmptyRectangle?e.basicColor:"#fff","font-size":a.f,"line-height":a.f})},_getPercentStyle:function(t){var e=75,i=33,a=1*t.x,n=1*t.y,o=1*t.domWidth,s=1*t.domHeight;return{f:d?"12px":"15px",w:l(e/o),h:l(i/s),x:l(a/o),y:l(n/s)}},_setNotifyStatus:function(e){var i=this.element,a=this._getSetting(i);switch(e){case 0:a=t.extend(a,{text:"去看看",conCls:"jdui_go_check",isEmptyRectangle:!1,basicColor:a.notifyColor.lookBtColor,callback:null});break;case 1:default:a=t.extend(a,{text:"提醒我",conCls:"jdui_pre_remind",isEmptyRectangle:!1,basicColor:a.notifyColor.notifyBtColor,callback:null});break;case 2:a=t.extend(a,{text:"取消提醒",conCls:"jdui_reminded",isEmptyRectangle:!0,basicColor:a.notifyColor.cancelBtColor,callback:null});break;case 3:a=t.extend(a,{text:"敬请期待",conCls:"jdui_waitfor",isEmptyRectangle:!1,basicColor:"#3370F1",callback:null})}this._setSetting(i,a)},_checkCurrentTime:function(){var t=this.element,e=this._getSetting(t);return(new Date).getTime()<Number(e.remindParams.pushTime)},_rendNotifyStatus:function(){var t=this;t._checkCurrentTime()?e.isJdApp&&e.versionGreaterOrEqual("5.7.0")?(t._setNotifyStatus(1),t._platformCheckStatus(e.system)):t._setNotifyStatus(3):t._setNotifyStatus(0),t._setStyleDom()},_platformCheckStatus:function(t){var e=this.element,a=this._getSetting(e),n=Number(a.remindParams.pushTime),o=a.remindParams.pushUrl,s=a.appointRemindId;o=o.replace(/^\/\//,window.location.protocol+"//");var r=a.appointRemindConfig.split("_");r=4==r.length?r[3]:"","android"==t||"iphone"==t?i.checkReminder({type:"BABEL",beginTime:n,jumpUrl:o,uniqueId:r,callBackName:"checkReminderCallback",callBackId:s}):this._setNotifyStatus(3)},setRemind:function(e,a){var n=this,o=n.element,s=n._getSetting(o);e&&(s=t.extend(s,e)),n._setSetting(o,s);var l=s.remindParams.pushUrl;l=l.replace(/^\/\//,window.location.protocol+"//");var d={titleValue:s.remindParams.pushMsg,beginTime:Number(s.remindParams.pushTime),url:l,type:s.remindParams.type||"BABEL",appointRemindId:s.appointRemindId,appointRemindConfig:s.appointRemindConfig},c=d.appointRemindConfig.split("_");c=4==c.length?c[3]:"",n._checkCurrentTime()&&(r||n._setStyleDom(n.node),a?i.setReminder({businessType:d.type,showTag:"活动",remindTitle:d.titleValue,beginTime:d.beginTime,uniqueId:c,jumpStr:{des:"m",params:{url:d.url}},imgUrl:"",notifyTime:"",extraStr1:"",extraStr2:"",callBackName:"CAddRemoveReminderCallback",callBackId:d.appointRemindId}):i.removeReminder({remindTitle:d.titleValue,jumpStr:{des:"m",params:{url:d.url}},businessType:d.type,beginTime:d.beginTime,uniqueId:c,callBackName:"CAddRemoveReminderCallback",callBackId:d.appointRemindId}),r||s.callback&&s.callback())}};var u={init:function(e){this.each(function(){var i=t(this);i.data(s)||i.data(s,new c(i,e))})},instance:function(){var e=[];return this.each(function(){e.push(t(this).data(s))}),e},setRemind:function(e,i){var a=t(this).data(s);a&&a.setRemind(e,i)},destory:function(){var e;this.each(function(){var i=t(this);(e=i.data(s))&&(e.destory(),e=null,i.data(s,""))})}};return t.fn.appointremind=function(){var t=arguments[0],e=arguments;if(u[t]){if(!this.data(s))return;t=u[t],e=Array.prototype.slice.call(arguments,1)}else{if("object"!==(void 0===t?"undefined":(0,o.default)(t))&&t)return this;t=u.init}return t.apply(this,e)},t.fn.appointremind.defaults={text:"敬请期待",conCls:"jdui_waitfor",notifyColor:{notifyBtColor:"#694ff6",cancelBtColor:"#2bd45d",lookBtColor:"#29E8C7"},appointRemindId:"0000212",appointRemindConfig:"",basicColor:"#3370F1",isEmptyRectangle:!1,pos:{x:0,y:0},remindParams:{pushTime:2389,pushUrl:"https://m.jd.com",pushMsg:"您预约的商品已经开始，请火速前往",type:"BABEL"},callback:null},c}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(3));a=[i(1)],void 0===(n=function(t){var e="halfslide_mod",i=e+"-instance",a=function(t,e){this.element=t,this._init(e)};a.prototype={version:"1.0.0",autoPlayID:-1,itemLen:0,isScrolling:void 0,slideStart:{},slideDelta:{},slideIndex:1,lockFlag:!0,diffTime:void 0,prevTime:void 0,_init:function(e){var i=this.element,a=this._getSettings(i),n=a||t.fn.halfslide_mod.defaults;a=t.extend({},n,e),this._setSettings(i,a),this._resizeSlide(),this._renderHandler(),this._bindHandler(),this._autoPlay()},_resizeSlide:function(){var t=this,e=this.element,i=t._getSettings(e),a=e.find("."+i.listCls);a.hasClass("jdui_slide_list")||a.addClass("jdui_slide_list");var n=a.find(i.listItem);if(n=0==n.length?a.find("."+i.listItem):n,t.itemLen=n.length,0!=t.itemLen&&0!=n.eq(0).width()){t.slideWidth=i.itemWin;var o=t.slideWidth+i.slideOffset+i.styleOffset,s=i.isLoop?t.itemLen+4:t.itemLen;a.css({width:o*s}),n.css({width:t.slideWidth})}else console.log("item not exit;")},_renderHandler:function(){var e=this,i=this.element,a=e._getSettings(i),n=i.find("."+a.listCls),o=n.find(a.listItem),s=o.eq(0),r=o.eq(1),l=o.eq(e.itemLen-1),d=o.eq(e.itemLen-2),c=l.clone();n.append(s.clone()),n.append(r.clone()),c.insertBefore(s),d.clone().insertBefore(c);var u=e.slideWidth+a.slideOffset+a.styleOffset+e.slideWidth*a.transScale;e.cssTranslateFun(-1*u,0),n.find("li").eq(2).addClass(a.itemCurCls),n.find("li").css({width:a.itemWin+"px"}),n.find("."+a.itemCurCls).css({width:a.itemCurWin+"px"}),e.setTabIndex(0);var p=".bab_opt_mod_"+t(a.slideWrap).parents(".bab_opt_mod").attr("data-floornum")+" ."+a.listCls+" "+a.listItem,h="<style>"+p+"{width:"+a.itemWin+"px!important;}"+p+"."+a.itemCurCls+"{width:"+a.itemCurWin+"px!important;}</style>";n.append(h)},_bindHandler:function(){var t=this,e=t.element;e.on("touchstart",function(e){clearInterval(t.autoPlayID),t.slideTouchstart(e)}),e.on("touchmove",function(e){t.slideTouchmove(e)}),e.on("touchend",function(e){t.slideTouchend(e),t._autoPlay()})},_autoPlay:function(){var t=this,e=this.element,i=t._getSettings(e),a=!!i.listClsAni.length||"";i.autoPlay&&(t.autoPlayID=setInterval(function(){var e=t.slideIndex;e+=i.slideNum,t.lockFlag&&(t.slideChange(e,a),t.lockFlag=!1)},i.autoTime))},_getSettings:function(t){return t.data("halfslide_modOpt")},_setSettings:function(t,e){t.data("halfslide_modOpt",e)},slideTouchstart:function(t){var e=this,i=t.touches[0];e.slideStart={x:i.pageX,y:i.pageY,time:+new Date},void 0===e.diffTime?(e.diffTime=null,e.prevTime=e.slideStart.time):e.diffTime=e.slideStart.time-e.prevTime,e.isScrolling=void 0,e.slideDelta={}},slideTouchmove:function(t){var e=this,i=e.element,a=e._getSettings(i);if(!(t.touches.length>1||t.scale&&1!==t.scale)){var n=t.touches[0];if(e.slideDelta={x:n.pageX-e.slideStart.x,y:n.pageY-e.slideStart.y},void 0===e.isScrolling&&(e.isScrolling=!!(e.isScrolling||Math.abs(e.slideDelta.x)<Math.abs(e.slideDelta.y))),e.isScrolling||t.preventDefault(),!e.isScrolling&&a.touchMove){var o=e.getSlidePos(e.slideIndex);o+=e.slideDelta.x,e.cssTranslateFun(o,0)}}},slideTouchend:function(){var t=this,e=t.element,i=t._getSettings(e),a=t.slideIndex;if(t.slideDelta.x){var n=t.slideDelta.x<0,o="";t.isScrolling||(n?a+=i.slideNum:a-=i.slideNum,null===t.diffTime?o=!0:t.diffTime>i.speed+i.resetBufferTime+100?(o=!0,t.prevTime=t.slideStart.time):o=!1,t.lockFlag&&o&&(t.slideChange(a,n),t.lockFlag=!1))}},getSlidePos:function(t){var e=this.element,i=this._getSettings(e),a=t*(this.slideWidth+i.slideOffset+i.styleOffset)+this.slideWidth*i.transScale;return a*=-1},cssTranslateFun:function(t,e,i,a){var n,o,s=this,r=s.element,l=s._getSettings(r),d=r.find("."+l.listCls),c="";l.listClsAni.length&&"boolean"==typeof a?(1==l.listClsAni.length?n=o=l.listClsAni[0]:(n=l.listClsAni[0],o=l.listClsAni[1]),c=a?o:n,d.addClass(c),setTimeout(function(){d.removeClass(c),s.lockFlag=!0},l.speed+l.resetBufferTime)):setTimeout(function(){s.lockFlag=!0},l.speed+l.resetBufferTime);d.find("li").removeClass(l.itemCurCls).eq(i+1).addClass(l.itemCurCls),d.find("li").css({"-webkit-transition-duration":e+"ms","transition-duration":e+"ms",width:""}),d.css({"-webkit-transition-duration":e+"ms","transition-duration":e+"ms","-webkit-transform":"translate3d("+t+"px, 0px, 0px)",transform:"translate3d("+t+"px, 0px, 0px)"})},setTabIndex:function(t){var e=this.element,i=this._getSettings(e),a=t-1;a<0?a=0:a>=this.itemLen&&(a-=1),"0"==i.isTabIndex?e.find("."+i.markCls).find("li").removeClass("cur").eq(a).addClass("cur"):"1"==i.isTabIndex&&e.find("."+i.markCls).find("span:first").html(a+1)},slideChange:function(t,e){var i=this,a=i.element,n=i._getSettings(a);n.isLoop||(t=(t=t<0?0:t)>i.itemLen-1?i.itemLen-1:t);var o=i.getSlidePos(t);i.cssTranslateFun(o,n.speed,t,e);var s=t;n.isLoop&&(s=i.slideReset(t)),i.slideIndex=s,i.setTabIndex(s),"function"==typeof n.changeSlide&&n.changeSlide(s),a.trigger("slideChange",s)},slideReset:function(e){var i=this,a=i.element,n=i._getSettings(a),o=e;if(e>=i.itemLen+1?o=1:e<1&&(o=i.itemLen),e!=o){var s=n.speed;setTimeout(function(){var e=i.getSlidePos(o);i.cssTranslateFun(e,0),t(n.slideWrap).find("li").eq(o+1).addClass(n.itemCurCls)},s+n.resetBufferTime)}return o},destory:function(){var t=this.element;t.off(),this._setSettings(t,"")}};var n={init:function(e){this.each(function(){var n=t(this);n.data(i)||n.data(i,new a(n,e))})},instance:function(){var e=[];return this.each(function(){var a=t(this);e.push(a.data(i))}),e},select:function(e){var a=t(this).data(i);a&&a.slideChange(e)},destory:function(){var e;this.each(function(){var a=t(this);(e=a.data(i))&&(e.destory(),e=null,a.data(i,""))})}};return t.fn.halfslide_mod=function(){var t=arguments[0],e=arguments;if(n[t]){if(!this.data(i))return void console.log("please init halfslide_mod first");t=n[t],e=Array.prototype.slice.call(arguments,1)}else{if("object"!=(void 0===t?"undefined":(0,o.default)(t))&&t)return console.log("Method "+t+" does not exist on zepto.slide"),this;t=n.init}return t.apply(this,e)},t.fn.halfslide_mod.defaults={slideNum:1,slideOffset:0,listCls:"jdui_slide_list",listItem:"li",speed:300,isLoop:!0,touchMove:!1,slideWrap:null,itemWin:0,itemCurWin:0,itemCurCls:"cur",changeSlide:null,styleOffset:0,isTabIndex:0,listClsAni:[],autoPlay:!1,autoTime:3e3,transScale:.5,resetBufferTime:50},a}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(3));a=[i(1)],void 0===(n=function(t){var e="pageturn-instance",i=function(t,e){this.element=t,this._init(e)};i.prototype={version:"1.0.0",autoPlayID:-1,itemLen:0,isScrolling:void 0,slideStart:{},slideDelta:{},lockFlag:!0,slideIndex:1,diffTime:void 0,prevTime:void 0,_init:function(e){var i=this.element,a=this._getSettings(i),n=a||t.fn.pageturn.defaults;a=t.extend({},n,e),this._setSettings(i,a),this._resizeSlide(),this._renderHandler(),this._bindHandler(),this._autoPlay()},_resizeSlide:function(){var t=this,e=this.element,i=t._getSettings(e),a=e.find("."+i.listCls);a.hasClass("jdui_slide_list")||a.addClass("jdui_slide_list");var n=a.find(i.listItem);n=0==n.length?a.find("."+i.listItem):n,t.itemLen=n.length,0!=t.itemLen&&0!=n.eq(0).width()?(t.slideWidth=i.itemWin,n.css({width:t.slideWidth})):console.log("item not exit;")},_renderHandler:function(){var e=this.element,i=this._getSettings(e),a=i.listStyleCls,n=a.pop(),o=this.itemLen,s=o<i.showNum?o:i.showNum,r=e.find("."+i.listCls),l=r.find(i.listItem),d=[],c=[];i.mountCls&&r.addClass(i.mountCls+s);for(var u=0;u<s;u++)d.push(l.eq(u).clone().addClass(n)),c.push(l.eq(o-(u+1)).clone().addClass(n));for(var p=0;p<d.length;p++)r.append(d[p]),c[p].prependTo(r);for(var h=0;h<l.length;h++)a[h]?l.eq(h).addClass(a[h]):l.eq(h).addClass(n);this._setSettings(e,t.extend(i,{styleCls:a,styleClsOther:n,copyNum:s})),this.setTabIndex(0)},_bindHandler:function(){var t=this,e=t.element;e.on("touchstart",function(e){clearInterval(t.autoPlayID),t.slideTouchstart(e)}),e.on("touchmove",function(e){t.slideTouchmove(e)}),e.on("touchend",function(e){t.slideTouchend(e),t._autoPlay()})},_autoPlay:function(){var t=this,e=this.element,i=t._getSettings(e),a=!!i.listClsAni.length||"";i.autoPlay&&(t.autoPlayID=setInterval(function(){var e=t.slideIndex;e+=i.slideNum,t.lockFlag&&(t.slideChange(e,a),t.lockFlag=!1)},i.autoTime))},_getSettings:function(t){return t.data("pageturnOpt")},_setSettings:function(t,e){t.data("pageturnOpt",e)},slideTouchstart:function(t){var e=this,i=t.touches[0];e.slideStart={x:i.pageX,y:i.pageY,time:+new Date},void 0===e.diffTime?(e.diffTime=null,e.prevTime=e.slideStart.time):e.diffTime=e.slideStart.time-e.prevTime,e.isScrolling=void 0,e.slideDelta={}},slideTouchmove:function(t){var e=this;if(!(t.touches.length>1||t.scale&&1!==t.scale)){var i=t.touches[0];e.slideDelta={x:i.pageX-e.slideStart.x,y:i.pageY-e.slideStart.y},void 0===e.isScrolling&&(e.isScrolling=!!(e.isScrolling||Math.abs(e.slideDelta.x)<Math.abs(e.slideDelta.y))),e.isScrolling||t.preventDefault()}},slideTouchend:function(){var t=this,e=t.element,i=t._getSettings(e),a=t.slideIndex;if(t.slideDelta.x){var n=t.slideDelta.x<0,o="";t.isScrolling||(n?a+=i.slideNum:a-=i.slideNum,null===t.diffTime?o=!0:t.diffTime>i.speed+i.resetBufferTime+200?(o=!0,t.prevTime=t.slideStart.time):o=!1,t.lockFlag&&o&&(t.slideChange(a,n),t.lockFlag=!1))}},fliterCls:function(t,e,i){var a,n=this.element,o=this._getSettings(n),s=o.styleCls,r=o.styleClsOther,l=t,d=l.find("li"),c=d.length,u=0,p=o.copyNum-1,h=o.copyNum,f=o.mountListCls,m="boolean"!=typeof i||i;if("0"==e)a=m?p:c-p-1;else for(var v=0;v<c;v++)if(d.eq(v).hasClass(s[0])){a=v;break}if(m)for(var g=0;g<c;g++)g>a&&u<h?(d.eq(g).removeClass().addClass(s[u]),u++):d.eq(g).removeClass().addClass(r);else{for(var _=0;_<c;_++)_>a&&u<h?(0==u?d.eq(_-2).removeClass().addClass(s[u]+" "+f):d.eq(_-2).removeClass().addClass(s[u]),++u==h&&d.eq(_-1).removeClass().addClass(r)):d.eq(_).removeClass().addClass(r),"0"==e&&_==c-1&&d.eq(_-1).removeClass().addClass(s[p]);setTimeout(function(){l.find("li."+s[0]).removeClass(f)},e)}},cssTranslateFun:function(t,e,i){var a,n,o=this,s=o.element,r=o._getSettings(s),l=r.listClsAni,d=r.listClsAniStop,c=s.find("."+r.listCls),u="";l.length&&"boolean"==typeof i&&0!=e?(1==l.length?a=n=l[0]:(a=l[0],n=l[1]),u=i?n:a,c.hasClass(d)&&c.removeClass(d),c.addClass(u),setTimeout(function(){c.removeClass(u),o.fliterCls(c,e,i),o.lockFlag=!0},r.speed+100)):(d&&c.addClass(d),o.fliterCls(c,e,i),setTimeout(function(){o.lockFlag=!0},100))},setTabIndex:function(t){var e=this.element,i=this._getSettings(e),a=t-1;a<0?a=0:a>=this.itemLen&&(a-=1),"0"==i.isTabIndex?e.find("."+i.markCls).find("li").removeClass("cur").eq(a).addClass("cur"):"1"==i.isTabIndex&&e.find("."+i.markCls).find("span:first").html(a+1)},slideChange:function(t,e){var i=this,a=i.element,n=i._getSettings(a);n.isLoop||(t=(t=t<0?0:t)>i.itemLen-1?i.itemLen-1:t),i.cssTranslateFun(t,n.speed,e);var o=t;n.isLoop&&(o=i.slideReset(t)),i.slideIndex=o,i.setTabIndex(o),"function"==typeof n.changeSlide&&n.changeSlide(o),a.trigger("slideChange",o)},slideReset:function(t){var e,i=this,a=i.element,n=i._getSettings(a),o=t;if(t>=i.itemLen+1?(o=1,e=!0):t<1&&(o=i.itemLen,e=!1),t!=o){var s=n.speed,r=n.resetBufferTime;setTimeout(function(){i.cssTranslateFun(o,0,e)},s+r+220)}return o},destory:function(){var t=this.element;t.off(),this._setSettings(t,"")}};var a={init:function(a){this.each(function(){var n=t(this);n.data(e)||n.data(e,new i(n,a))})},instance:function(){var i=[];return this.each(function(){var a=t(this);i.push(a.data(e))}),i},select:function(i){var a=t(this).data(e);a&&a.slideChange(i)},destory:function(){var i;this.each(function(){var a=t(this);(i=a.data(e))&&(i.destory(),i=null,a.data(e,""))})}};return t.fn.pageturn=function(){var t=arguments[0],i=arguments;if(a[t]){if(!this.data(e))return void console.log("please init pageturn first");t=a[t],i=Array.prototype.slice.call(arguments,1)}else{if("object"!=(void 0===t?"undefined":(0,o.default)(t))&&t)return console.log("Method "+t+" does not exist on zepto.slide"),this;t=a.init}return t.apply(this,i)},t.fn.pageturn.defaults={slideNum:1,listCls:"jdui_slide_list",listItem:"li",speed:300,isLoop:!0,slideWrap:null,itemWin:0,itemCurWin:0,itemCurCls:"cur",changeSlide:null,isTabIndex:0,listClsAni:[],autoPlay:!1,autoTime:3e3,transScale:1,showNum:4,listStyleCls:[],listClsAniStop:"",resetBufferTime:0,mountCls:"",mountListCls:""},i}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(3));a=[i(1)],void 0===(n=function(t){var e="layer_pop-instance",i=function(t,e){this.element=t,this._init(e)},a=!1,n="J_babel_layer_pop_container",s=n,r=n+"_con",l=n+"_cancelBtn",d=n+"_cancelCon",c=n+"_confirmBtn",u=n+"_confirmCon";i.prototype={version:"1.0.0",_init:function(t){this.element;this._createPop()},_createPop:function(){a||t("#"+s).length||(a=!0,t("body").append('<div id="'+s+'" class="layer_mask" style="display:none;"><div class="win"><div class="content"><span id="'+r+'"></span></div><div class="buttons"><div class="btn1" id="'+l+'"><span id="'+d+'"></span></div><div class="btn2" id="'+c+'"><span id="'+u+'"></span></div></div></div></div>'))},_renderText:function(e){var i=this.element,a=this._getSettings(i);e&&(a=e),t("#"+r).text(a.conText),t("#"+d).text(a.cancelBtn),t("#"+u).text(a.confirmBtn)},_clearText:function(){t("#"+r).text(""),t("#"+d).text(""),t("#"+u).text("")},_bindEvent:function(e){var i=this,a=this.element,n=i._getSettings(a);e&&(n=e),t("#"+l).off(),t("#"+c).off(),t("#"+l).on("click",function(){n.cancelCallback&&n.cancelCallback.call(i,t(this))}),t("#"+c).on("click",function(){n.confirmCallback&&n.confirmCallback.call(i,t(this))})},_getSettings:function(t){return t.data("layer_popOpt")},_setSettings:function(t,e){t.data("layer_popOpt",e)},showPop:function(e){this._renderText(e),this._bindEvent(e),t("#"+s).css({display:"block"}),t("body").on("touchmove",function(){return!1})},hidePop:function(){this._clearText(),t("#"+s).css({display:"none"}),t("body").off("touchmove")},destory:function(){var t=this.element;t.off(),this._setSettings(t,"")}};var p={init:function(e){var a=t(this);return new i(a,e)},instance:function(){var i=[];return this.each(function(){var a=t(this);i.push(a.data(e))}),i},destory:function(){var i;this.each(function(){var a=t(this);(i=a.data(e))&&(i.destory(),i=null,a.data(e,""))})}};return t.fn.layer_pop=function(){var t=arguments[0],i=arguments;if(p[t]){if(!this.data(e))return void console.log("please init layer_pop first");t=p[t],i=Array.prototype.slice.call(arguments,1)}else{if("object"!=(void 0===t?"undefined":(0,o.default)(t))&&t)return console.log("Method "+t+" does not exist on zepto.layer_pop"),this;t=p.init}return t.apply(this,i)},t.fn.layer_pop.defaults={conText:"",cancelBtn:"",confirmBtn:"",cancelCallback:null,confirmCallback:null},i}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(3));a=[i(1),i(24)],void 0===(n=function(t,e){var i="layerCardSlide",a=i+"_instance",n="next",s="prev",r=t(window).width();function l(e,i){this.element=e,this.config=this.getConfig(i),this.container=e.find("."+this.config.containerClass),this.sliderDom=e.find(".promo_carousel4_wrap"),this.markerDom=e.find("."+this.config.markerClass),this.slideNum=e.find(".slide").length,this.interval=null,this.left=375*this.container.position().left/r,this.activeIndex=this.config.activeIndex||0,this.isSliding=!1,this.started=!1,this.isMoving=!1,this.touchStart={},this.touchDelta={},this.slidesToShow=this.getSlideToShow(),this.clone(),this.sliderItems=e.find(".slide"),this.initRender=t.proxy(this.initRender,this),this.initRender(),this.bindEventsHandler(),this.cycle(),this.started=!0}l.prototype={bindEventsHandler:function(){var t=this;this.container.on("touchstart",function(e){t.slideTouchstart(e)}),this.container.on("touchmove",function(e){t.slideTouchmove(e)}),this.container.on("touchend",function(e){t.slideTouchend(e)})},clone:function(){this.config.infinite&&this.slideNum==this.slidesToShow&&this.sliderDom.append(this.element.find(".slide").clone().addClass("slide_clone").css({opacity:"0","z-index":"-1"}))},getSlideToShow:function(){return Math.min.call(null,this.config.slidesToShow,this.config.slideScale.length,this.config.slideOffset.length)},initRender:function(){var i=this.slidesToShow;t(this.sliderItems).css({opacity:"0","z-index":"-1",transform:"none","-webkit-transform":"none",transition:"none","-webkit-transition":"none"});for(var a=0;a<i;a++){var n=this.getIndex(this.activeIndex+a),o=t(this.getItem(n)),s=-this.config.sliderWidth*n+this.config.slideOffset[a][0],r=this.config.slideOffset[a][1];o.css({transform:"translate3d("+s+"px, "+r+"px, 0) scale("+this.config.slideScale[a]+");","-webkit-transform":"translate3d("+s+"px, "+r+"px, 0) scale("+this.config.slideScale[a]+");","-webkit-transition":"none",transition:"none","z-index":i-a,opacity:1})}var l=this.activeIndex%this.slideNum;this.renderMarker(l,this.slideNum),this.isSliding=!1,this.config.lazyLoad&&e.lazyLoad.isInViewPort(this.element)&&this.lazyLoadImg(this.activeIndex),this.started&&this.config.onChange&&this.config.onChange(l)},slideTouchstart:function(t){var e=t.touches[0];this.touchStart={x:e.pageX,y:e.pageY},this.pause()},lazyLoadImg:function(i){for(var a=i-1;a<i+this.slidesToShow+1;a++)this.getItem(this.getIndex(a)).find("img[data-src]").each(function(){var i=t(this);i.data("src")&&e.lazyLoad.loadImg(i)})},getIndex:function(t){return t<0?this.getIndex(this.sliderItems.length+t):t%this.sliderItems.length},slideTouchmove:function(t){if(!(t.touches.length>1||t.scale&&1!==t.scale)){var e=t.touches[0];this.touchDelta={x:e.pageX-this.touchStart.x,y:e.pageY-this.touchStart.y},Math.abs(this.touchDelta.y)>Math.abs(this.touchDelta.x)||(t.preventDefault(),this.config.touchmove)}},slideTouchend:function(){if(Math.abs(this.touchDelta.x)>1/this.config.touchThreshold*this.config.sliderWidth){var t=this.touchDelta.x>0?s:n;this.slide(t),this.touchDelta={},this.touchStart={}}else this.cycle()},getResetFuc:function(t){return function(){t.css({transform:"none","-webkit-transform":"none",transition:"none","-webkit-transition":"none","z-index":-1,"transform-origin":"left top","-webkit-transform-origin":"left top"}),t.width()}},to:function(t){var e,i,a=this.activeIndex,o=0,r=0,l=1,d=this;if(t==n)for(var c=0;c<this.slidesToShow+1;c++)e=this.getIndex(a+c),i=this.getItem(e),o=c>0?-this.config.sliderWidth*e+this.config.slideOffset[c-1][0]:0,r=c>0?this.config.slideOffset[c-1][1]:0,l=this.config.slideScale[c-1],0==c?(o=-this.config.sliderWidth*e-this.config.sliderWidth-this.left,i.css("z-index",10),i.width(),i.css({transform:"translate3d("+o+"px, 0px, 0) scale(0.9)","-webkit-transform":"translate3d("+o+"px, 0px, 0) scale(0.9)",opacity:0,"transform-origin":"left center","-webkit-transform-origin":"left center",transition:"all "+this.config.speed+"ms ease","-webkit-transition":"all "+this.config.speed+"ms ease"}),setTimeout(this.getResetFuc(this.getItem(e)),this.config.speed)):c!==this.slidesToShow?i.css({transform:"translate3d("+o+"px, "+r+"px, 0) scale("+l+");","-webkit-transform":"translate3d("+o+"px, "+r+"px, 0) scale("+l+");",opacity:1,transition:"all "+this.config.speed+"ms ease 10ms","-webkit-transition":"all "+this.config.speed+"ms ease 10ms","z-index":this.slidesToShow-c}):h(i,this.config.speed);else if(t==s)for(var u=-1;u<this.slidesToShow;u++)if(e=this.getIndex(a+u),i=this.getItem(e),o=-1!==u?-this.config.sliderWidth*e+this.config.slideOffset[u][0]:0,r=-1!==u?this.config.slideOffset[u][1]:0,l=-1!==u?this.config.slideScale[u][1]:1,-1===u)o=-this.config.sliderWidth*e-this.config.sliderWidth-this.left,i.css({transform:"translate3d("+o+"px, "+r+"px, 0) scale("+l+")","-webkit-transform":"translate3d("+o+"px, "+r+"px, 0) scale("+l+")","-webkit-transition":"none",transition:"none",opacity:0,"z-index":10}),i.width(),i.css({opacity:1,transition:"all "+this.config.speed+"ms ease ","-webkit-transition":"all "+this.config.speed+"ms ease ",transform:"translate3d("+-this.config.sliderWidth*e+"px, "+r+"px, 0) scale("+l+")","-webkit-transform":"translate3d("+-this.config.sliderWidth*e+"px, "+r+"px, 0) scale("+l+")","z-index":this.slidesToShow-u});else if(u!==this.slidesToShow-1){var p=(u+1)%this.slidesToShow;o=-this.config.sliderWidth*e+this.config.slideOffset[p][0],r=this.config.slideOffset[p][1],l=this.config.slideScale[p],i.css({transition:"all "+this.config.speed+"ms ease","-webkit-transition":"all "+this.config.speed+"ms ease",transform:"translate3d("+o+"px, "+r+"px, 0) scale("+l+");","-webkit-transform":"translate3d("+o+"px, "+r+"px, 0) scale("+l+");","z-index":this.slidesToShow-u})}else i.css({opacity:0,transition:"all "+this.config.speed+"ms ease","-webkit-transition":"all "+this.config.speed+"ms ease"});function h(t,e){t.css({transform:"translate3d("+o+"px, "+r+"px, 0) scale("+l+");","-webkit-transform":"translate3d("+o+"px, "+r+"px, 0) scale("+l+");",opacity:0,transition:"none","-webkit-transition":"none","z-index":d.slidesToShow-c}),t.width(),t.css({opacity:1,transition:"all "+e+"ms ease","-webkit-transition":"all "+e+"ms ease"})}},getConfig:function(e){return t.extend({},l.DEFAULTS,e)},dispose:function(){this.container.off(),t.removeData(this.element,a)},prev:function(){!this.isSliding&&this.slide(s)},next:function(){!this.isSliding&&this.slide(n)},slide:function(t){if(this.config.autoplay&&this.pause(),!this.isSliding){this.isSliding=!0;var e=t===n?1:-1,i=this.getIndex(this.activeIndex+e);this.to(t),this.activeIndex=i,this.cycle(),setTimeout(this.initRender,this.config.speed)}},getItem:function(t){return this.sliderItems.eq(t)},renderMarker:function(t,e){if(this.config.showMarker){var i=this.config.markerType,a=this.markerDom;if("label"==i)a.find(".txt1").html(t+1),a.find(".txt2").html(e);else if("dot"==i)a.children.eq(t).addClass("cur");else if("custom"==i&&this.config.onRenderMarker){var n=this.config.onRenderMarker(t,e);this.markerDom.html(n)}}else this.markerDom.hide()},cycle:function(){this.config.autoplay&&(this.interval&&(clearInterval(this.interval),this.interval=null),this.interval=setInterval(this.next.bind(this),this.config.autoplaySpeed))},pause:function(){clearInterval(this.interval),this.interval=null}},l.VERSION="0.0.1",l.DEFAULTS={infinite:!0,autoplay:!1,layzLoad:!1,touchmove:!1,autoplaySpeed:300,slidesToShow:3,speed:300,touchThreshold:5,markerClass:"indicator",showMarker:!0,markerType:"label",containerClass:"promo_carousel4_con"},l._zeptoInterface=function(){var t=arguments[0],e=arguments;return this.each(function(){if("string"==typeof t&&d[t]){if(!this.data(a))return;t=d[t],e=Array.prototype.slice.call(arguments,1)}else{if("object"!=(void 0===t?"undefined":(0,o.default)(t))&&d[t])return this;t=d.init}return t.apply(this,e)})};var d={init:function(e){var i=t(this);i.data(a)||i.data(a,new l(i,e))},dispose:function(){var e=t(this);e.data(a)||e.data(a).dispose()}};return t.fn[i]=l._zeptoInterface,t.fn[i].constructor=l,l}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a;void 0===(a=function(t){var e={header:i(268),hotzone:i(296),guanggao_zuhe:i(43),guanggao_beishu:i(43),guanggao_tonglan:i(43),guanggao_lunbo:i(43),advertsliding:i(43),loucengbiaoti:i(297),shangpin_wuxianxiala:i(298),shangpin_putong:i(300),shangpin_miaosha:i(301),searchelement:i(303),navBottom:i(304),coupon_new:i(305),coupon_layer:i(306),quickentry:i(307),gonggao:i(308),countdown:i(309),waretheme:i(134),articletheme:i(134),preSaleProduct:i(310),customcode:i(311),category_0:i(135),category_1:i(135),bookingProduct:i(313),floatLayer:i(314),choujiang_guaguale:i(315),choujiang_wheel:i(318),topTab:i(136),multiModuleTab:i(136),shangpin_cuxiao:i(321),shopping_guide:i(323),anchor_nav:i(324),liuliang_jiayou:i(326),liuliang_kouling:i(327),live:i(328),advert_try:i(329),basement:i(330),detailed_list:i(331),feed:i(332),product_banner:i(333),advertProduct_theme:i(334),group_buying:i(335),custom_material:i(336),sharegit:i(337),game:i(338),signIn:i(339),panorama:i(340),timeline:i(341),tapXView:i(342),shop_entrance:i(343),errorPage:i(344),rnModule:i(345),medal:i(346),video:i(347),feeds:i(348),composeModule:i(349),multiModuleSideslipTab:i(350),outfit_buy:i(351),ranking_list:i(352),free_coupon:i(354),viewkit:i(355),finance_coupon:i(357),staggered_waterfall_flow:i(358),shangpin_wuxianxiala_flexible:i(361),customjs:i(364),product_auction:i(365),combine_coupon:i(366),reserve:i(367),time_limit_activity:i(384),custom_product_flexible:i(385),wares_favorable_suit:i(388),new_user_interest:i(389)};function a(){}return function(t){var i=e[t];return i||(i=a),i}}.call(e,i,e,t))||(t.exports=a)},function(t,e,i){"use strict";var a,n;a=[i(0),i(54),i(26)],void 0===(n=function(t,e,i){return{_data:{},init:function(t){t&&(this._data=t,this._setHead())},_setHead:function(){i("header",this._data)}}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=m(i(270)),s=m(i(272)),r=m(i(278)),l=m(i(279)),d=m(i(280)),c=m(i(52)),u=m(i(281)),p=m(i(282)),h=m(i(283)),f=m(i(284));function m(t){return t&&t.__esModule?t:{default:t}}a=[i(285),i(286),i(287),i(288),i(289),i(290),i(291),i(292),i(293),i(294),i(295)],void 0===(n=function(t,e,i,a,n,m,v,g,_,b,y){var w={header:[t,e,i,a,n,s.default,m,r.default,v,g],coupon:[_,o.default],freeCoupon:[b],financeCoupon:[u.default,p.default],productBase:[f.default,y,l.default,d.default],errorPage:[h.default]};return(0,c.default)(w)}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=l(i(271)),n=l(i(31)),o=i(0),s=l(o),r=l(i(2));function l(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){o.runtimeEnv.isYhdUrl?(t._receive=function(){return 0==this.couponBuildType||1==this.couponBuildType?this.receiveFree.apply(this,arguments):3==this.couponBuildType&&this.receiveFinance.apply(this,arguments)},t.receiveBeanCoupon=function(t,e){var i=this,n=this.couponList[t],s=n.srv||"",r=Object.assign({},n);r=Object.assign(r,{statuCls:"show",scope:n.scope||n.cpName,couponColorCls:(0,a.default)({red:"0"==n.color,blue:"1"==n.color})}),this._layerReset();var l=o.util.compile(this.$layer_tpl,Object.assign({beanType:"金币"},r));this.$layer.html(l).addClass("show"),this.$layer.on("click.q",".pay_beans",function(){return i._pingEvent(1,s),i._receiveCoinExchangeCoupon(t,e),i._layerReset(),!1}),this.$layer.on("click.q",".babel_module_close",function(){return i._layerReset(),i._pingEvent(0,s),!1}),$("body").on("touchmove.q",function(){return!1})},t._layerReset=function(){this.$layer.removeClass("show"),this.$layer.off(".q"),$("body").off(".q"),this.$layer.empty()},t._receiveCoinExchangeCoupon=function(t,e){var i=this,a=o.runtimeEnv.protocol+"//channel.m.yhd.com/api/ajaxGenerateCoinCoupon.do",n=this.couponList[t],l=Object.assign({key:n.cpId,pageClickKey:"Babel_Coupon"},s.default.couponData.formatCouponData);r.default.loading.show(),new Promise(function(t,e){$.ajax({url:a,dataType:"jsonp",data:l,success:function(e){t(e)},error:function(t){e(t)}})}).then(function(t){var a=t.code,n=t.message;"1000"==a?(o.mod.showToast({content:n,iconCls:"icon_right"}),e.addClass(i.receiveCls)):/^(10008|10011)$/.test(a)?o.util.goLogin():o.mod.showToast({content:n,iconCls:"icon_wrong"}),r.default.loading.hide()}).catch(function(t){r.default.loading.hide(),console.log("receiveCoinExchangeCoupon ajax error",t)})},t.receiveFinance=function(t,e){var i=this.couponList[t].cpId,a=this,n=Object.assign({},s.default.couponData.formatCouponData,{pageClickKey:"Babel_Coupon"}),l="//coupon.yhd.com/couponCenter/financereceive.do?key="+i;return r.default.loading.show(),$.ajax({url:l,dataType:"jsonp",data:n}).then(function(t){var e=t.retcode,i=t.value;return"410"==e?(o.util.goLogin(),!1):"402"==e?(a.showPop("您即将领取京东金融提供的优惠券，需要绑定京东金融/京东账号才能领取，是否绑定？",null,null,function(){location.href="//vip.yhd.com/union-login/authorize.do?resultUrl="+encodeURIComponent(location.href)+"&view=wap"}),!1):"200"==e&&i}).then(function(t){if(!t)return!1;a.showPop("是否领券至已绑定的京东支付"+t+"账号下？","关闭","去领券",function(){r.default.loading.show(),$.ajax({url:l+"&action=rec",dataType:"jsonp",data:n}).then(function(t){var i=t.retcode,n=t.message;if("200"==i)return o.mod.showToast({content:n,iconCls:"icon_right"}),void e.addClass(a.receiveCls);o.mod.showToast({content:n,iconCls:"icon_wrong"})}).always(function(){r.default.loading.hide()}),this.hidePop()})}).fail(function(){console.log("数据请求失败")}).always(function(){r.default.loading.hide()})},t.showPop=function(t,e,i,a,n){n||(n=function(){this.hidePop()}),a||(a=function(){this.hidePop()}),this.layerObj=this.$el.layer_pop(),this.layerObj&&this.layerObj.showPop({conText:t,cancelBtn:e||"否",confirmBtn:i||"是",confirmCallback:a,cancelCallback:n})},t.receiveFree=function(t,e){var i=this,a=n.default.yhd.freeCouponUrl,l=this.couponList[t];if(l.degradePic)o.mod.reportEventdata({event_id:"Babel_CouponFallback",event_param:l.jump.srv,event_level:""},s.default.activityData);else{r.default.loading.show();var d=l.args.split(","),c=void 0,u=void 0;$.each(d,function(t,e){e.indexOf("key=")>-1&&(c=e.substring(4)),e.indexOf("roleId=")>-1&&(u=e.substring(7))});var p=Object.assign({key:c,ruleId:u},s.default.couponData.formatCouponData,{pageClickKey:"Babel_Coupon"}),h=a.match(/\.json/)?"json":"jsonp";$.ajax({url:a,dataType:h,data:p,success:function(t){999==t.code?(e.addClass(i.receiveCls),o.mod.showToast({content:t.message,iconCls:"icon_right"})):10008==t.code?o.util.goLogin():34==t.code||54==t.code?(i.layerObj=i.$el.layer_pop(),i.layerObj&&i.layerObj.showPop({conText:"此券需要实名认证用户才可领取哦",cancelBtn:"算了吧",confirmBtn:"去实名认证",confirmCallback:function(){var t=this;setTimeout(function(){var e="https://home.m.yhd.com/h5myinfo/h5UserAuthPage.do?identitySource=identityTongTianTaH5&callbackSuccUrl="+location.href;window.location=e,t.hidePop()},200)},cancelCallback:function(){this.hidePop()}})):[10001,10006,10009].indexOf(t.code)>-1?o.mod.showToast({content:"貌似有点小问题，请您30秒后再次尝试~",iconCls:"icon_wrong"}):[30,37,38,39,41,42].indexOf(t.code)>-1?o.mod.showToast({content:"貌似领不了哇，看一下其他活动吧~",iconCls:"icon_wrong"}):o.mod.showToast({content:t.message,iconCls:"icon_wrong"})},error:function(){o.mod.showToast({content:"此时排队领券的人太多，休息一会儿再试试吧~"})},complete:function(){r.default.loading.hide()}})}},e(t)):e(t)}},,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=l(i(273)),n=l(i(3)),o=l(i(90)),s=i(0),r=l(s);function l(t){return t&&t.__esModule?t:{default:t}}var d=s.util.getQueryString,c={WQ:"jd",KEPLER:"kepler",BD:"baidu",TT:"toutiao",SEVENFRESH:"7fresh"};e.default=function(t,e){s.runtimeEnv.isMiniUrl?(!function(){var t,e="https://res.wx.qq.com/open/js/jweixin-1.3.0.js",i=(t={},(0,o.default)(t,c.WQ,{api:[e,"//wq.360buyimg.com/js/common/dest/wq.wxapi.ext.fa8cfba475.js"],track:"https://wq.360buyimg.com/js/common/dest/wq.jshop.report.min.js"}),(0,o.default)(t,c.KEPLER,{api:[e]}),(0,o.default)(t,c.BD,{api:["//b.bdstatic.com/searchbox/icms/searchbox/js/swan.js"]}),(0,o.default)(t,c.TT,{api:["//s3.pstatp.com/toutiao/tmajssdk/jssdk.js"],getValue:function(){return[window.tt]}}),(0,o.default)(t,c.SEVENFRESH,{api:[e,"//cdn.7fresh.com/sevenfresh.miniprogram.js"]}),t);if(window.wxApp||window.swan)return;var l=s.util.getQueryString("loginPlugin")||"0",u="true"===s.util.getQueryString("isTabBarH5"),p="1"===s.util.getQueryString("isSwitchTab");window.wx=window.wxApp={loaded:!1,wxAppChannel:s.runtimeEnv.wxAppName,gotoWrapper:function(t,e){if(this.loaded){var i=this;if(t=t.replace(/[&?]{1,2}/,"?"),"jd"===this.wxAppChannel&&this.isWxapp&&this.goto&&this.urls&&this.urls.detail)this.isWxapp(function(a){a?i.goto(t):location.href=e});else if("baidu"===this.wxAppChannel){var a=window.swan;if(!a.webView||!a.webView.navigateTo)return void(location.href=e);a.webView.navigateTo({url:t})}else{if(!i.miniProgram||!i.miniProgram.navigateTo)return void(location.href=e);i.miniProgram.navigateTo({url:t,fail:function(e){console.error(e,t)},success:function(){}})}}else location.href=e},jump:function(t,e){var i=encodeURIComponent(window.location.href);if(e||(e="{}"),e="object"===(void 0===e?"undefined":(0,n.default)(e))?e:JSON.parse(e),"jd"===this.wxAppChannel)switch(e.type){case"2":this.gotoWrapper(this.urls.detail+"?sku="+e.value,t);break;case"3":this.gotoWrapper("/pages/shop/index/index?venderId="+e.venderId,t);break;case"27":this.gotoWrapper(this.urls.pgitem+"?sku="+e.value,t);break;case"couponUrl":location.href=t;break;case"search":this.gotoWrapper("/pages/search/list/list?key="+encodeURIComponent(e.value),t);break;default:location.href=t}else if("7fresh"===this.wxAppChannel){var a=r.default.activityData,o=a.storeId,d=a.activityId;switch(e.type){case"2":this.jumpProductDetail({wareId:e.value,shopId:e.params.storeId});break;case"3":this.jumpShopDetail({shopId:e.value});break;case"27":this.jumpGroupByDetail({sku:e.value,shopId:o,activityId:d});break;case"couponUrl":this.jumpCouponUrl({key:e.key,roleId:e.roleId});break;case"blankJump":this.jumpBlankWebview({src:t});break;case"miniJump":this.jumpWxApp({appId:"",path:""});break;case"login":this.jumpLogin();break;case"search":this.jumpSearch({searchText:e.value,shopId:o});break;default:location.href=t}}else{var c=s.util.getQueryString("wxAppId");switch(e.type){case"2":this.gotoWrapper(this.urls.detail+"?wareId="+e.value,t);break;case"3":this.gotoWrapper(this.urls.shop+"?shopId="+e.value,t);break;case"27":this.gotoWrapper(this.urls.pgitem+"?sku="+e.value+"&loginPlugin="+l+(h?"&"+h:""),t);break;case"login":"baidu"===this.wxAppChannel?this.gotoWrapper(this.urls.bdMiniLogin+"?pageType=h5&returnPage="+i,t):"toutiao"===this.wxAppChannel?this.gotoWrapper(this.urls.bdMiniLogin+"?returnPage="+encodeURIComponent("/pages/activityH5/activityH5?redirectUrl="+i),t):this.gotoWrapper(this.urls.login+"?isH5=1"+(p?"&pageType=switchTab":"")+"&appid=604&wxversion="+c+("1"===l?"&returnPage=":"&returnpage=")+e.value,t);break;case"miniJump":this.gotoWrapper(this.urls.miniJump+"?"+e.value,t);break;case"couponUrl":this.gotoWrapper(this.urls.couponUrl+"?key="+e.key+"&roleId="+e.roleId+"&returnUrl="+i,t);break;case"blankJump":this.gotoWrapper(this.urls.blankJump+""+encodeURIComponent(t),t);break;case"search":"toutiao"===this.wxAppChannel?this.gotoWrapper(this.urls.ttSearch+"?searchText="+e.value,t):"kepler"===this.wxAppChannel&&this.gotoWrapper(this.urls.kplSearch+"?name="+encodeURIComponent(e.value),t);break;default:location.href=t}}}};var h=function(){var t=decodeURIComponent(d("cookie"));try{var e=JSON.parse(t);return Object.keys(e).map(function(t){return t+"="+e[t]}).join("&")}catch(t){}return""}();!function(){var t=i[s.runtimeEnv.wxAppName];if(!t)return;new Promise(function(e){s.runtimeEnv.isWxApp?(_require(t.api,function(){var i=t.getValue?t.getValue.apply(t,arguments):arguments;Object.assign.apply(Object,[window.wxApp].concat([{loaded:!0}].concat((0,a.default)(i)))),e(window.wxApp)}),_require([t.track])):s.runtimeEnv.isCommonMini?_require(t.api,function(){Object.assign.apply(Object,[window.wxApp].concat([{loaded:!0}].concat(Array.prototype.slice.call(arguments))))}):_require(t.api,function(){var i=t.getValue?t.getValue.apply(t,arguments):arguments;Object.assign.apply(Object,[window.wxApp].concat([{loaded:!0}].concat((0,a.default)(i),[{urls:{detail:"/pages/product/product",shop:"/pages/shop/shop",login:"1"===l?"/pages/login/index/index":"/pages/login/login",bdMiniLogin:"/pages/login/main/main",couponUrl:"/pages/coupon/getCoupon/getCoupon",pgitem:"/pages/ftproduct/ftproduct",miniJump:"/pages/wxappBridge/wxappBridge",blankJump:u?"/pages/activityH5/activityH5?redirectUrl=":"/pages/secondWebview/secondWebview?url=",ttSearch:"/pages/search/search",kplSearch:"/pages/searchlist/searchlist"}}]))),e(window.wxApp)})})}()}(),s.mod.reportEventdata({wxAppName:s.util.getQueryString("wxAppName"),wxAppId:s.util.getQueryString("wxAppId"),siteId:s.util.getQueryString("siteId")},r.default.activityData)):e(t)}},,,,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(12);e.default=(0,a.yaoChannel)(function(){})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(i(91)),n=i(0),o=i(12);e.default=(0,o.yhdChanel)(function(t,e){Object.assign(t,{initCart:function(t){var e=t.node,o=void 0===e?null:e,s=t.carCls,r=void 0===s?"pd_buy_car":s,l=t.itemCls,d=void 0===l?"":l,c=t.clickCallback,u=void 0===c?function(){return!0}:c,p=t.toastNode,h=void 0===p?$("#J_babelOptPage"):p,f=(0,a.default)(t,["node","carCls","itemCls","clickCallback","toastNode"]);o&&o.on("click","."+r,function(t){!function(t){t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.preventDefault()}(t);var e=$(this).parents("."+d);return Promise.resolve(u(e)).then(function(t){if(t){var a=e.data().sku,o=e[0].getAttribute("report-eventparam");n.loading.show(),i(a).then(function(t){var e=t.msg;h.toast("show",{content:e,conCls:"shop_cart",iconCls:"icon_right"}),n.mod.reportShopCartData({type:"add",skuId:a,event_id:f.eid,event_level:"5",event_param:o},f.activityData),n.loading.hide()}).catch(function(t){var e=t.msg;h.toast("show",{content:e,conCls:"shop_cart",iconCls:"icon_wrong"}),n.loading.hide()})}}),!1})}});var i=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return new Promise(function(a,n){$.ajax({url:"//cart.m.yhd.com/cart/opt/add.do?pid="+t+"&pcount="+e+"&ptype="+i,dataType:"jsonp"}).then(a).fail(function(){return n({msg:"添加购物车失败"})})}).then(o)},o=function(t){return"00000000"!==t.code?Promise.reject(t):t};e()})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(i(91)),n=i(0),o=i(12),s=i(25);e.default=(0,o.freshChannel)(function(t,e){Object.assign(t,{initCart:function(t){var e=t.node,i=void 0===e?null:e,s=t.carCls,r=void 0===s?"pd_buy_car":s,l=t.itemCls,d=void 0===l?"":l,c=t.clickCallback,u=void 0===c?function(){return!0}:c,p=t.toastNode,h=void 0===p?$("#J_babelOptPage"):p,f=(0,a.default)(t,["node","carCls","itemCls","clickCallback","toastNode"]);i&&i.on("click","."+r,function(t){!function(t){t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.preventDefault()}(t);var e=$(this).parents("."+d);return Promise.resolve(u(e)).then(function(t){if(t){var i=e.data(),a=i.sku,s=i.pop,r=e[0].getAttribute("report-eventparam");n.loading.show(),o(a,!!s).then(function(t){var e=t.msg;h.toast("show",{content:e,conCls:"shop_cart",iconCls:"icon_right"}),n.mod.reportShopCartData({type:"add",skuId:a,event_id:f.eid,event_level:"5",event_param:r},f.activityData),n.loading.hide()}).catch(function(t){var e=t.msg;h.toast("show",{content:e,conCls:"shop_cart",iconCls:"icon_wrong"}),n.loading.hide()})}}),!1})}});var i=n.activityData.storeId||(0,s.getQueryString)("storeId")||"",o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t&&i&&window.SevenFresh?window.SevenFresh.api.addCart({skuId:t,buyNum:1,storeId:i,isPop:e}):((!t||!i)&&console.log("skuid或storeid为空,加车失败"),Promise.reject({msg:"添加购物车失败，请稍后重试！"}))};e()})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(0);e.default=function(t,e){a.runtimeEnv.isWQUrl?(t.wqMain=function(){var t=this;this.$el.on("click",".coupon",function(e){e.preventDefault();var i=$(this),a=i.index(),n=t.couponList[a];t._pingEvent(2,n.srv),i.hasClass(t.robCls)||i.hasClass(t.receiveCls)||i.hasClass("stateClsFlag")||i.hasClass(t.yhdReceiveRobCls)||function(t){var e=this.couponList[t];e&e.args?this.receiveCoupon.apply(this,arguments):this.receiveFinanceCoupon.apply(this,arguments)}.call(t,a,i)})},t.receiveCoupon=function(t,e){var i=this.couponList[t],a=e.parents("div[data-template]").data("pdid");-1==i.args.indexOf("?")?i.args=i.args+"?ptag="+a+"."+t:i.args=i.args+"&ptag="+a+"."+t,window.location.href=i.args},t.receiveFinanceCoupon=function(t){var e=this.couponList[t],i="https://wqs.jd.com/promote/2018/"+{4:"licai",5:"zhongchou",6:"jintiao",7:"baitiaocoupon",8:"jrcoupon",9:"waidan"}[e.couponStyle]+"/index.html?keyid="+e.cpId;window.location.href=i},e(t)):e(t)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(0),n=s(a),o=s(i(2));function s(t){return t&&t.__esModule?t:{default:t}}e.default=function(t,e){a.runtimeEnv.isYhdUrl?e(t):(t.yhdMain=function(){var t=this;this.$el.on("click",".coupon",function(e){e.preventDefault();var i=$(this),s=i.index(),r=t.couponList[s];t._pingEvent(2,r.srv),i.hasClass(t.robCls)||i.hasClass(t.receiveCls)||i.hasClass("stateClsFlag")||i.hasClass(t.yhdReceiveRobCls)||function(t,e){var i=this.couponList[t].cpId,s=this,r=Object.assign({},n.default.couponData.formatCouponData,{pageClickKey:"Babel_Coupon"}),l="//coupon.yhd.com/couponCenter/financereceive.do?key="+i;return o.default.loading.show(),$.ajax({url:l,dataType:"jsonp",data:r}).then(function(t){var e=t.retcode,i=t.value;return"410"==e?(a.util.goLogin(),!1):"402"==e?(s.showPop("您即将领取京东金融提供的优惠券，需要绑定京东金融/京东账号才能领取，是否绑定？",null,null,function(){location.href="//vip.yhd.com/union-login/authorize.do?resultUrl="+encodeURIComponent(location.href)+"&view=wap"}),!1):"200"==e&&i}).then(function(t){if(!t)return!1;s.showPop("是否领券至已绑定的京东支付"+t+"账号下？","关闭","去领券",function(){o.default.loading.show(),$.ajax({url:l+"&action=rec",dataType:"jsonp",data:r}).then(function(t){var i=t.retcode,n=t.message;if("200"==i)return a.mod.showToast({content:n,iconCls:"icon_right"}),void e.addClass(s.receiveCls);a.mod.showToast({content:n,iconCls:"icon_wrong"})}).always(function(){o.default.loading.hide()}),this.hidePop()})}).fail(function(){console.log("数据请求失败"),a.mod.showToast({content:"领取失败，请稍后再试"})}).always(function(){o.default.loading.hide()})}.call(t,s,i)})},t.showPop=function(t,e,i,a,n){n||(n=function(){this.hidePop()}),a||(a=function(){this.hidePop()}),this.layerObj=this.$el.layer_pop(),this.layerObj&&this.layerObj.showPop({conText:t,cancelBtn:e||"否",confirmBtn:i||"是",confirmCallback:a,cancelCallback:n})},e(t))}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(12),n=i(0);e.default=(0,a.miniChannel)(function(t){Object.assign(t,{postInit:function(){var t=n.util.getQueryString("tttdegradeurl"),e=n.util.getQueryString("tttdegradepath"),i=function(){};t?i=function(){window.location=t}:e&&(i=function(){window.wxApp.gotoWrapper(e)});var a=3;!function t(){console.log(a);a>0?setTimeout(t,1e3):i();a--}()}})})},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=function(t){return t&&t.__esModule?t:{default:t}}(i(91)),n=i(12),o=i(0);var s=o.util.getQueryString;e.default=(0,n.sevenfreshMiniChannel)(function(t){Object.assign(t,{initCart:function(t){var e=t.node,i=void 0===e?null:e,n=t.carCls,r=void 0===n?"pd_buy_car":n,l=t.itemCls,d=void 0===l?"":l,c=t.clickCallback,u=void 0===c?function(){return!0}:c,p=t.toastNode,h=void 0===p?$("#J_babelOptPage"):p,f=(0,a.default)(t,["node","carCls","itemCls","clickCallback","toastNode"]);i&&i.on("click","."+r,function(t){!function(t){t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),t.preventDefault()}(t);var e=$(this).parents("."+d);return Promise.resolve(u(e)).then(function(t){if(t){var i=e.data(),a=i.sku,n=i.pop,r=e[0].getAttribute("report-eventparam");!n&&o.loading.show(),window.wx.addCart({skuId:a,buyNum:1,serviceTagId:"",storeId:o.activityData.storeId||s("storeId"),isPop:n},{success:function(t){t.success?(!n&&h.toast("show",{content:t.msg||"添加购物车成功",conCls:"shop_cart",iconCls:"icon_right"}),o.mod.reportShopCartData({type:"add",skuId:a,event_id:f.eid,event_level:"5",event_param:r},f.activityData)):h.toast("show",{content:t.data.msg||"添加购物车失败",conCls:"shop_cart",iconCls:"icon_wrong"}),o.loading.hide()},fail:function(){h.toast("show",{content:"添加购物车失败",conCls:"shop_cart",iconCls:"icon_wrong"}),o.loading.hide()}})}}),!1})}})})},function(t,e,i){"use strict";var a,n,o=i(53);a=[i(0),i(54)],void 0===(n=function(t,e){var i=t.runtimeEnv,a=t.activityData.categories,n=!1;return window.headTitleClicked=function(){if(n){var e={keyWord:"",showWord:"",realWord:"",channelName:t.activityData.activityId||"",channelTitle:t.activityData.title||""},i=t.util.stringFormat('openApp.jdmobile://virtual?params={"des":"search","category":"jump","from":"babel","channelName":"{0}","channelTitle":"{1}","showWord":"{2}","realWord":"{3}}"}',e.channelName,e.channelTitle,e.showWord,e.realWord);location.href=i}},function(s,r){if(n="1"==s.searchBox&&s.searchBoxConfig&&s.searchBoxConfig.searchBoxStyle,i.isJdApp){if(("jr"===i.shareFrom||a&&"15298"===a.c1)&&(0,o.jrTracking)(),i.isIphoneJdAppGte500||i.isAndroidJdAppGte500){var l=s.imgUrl?s.imgUrl:"",d=t.protocol+l;"0"==s.nameType&&s.imgUrl&&setTimeout(function(){e.setPicTitle(d)},650);var c=1;"1"==s.searchBox&&(c=500),setTimeout(function(){e.setNaviBackground({pic:s.titleBgImgUrl,backgroundColor:s.slideUpBgColor})},c);var u=["share","cart","search"][1*s.showTitle];u||(u="cart"),e.configBtn({type:u,display:"show",position:"outside",icon:"",title:"",jump:"",data:s,activityData:t.activityData}),e.searchBtn({searchType:"1"==s.searchBox,searchBoxConfig:s.searchBoxConfig||{},titleBgImgUrl:s.titleBgImgUrl,bgColor:s.slideUpBgColor,iconStyle:s.routineStyleIconFontColor})}}else r(s)}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0)],void 0===(n=function(t){var e=t.runtimeEnv;return function(t,i){e.isYhdApp?_require(["//img.yihaodianimg.com/front-homepage/mglobal/js/babel.js"]):i(t)}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0)],void 0===(n=function(t){var e=t.runtimeEnv,i=t.util;return function(t,a){if(e.isYhdUrl){var n="//wechat-yhd.yhd.com/wechat/getTicket.do?appCode=pagoda&url="+encodeURIComponent(location.href)+"&callback=?",o=t.shareInfo||{};_require(["//img.yihaodianimg.com/front-homepage/mglobal/js/babel.js"]);var s=o.sharingImgFile&&-1!==o.sharingImgFile.indexOf("http")?o.sharingImgFile:location.protocol+o.sharingImgFile;i.wxShare.shareMenu({type:"url",url:n},{title:o.sharingTitle,imgUrl:s,desc:o.sharingIntro,link:o.sharingUrl?o.sharingUrl.replace(/\/\/(pro|h5)\.m\.jd\.com\/((mall|wq)\/)?/g,"//pro.yhd.com/yhd/"):""})}else a(t)}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0)],void 0===(n=function(t){var e=t.runtimeEnv;return function(t,i){e.isWQUrl?_require(["//wq.360buyimg.com/js/common/dest/wq.jshop.report.min.js?t=20170307"]):i(t)}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0)],void 0===(n=function(t){var e=t.runtimeEnv,i=(e.isWeChat||e.isQQ)&&!e.isWQUrl&&t.find(".errorPage").length>0;return function(t,e){i||e(t)}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=i(53);a=[i(0)],void 0===(n=function(t){var e=t.runtimeEnv,i=t.activityData.categories,a="https://m.jr.jd.com/crayfish/zui/bridge/1.0.7/bridge.js";return function(t,n){e.isJdFinanceApp||"jr"===e.shareFrom||i&&"15298"===i.c1?(e.isJdFinanceApp&&function(){var e=t.shareInfo||{};_require([a],function(){window.jsBridgeV3.onReady().then(function(t){t.jsToNaWeiXin({isShow:!0,optionType:1,btnText:"分享",shareDate:{appId:"",img:-1===e.sharingImgFile.indexOf("http")?"https:"+e.sharingImgFile:e.sharingImgFile,link:e.sharingUrl,desc:e.sharingIntro,title:e.sharingTitle,friendesc:e.sharingTitle,type:""}})})})}(),(0,o.jrTracking)(),!e.isJdFinanceApp&&n(t)):n(t)}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0)],void 0===(n=function(t){var e=t.runtimeEnv,i=e.is7FreshApp,a=e.is7FreshUrl;return function(e,n){if(a){var o=t.dataHub,s=parseInt((new Date).getTime()/6e5,10);_require(["//cdn.7fresh.com/sevenfresh.h5.js?t="+s],function(t){window.SevenFresh=t,window.SevenFresh.init(),i||window.SevenFresh.api.addHeader().then(function(){$(window).scroll()}),t.api.initShare(o.head.shareInfo||{})})}else n(e)}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0)],void 0===(n=function(t){var e=t.mod,i=t.util,a=window.location.href.toLowerCase().indexOf("showhead=no")>-1;return function(n,o){a?o(n):function(a,n){n||(n={}),n.download=!0;var o=parseInt((new Date).getTime()/6e5,10);_require(["//wq.360buyimg.com/js/common/dest/m_common_merge.min.js?t="+o],function(){try{var o=new window.MCommonHeaderBottom,s="京东",r=e.getQueryString("ads_fc");a&&a.name&&(s=a.name);var l={hrederId:"m_common_header",title:s};o.header(l);var d=encodeURIComponent(location.href),c={tipId:"m_common_tip_no_float",isfloat:!1,isAlwayShow:!0,downloadAppPlugIn:{noRecord:!0,downAppURl:"//h5.m.jd.com/active/download/download.html?channel=jd-mxz5",inteneUrl:"openApp.jdMobile://virtual?",inteneUrlParams:{category:"jump",des:"m",sourceValue:"babel-act",sourceType:"babel",url:d},M_sourceFrom:"H5",closeCallblack:function(){$("#m_common_header").prev().remove()}},onClickTipX:function(){setTimeout(function(){t.trigger("downloadPanelLayout","onClickTipX")},300)},callFunShowTip:function(){t.trigger("downloadPanelLayout","callFunShowTip")}};if(r&&r.indexOf("_")>-1){var u=(r=r.split("_"))[0],p=r[1],h=!1;t.runtimeEnv.isAndroid?(h=!0,c.downloadAppPlugIn.downAppURl="//storage.360buyimg.com/jdmobile/mapp-ad01.apk"):t.runtimeEnv.isIphone&&(h=!0,c.downloadAppPlugIn.openAppCallback=function(){var t=p,e=u,a=i.md5(t+""+e+"127.0.0.11FELFOK4IHR5GDROLRJGKFU84FKGLFOUF").toUpperCase(),n=i.stringFormat("//adcollect.m.jd.com/adcollect.action?unionId={0}&subunionId={1}&idfa={2}&extMatchingKey={3}&clientIp={4}&callbackInfo1={5}&callbackInfo2={6}&extInfo1={7}&extInfo2={8}&clientType={9}&sign={10}",t,"",e,"","127.0.0.1","","","","","1",a),o=$("<img>")[0];o.src=n}),h&&(c.downloadAppPlugIn.openAppEventId="MDownLoadFloat_OpenNow_ad",c.downloadAppPlugIn.closePanelEventId="MDownLoadFloat_Close_ad")}n&&n.download&&o.jdTipNew(c);var f="no"!=i.getQueryString("openapp");if(f){var m={downAppURl:c.downloadAppPlugIn.downAppURl,inteneUrl:c.downloadAppPlugIn.inteneUrl,inteneUrlParams:c.downloadAppPlugIn.inteneUrlParams,M_sourceFrom:"h5auto",NoJumpDownLoadPage:!0};$.downloadAppPlugInOpenApp(m)}}catch(t){console.log(t)}})}(n)}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a;void 0===(a=function(){return function(t,e){e(t)}}.call(e,i,e,t))||(t.exports=a)},function(t,e,i){"use strict";var a,n;a=[i(0),i(2)],void 0===(n=function(t,e){var i=t.runtimeEnv,a=t.mod,n=t.util;return function(o,s){i.isYhdUrl?(o.receiveYhd=function(){return this.receiveFree.apply(this,arguments)},o.showPop=function(t,e,i,a,n){n||(n=function(){this.hidePop()}),a||(a=function(){this.hidePop()}),this.layerObj=this.$el.layer_pop(),this.layerObj&&this.layerObj.showPop({conText:t,cancelBtn:e||"否",confirmBtn:i||"是",confirmCallback:a,cancelCallback:n})},o.receiveFree=function(o,s){var r=this,l=i.protocol+"//channel.m.yhd.com/api/ajaxGenerateCoupon.do",d=this.couponList[o];if(d.degradePic)a.reportEventdata({event_id:"Babel_CouponFallback",event_param:d.jump.srv,event_level:""},t.activityData);else{e.loading.show();var c,u,p=d.args.split(",");$.each(p,function(t,e){e.indexOf("key=")>-1&&(c=e.substring(4)),e.indexOf("roleId=")>-1&&(u=e.substring(7))});var h=$.extend({key:c,ruleId:u},t.couponData.formatCouponData,{pageClickKey:"Babel_Coupon"}),f=l.match(/\.json/)?"json":"jsonp";$.ajax({url:l,dataType:f,data:h,success:function(t){999==t.code?(s.addClass(r.receiveCls),a.showToast({content:t.message,iconCls:"icon_right"})):10008==t.code?n.goLogin():34==t.code||54==t.code?(r.layerObj=r.$el.layer_pop(),r.layerObj&&r.layerObj.showPop({conText:"此券需要实名认证用户才可领取哦",cancelBtn:"算了吧",confirmBtn:"去实名认证",confirmCallback:function(){var t=this;setTimeout(function(){var e="https://home.m.yhd.com/h5myinfo/h5UserAuthPage.do?identitySource=identityTongTianTaH5&callbackSuccUrl="+location.href;window.location=e,t.hidePop()},200)},cancelCallback:function(){this.hidePop()}})):[10001,10006,10009].indexOf(t.code)>-1?a.showToast({content:"貌似有点小问题，请您30秒后再次尝试~",iconCls:"icon_wrong"}):[30,37,38,39,41,42].indexOf(t.code)>-1?a.showToast({content:"貌似领不了哇，看一下其他活动吧~",iconCls:"icon_wrong"}):a.showToast({content:t.message,iconCls:"icon_wrong"})},error:function(){console.log("数据请求失败！"),a.showToast({content:"领取失败，请稍后再试~"})},complete:function(){e.loading.hide()}})}},s(o)):s(o)}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0)],void 0===(n=function(t){var e=t.runtimeEnv,i=t.loading,a=t.loadCardJs,n=t.util,o=!1;return a(function(){o=!0}),{handle:function(a,s){function r(t,a,o){i.show();var s=!e.isWxkeplerApp&&!e.isBaiduMini&&!e.isttMini;window.AddcartToolObj&&window.AddcartToolObj.addCart&&window.AddcartToolObj.addCart({sucFun:function(t){"string"==typeof t&&(t=JSON.parse(t)),i.hide(),0==t.errId?a():"13"==t.errId?n.goLogin():o(t.errMsg)},skuId:t,isWq:s,actId:"1",source:"tttwxapp",failFun:function(){o(),i.hide()}})}e.isMiniUrl?(a.initCart=function(t){var e=this,i=t.carCls?"."+t.carCls:".pd_buy_car";t.node.on("click",i,function(i){i.stopPropagation(),i.stopImmediatePropagation&&i.stopImmediatePropagation(),i.preventDefault();var a=$(this).parents("."+t.itemCls);if(t.clickCallback){var n=t.clickCallback(a);if(!n)return!n}var o=a.attr("data-sku"),s=a.attr("report-eventparam");return e.addCartItem(o,s,t),!1})},a.addCartItem=function(i,a,n){var s=n.toastNode,l=function(){s.toast("show",{content:"恭喜您, 成功添加商品至购物车",conCls:"shop_cart",iconCls:"icon_right"}),t.mod.reportShopCartData({type:"add",skuId:i,event_id:n.eid,event_level:"5",event_param:a},n.activityData)},d=function(){s.toast("show",{content:"添加购物车失败",conCls:"shop_cart",iconCls:"icon_wrong"})};e.isWxkeplerApp||e.isBaiduMini,o&&r(i,l,d)}):s(a)}}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0),i(42)],void 0===(n=function(t,e){var i=t.mod,a=t.util,n=i.preLoadImg,o=t.$window,s=t.width,r=s/375;return function(i,l){return t.Create({cssText:"",$el:l,init:function(){var t=this,i=l.find(".img_wrap"),r=l.data().floornum,d=i.data("size").split(",");this.cssText="";var c=d[2];i.find(".J_ping").each(function(e){var i=$(this).data("pos").split(","),a=s/c,n=t._getPos({left:i[0],top:i[1],width:i[2],height:i[3]},a);t.cssText+=".bab_opt_mod_"+r+" .hot_space:nth-of-type("+(e+1)+") {"+n+"}"}),this.$el.on("click",".hot_space",function(){var e=$(this).data("module")+"";t._scrollToAnchorFloor(e)}),n(i.find("img")[0].src,function(t){t[0]&&i.css("background-image","none")}),o.off("hotzone_anchorToUnloadFloorSuccess hotzone_anchorToUnloadFloorFailed").on("hotzone_anchorToUnloadFloorSuccess",function(i){e.hide(),t._scrollToAnchorFloor(i._args)}).on("hotzone_anchorToUnloadFloorFailed",function(){e.hide()}),t._resetPriceTag(),a.createStyleElement(this.cssText)},_getPos:function(t,e){var i="";for(var a in t)i+=a+":"+Math.ceil(t[a]*e)+"px;";return i},_scrollToAnchorFloor:function(t){if(t){var i=$('.bab_opt_mod[data-moduleid="'+t+'"]');if(i.length>0){var a=$(".anchor_navigation_wrap"),n=i.position().top;a.length&&a.offset().top<=n&&(n-=a.height()),o.scrollTop(n)}else e.show(),$(window).trigger("hotzone_anchorToUnloadFloor",t)}},_resetPriceTag:function(){var t=this.$el.find(".price_tag_wrap"),e=r;t.each(function(){var t,i,a=$(this),n=a.data("pos").split(","),o=0==+a.data("align"),s=a.width(),r=+n[0]/3,l=+n[1]/3;t=Math.floor(l*e),i=o?Math.floor(r*e):Math.floor((r-s)*e),a.css({top:t,left:i,transform:"scale("+e+")",whiteSpace:"nowrap"}),this.setAttribute("style",this.style.cssText+"-webkit-transform:scale("+e+");"),a.addClass("price_tag_wrap--show"),$(a.children(".price_tag")[0]).css({maxWidth:o?window.innerWidth-i-28+"px":"",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"})})}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0)],void 0===(n=function(t){var e=t.mod.preLoadImg;return function(i,a){return t.Create({$el:a,init:function(){var t=this,i=this.$el.find(".title_img img"),a=i.data("src")||i[0].src;this.$el.find(".ft_module").hasClass("img_title")&&e(a,function(e){e[0]&&t.$el.find(".main_title>span").addClass("hide")}),"1"==i.data("pos")&&i.data("callback",{error:function(){t.$el.find(".ft_module").removeClass("main_title_hide")}})}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=r(i(299)),s=r(i(31));function r(t){return t&&t.__esModule?t:{default:t}}a=[i(1),i(4),i(0),i(5),i(2)],void 0===(n=function(t,e,i,a,n){var r=n.ptag,l=i.util.cookie,d=i.mod,c=(i.runtimeEnv,{config:null,modData:null,$node:null,$listTpl:o.default,pageNum:-1,tabFixedId:-1,isLoadData:!1,isLoadError:!1,tabType:"normal",cateType:null,subscriptTpl:".bab_opt_mod_<%=obj.floorNum%> .dropdown_pd_module .pd_commom.add_square_tip_1 .pd_tip, .bab_opt_mod_<%=obj.floorNum%> .dropdown_pd_module .pd_commom.add_square_tip_2 .pd_tip, .bab_opt_mod_<%=obj.floorNum%> .dropdown_pd_module .pd_commom.add_square_tip_3 .pd_tip{background: url(<%=obj.waresListConfig.subscriptUrl%>); background-size: 40px 40px;}",curCateIndex:{index:0,subIndex:0},mainStyle:null,_init:function(t,e,i){this.$node=e,this.modData=i,this._render(),this._bindEventError()},_bindEventError:function(){var e=this,i=function(){var t=e._getCateData();e._loadListData(t,e.pageNum)};e.$node.find(".dropdown_loading").on("click",function(){t(this).attr("class").match("error")&&i()}),e.$node.on("click",".load_fail_wrap",function(){i()})},_render:function(){var t=this,e=t.$node,n=t.modData,o=t._getMainStyle();t.mainStyle=o,i.mod.setFloorBgColor(e.find(".dropdown_pd_module"),n.backgroundColor),t._checkCate(),t.curCateIndex={index:0,subIndex:0},"none"!=t.tabType&&a.renderTabOpzStyle("infinity",t.$node,t.modData.originTabStyle,function(){t._initTab();var e=t._getCateData();t._checkCateData(e)}),t._initCart(),t._initLooksimilar(),t._addExt()},_checkCate:function(){var t,e=this.modData,n=this.$node,o="normal";if(1==e.tabList.length){o="onlysub",n.find(".dropdown_pd_tab").remove();var s=n.find(".dropdown_pd_main_head").attr("class","dropdown_pd_tab"),r=s.find("li").length,l=a.getTabNumCls(r);s.addClass(l),0==(t=e.tabList[0]?e.tabList[0].secondTabList:[]).length&&(o="none",i.mod.hideFloor(n)),1==t.length&&(o="none",n.find(".dropdown_pd_tab").addClass("hide"))}this.cateType=o},_checkCateData:function(t){t?(this.pageNum=1,this._loadListData(t,this.pageNum)):this._addErrorStyle("none");var e=this.curCateIndex.index,i=this.$node.find(".dropdown_pd_main_head").eq(e);i.find("li").length<2&&i.addClass("hide")},_loadListData:function(e,i){var a=this,n=e,o=a.modData.passback;if(n.pageNum>=i)return a._checkLimit(n.pageNum,n.totalPageNum),a._renderList(e,n.type),void(a.pageNum=n.pageNum);a._setLoading("normal"),1==i&&a._setLoading("none"),a.isLoadData=!0;var r;r=s.default.functionIds.getBabelProductPaged;var c,u={secondTabId:e.secondTabId,type:e.type,pageNum:i.toString(),ofn:a.modData.ofn,passback:o};o&&(c=JSON.parse(o))&&c.platform&&"wq"==c.platform&&(u.unionId=l.get("wq_unionid"),u.openId=l.get("open_id"),u.visitKey=l.get("visitkey")),a.modData.isRankListInfinity&&(u.params=e.params||{}),u=JSON.stringify(u);var p=d.getBabelUrlParam(u,!0,!0);t.ajax({url:r,data:p,dataType:"jsonp",success:function(t){if(a.isLoadData=!1,a._setLoading("normal"),0==t.code&&0==t.subCode){a.isLoadError=!1;var e=t.waresPagedList;n.pageNum=i,1==i&&(n.waresPagedList=e),n.pageNum=1,n.totalPageNum=Number(t.totalPageNum),a._checkLimit(i,n.totalPageNum),a._dealwaresPagedList(t.waresPagedList),a._renderList(t,n.type)}else a._loadErrorHandler()},error:function(){a._loadErrorHandler()}})},_dealwaresPagedList:function(t){for(var e=0;e<t.length;e++){var i=t[e];i.newTag="1"===i.newTag?1:0,i.isfansPrice=!!i.fansPrice}},_loadErrorHandler:function(){1==this.pageNum?this._addErrorStyle("err"):this._setLoading("error"),this.isLoadData=!1,this.isLoadError=!0},_setLoading:function(t){var e=this.$node.find(".dropdown_loading"),i=["dropdown_loading"];t&&t.length>0&&i.push(t),e.find(".limit_tip").text({limit:"没有更多了",error:"加载失败，点击重新加载"}[t]),e.attr("class",i.join(" "))},_checkLimit:function(t,e){t>=e&&this._setLoading("limit")},_renderList:function(n,o){var s=this.$listTpl,l=i.activityData,c=this.modData.waresListConfig,u=n;if(u=t.extend({},u),"0"!=o&&"1-1"!=o&&"1-2"!=o||u.waresPagedList.length%2&&u.waresPagedList.length--,1==this.pageNum&&0==u.waresPagedList.length)return this._addErrorStyle("none"),void(this.$node.find(".dropdown_pd_tab").hasClass("hide")&&d.hideFloor(this.$node));var p=this.mainStyle;u.typePd=function(){var t=!0;return this.ads&&(t=!1),t},a.setPdInfinityLineStyle(u),d.tplLinkData(u,l);var h=c.subscript;if(a.tplTipCls(u,p,h),u.soldOutCls=function(){var t="";return"N"==this.realStock&&(t="sold_out"),0==t.length&&"N"==this.areaStk&&(t="area_sold_out"),t},u.tagCls=function(){var t="";return 0==this.tag.length&&(t="hide_op_2"),t},u.waresPagedList)for(var f=0,m=u.waresPagedList.length;f<m;f++){var v=u.waresPagedList[f];v.hideCart="1"==v.hideCart;var g=c.similar;v.hideLookSimilar=Boolean(Number(g)),v.looksimilar="2"==g,v.samekind="1"==g,v.looksimilar?(v.looksimilar_src="//m.360buyimg.com/babel/jfs/t6184/201/432765156/3173/cd2ef259/593f5983N59eeef1b.png",v.looksimilar_class="item-looksimilar"):v.samekind&&(v.looksimilar_src="//m.360buyimg.com/babel/jfs/t6025/359/9475909340/2180/6fea4a43/59940993Na822f5ae.png",v.looksimilar_class="item-samekind",v.sameKindUrl=v.sameJump.params.url)}this.dealNowPrice(u);var _=e.render(s,u),b=this.$node.find(".dropdown_pd_main_body");if(this.pageNum>1)b.append(_);else{b.html(_);var y=this._getCateData(),w="",C="",x="",k="big_pic";"1-3"!=y.type&&"1-4"!=y.type||("1"==c.promoTag&&(C="add_promotion"),"2"==c.promoTag&&(C="add_product_new"),k="list"),"0"!=c.jdPrice&&"2"!=c.jdPrice||(x={list:"all_hide",big_pic:"price_hide"}[k]),"6"==c.jdPrice&&(w="add_product_new"),"8"===c.jdPrice&&(w="add_fun_price"),"9"===c.jdPrice&&(w="add_newer_price"),"10"===c.jdPrice&&(w="add_enter_price"),"11"===c.jdPrice&&(w="add_student_price"),"7"==c.jdPrice&&(x="has_nothing");var I=p.type[y.type],T=["dropdown_pd_module","pd_module_preStyle",I,w,x,C].join(" ");T+=" "+this.mainStyle.styleCls,this.$node.find(".dropdown_pd_module").attr("class",T);var S=I.split(" ");S=S.length>1?S[1]:"",b.attr("class","dropdown_pd_main_body "+S)}t(window).scroll(),a.tplSubscriptUrl(this.modData,this.$node,this.subscriptTpl);var j=this.$node.find(".dropdown_pd_main_head:visible").find("li").eq(this.curCateIndex.subIndex);!j.hasClass("cur")&&j.addClass("cur"),r.addPtag(this.$node,".J_ping")},_getMainStyle:function(){var e,i=this.modData.waresListConfig,n={},o={type:{0:"big_pic","1-1":"big_pic one_pic","1-2":"big_pic three_pic","1-3":"list one_pic","1-4":"list"},showBuyCar:["no_buycar",""],showLookSimilar:["","pd_lookSimilar","pd_lookSimilar"]};t.extend(o,a.styleOpt);var s=[];return e=o.subscript[i.subscript],d.addStyleCls(s,o.slogan[i.slogan]),d.addStyleCls(s,o.pricehide[i.jdPrice]),d.addStyleCls(s,o.showBuyCar[i.showBuyCar]),d.addStyleCls(s,o.showLookSimilar[i.similar?i.similar:0]),"1"==i.showLongPic&&d.addStyleCls(s,"long_pic"),n.styleCls=s.join(" "),n.subscript=e,n.type=o.type,n},_addErrorStyle:function(e){var i=this.$node.find(".dropdown_pd_main_body");this._setLoading("hide");var n=this.$node.find(".dropdown_pd_tab").height();n+=this.$node.find(".dropdown_pd_main_head").not("hide").height();var o=t(window).height()-n;"none"==e?a.addNoneStyle(i,o):"err"==e&&a.addLoadError(i,o)},_initTab:function(){var e=this,n=e.$node,o={node:n,tabMainWrap:n.find(".dropdown_pd_tab"),tabHdList:n.find(".dropdown_pd_tab li"),tabBdList:n.find(".dropdown_pd_main_head"),tabHdWrap:n.find(".dropdown_pd_tab .dropdown_pd_nav_wrap"),reportId:"Babel_InfiniteTab1",activityData:i.activityData,tabFixedId:e.tabFixedId,tabLimitNum:1,callback:function(){n.find(".dropdown_pd_main_head").eq(0).find("li").eq(0).addClass("cur");var e=t(window).height()-n.height();n.find(".dropdown_pd_main_body").css("min-height",e)},tabClickLoading:function(){return e.isLoadData},tabClickCallbak:function(t,i){0==i.find("li.cur").length&&i.find("li").eq(0).addClass("cur");var a=t.index(),n=i.find("li.cur").index(),o=e._getCateData(a,n);e._checkCateData(o)},scrollCallback:function(){var i=t(window).scrollTop(),a=t(document).height(),n=t(window).height();if(!e.isLoadData&&i/(a-n)>.8){var o=e._getCateData(),s=e.pageNum+1;if(e.isLoadError&&(s=e.pageNum),!o||s>o.totalPageNum)return;e.pageNum=s,e.scrollBottom=!1,e._loadListData(o,e.pageNum)}}};a.initTab(o),"normal"==e.tabType&&e._bindEventTabSub()},_bindEventTabSub:function(){var e=this;e.$node.find(".dropdown_pd_main_head").length>0&&e.$node.find(".dropdown_pd_main_head li").on("click",function(){var a=t(this);if(!a.hasClass("cur")&&!e.isLoadData){t(this).parents(".dropdown_pd_main_head").find("li").removeClass("cur"),a.addClass("cur");var n=e.curCateIndex.index,o=t(this).index(),s=e._getCateData(n,o);e.pageNum=1,e._loadListData(s,e.pageNum),d.reportEventdata({event_id:"Babel_InfiniteTab2",event_param:a.attr("data-srv")},i.activityData)}})},_getCateData:function(t,e){if(t=void 0!=t?t:this.curCateIndex.index,e=void 0!=e?e:this.curCateIndex.subIndex,"onlysub"==this.cateType&&(e=t,t=0),this.modData.tabList[t])return this.curCateIndex.index=t,this.curCateIndex.subIndex=e,this.modData.tabList[t].secondTabList[e]},_initCart:function(){var e=this.$node,n=i.activityData,o=t("#J_babelOptPage");o.toast(),this.toastNode=o,a.initCart({node:e,itemCls:"pd_commom",activityData:n,toastNode:o,eid:"Babel_InfiniteCart"})},_initLooksimilar:function(){var t=this.$node,e=i.activityData;a.initLooksimilar({node:t,itemCls:"pd_commom",activityData:e,eids:{looksimilar:"Babel_InfiniteSimilar",sameKind:"Babel_InfiniteSame"}})},_addExt:function(){var e=this.$node,a=i.activityData;e.on("click","a.pd_commom",function(){var e=t(this).data("extension_id"),i=t(this).data("href"),n={event_id:t(this).attr("report-eventid"),event_param:t(this).attr("report-eventparam"),event_level:t(this).attr("report-eventlevel")};e&&(n.extension_id=JSON.stringify(e)),d.reportEventdata(n,a),setTimeout(function(){location.href=i},300)})},dealNowPrice:function(t){function e(t){return isNaN(t)?"":parseInt(t)===parseFloat(t)?"":"."+t.split(".")[1]}function i(t){return isNaN(t)?"":parseInt(t)}for(var a=0;a<t.waresPagedList.length;a++){var n=t.waresPagedList[a];n.nowPriceValue=i(n.pPrice),n.nowPricePoint=e(n.pPrice)}}});return function(){var t=Object.create(c);t._init.apply(t,arguments)}}.apply(e,a))||(t.exports=n)},function(t,e){t.exports='{{#waresPagedList}} {{#typePd}} <div class="dropdown_pd_main_body_wrap{{#isRankListInfinity}} {{tipCls}}{{/isRankListInfinity}}"> <a class="pd_commom autoexpo {{^isRankListInfinity}} {{tipCls}}{{/isRankListInfinity}} {{tagCls}} {{soldOutCls}}" data-expoflag="{{secondTabId}}_{{rankNumber}}" data-expourl="{{clientExposalUrl}}" data-href="{{url}}" target="{{inkTarget}}" report-eventid="Babel_InfiniteDetails" report-eventparam="{{srv}}" report-pagename="{{pageUrl}}" report-pageparam="{{pageId}}" data-sku="{{skuId}}" data-es="{{expoSrv}}" report-eventlevel="4" data-extension_id="{{extension_id}}"> <div class="pd_pic"> <img data-src="{{pictureUrl}}" src="//m.360buyimg.com/cms/jfs/t2218/111/2490744834/43/9acceab1/56d55ce6N5a567661.gif"> <span class="pd_sold_out">已售罄</span> <div class="pd_tip"> <div class="text_1">{{copyWriting}}</div> <div class="text_2">{{copyWritingDown}}</div> </div> {{^soldOutCls}} {{#priceTypeClsLine}} <div class="pd_preLine"> <div class="pd_preBest">{{btContent}} {{#btTime}}{{btTime}}{{/btTime}}</div> </div> {{/priceTypeClsLine}} {{#priceTypeClsBig}} <div class="pd_preBig"> <div class="pd_preBigArea"> <span class="pd_preBigTitle">活动价</span> <span class="pd_preBigSale">&yen;{{ptPrice}}</span> <span class="pd_preBigDate">{{ptTime}}</span> </div> </div> {{/priceTypeClsBig}} {{#priceTypeClsBigLine}} <div class="pd_preBigLine"> <div class="pd_preBest">{{btContent}}</div> <div class="pd_preBigPos"> <div class="pd_preBigArea"> <span class="pd_preBigTitle">活动价</span> <span class="pd_preBigSale">&yen;{{ptPrice}}</span> <span class="pd_preBigDate">{{ptTime}}</span> </div> </div> </div> {{/priceTypeClsBigLine}} {{/soldOutCls}} </div> <div class="pd_info"> <div class="pd_title">{{name}}</div> {{#tag}}<div class="pd_op_text">{{tag}}</div>{{/tag}} <div class="pd_wrap"> <div class="pd_price_wrap"> <div class="pd_now_price"><span>&yen;</span>{{nowPriceValue}}<span>{{nowPricePoint}}</span></div> {{#plusPrice}} <div class="pd_plus_price">{{plusPrice}}<i class="pd_plus_icon"></i></div> {{/plusPrice}} {{#isfansPrice}} <div class="fun_price_cn"> <span class="fun_price_text">¥{{fansPrice}}</span> <span class="fun_price"></span> </div> {{/isfansPrice}} {{#newerPrice}} <div class="newer_price_cn"> <span class="newer_price_text">&yen;{{newerPrice}}</span> <span class="newer_price"></span> </div> {{/newerPrice}} {{#enterPrice}} <div class="enter_price_cn"> <span class="enter_price_text">&yen;{{enterPrice}}</span> <span class="enter_price"></span> </div> {{/enterPrice}} {{#stuPrice}} <div class="student_price_cn"> <span class="student_price_text">&yen;{{stuPrice}}</span> <span class="student_price"></span> </div> {{/stuPrice}} <div class="pd_old_price"> {{#pcpPrice}}<del class="old">&yen;{{pcpPrice}}</del>{{/pcpPrice}} {{#promotionTag}}<span class="replace_price">{{promotionTag}}</span>{{/promotionTag}} </div> </div> {{#looksimilar}} <div class="{{looksimilar_class}}"> <button class="button_similar">看相似</button> </div> {{/looksimilar}} {{#samekind}} <div class="{{looksimilar_class}}" data-url="{{sameKindUrl}}"> <button class="button_similar">看同款</button> </div> {{/samekind}} {{^hideCart}} <div class="pd_buy_car"> <span class="icon_wrap"></span> </div> {{/hideCart}} </div> <div class="promotion_label"> {{#promotionTag}}<span>{{promotionTag}}</span>{{/promotionTag}} {{#promotionTag2}}<span>{{promotionTag2}}</span>{{/promotionTag2}} </div> {{#newTag}} <span class="product_new"></span> {{/newTag}} </div> </a> </div> {{/typePd}} {{^typePd}} <div class="active_position"> {{#ads}} <a class="J_ping" href="{{url}}" target="{{inkTarget}}" report-eventid="Babel_InfiniteCampaign" report-eventparam="{{jump.srv}}" report-pagename="{{pageUrl}}" report-pageparam="{{pageId}}" data-es="{{expoSrv}}" report-eventlevel="3"> <img data-src="{{pictureUrl}}" src="//m.360buyimg.com/cms/jfs/t2218/111/2490744834/43/9acceab1/56d55ce6N5a567661.gif"> </a> {{/ads}} </div> {{/typePd}} {{/waresPagedList}}'},function(t,e,i){"use strict";var a,n;a=[i(0),i(4),i(5),i(2)],void 0===(n=function(t,e,i,a){var n=t.mod,o=(t.runtimeEnv,a.ptag),s={$node:null,modData:null,tabFixedId:-1,curIndex:0,subscriptTpl:".bab_opt_mod_<%=obj.floorNum%> .pd_module .pd_commom.add_square_tip_1 .pd_tip, .bab_opt_mod_<%=obj.floorNum%> .pd_module .pd_commom.add_square_tip_2 .pd_tip, .bab_opt_mod_<%=obj.floorNum%> .pd_module .pd_commom.add_square_tip_3 .pd_tip{background: url(<%=obj.waresListConfig.subscriptUrl%>); background-size: 40px 40px;}",_init:function(e,a,o){var s=this;s.$node=a;var r=s.modData=o;s.haveLous="3"==o.waresListConfig.jdPrice,t.on("onGetSkuExtraInfosEvent",function(t){if(s.haveLous){var e=t._args;r.moduleId==e&&s.loadExtraData()}}),s.normalStyle=s.modData.normalStyle,s.listStyleTwo=s.modData.listStyleTwo;var l=s._getStyle();if(s.modData.styleCls=l.styleCls,s.style=l,i.tplSubscriptUrl(o,a,s.subscriptTpl),r.hasTab)i.renderTabOpzStyle("pd",s.$node,s.modData.originTabStyle,function(){s._initTab(),s._checkBlankList()});else if("7"==r.styleId){var d=s.$node.find(".tab_list .pd_module.list3").eq(0);d.hasClass("hide")&&d.removeClass("hide")}if((s.modData.normalStyle||s.modData.listStyleTwo||"9"==s.modData.styleId)&&s._initCart(),(s.modData.normalStyle||s.modData.listStyleTwo)&&s._initLooksimilar(),s._initPriceNotice(),s._checkSloganIcon(),"3"==r.styleId){var c=s.$node.find(".pd_commom_wrap");n.horizontalScrollCheck(c),s._checkGesture()}"9"==r.styleId&&s._bindCouponReceive()},_bindCouponReceive:function(){var e=this;e.$node.on("click",".coupon_wrapper",function(i){i.preventDefault(),i.stopPropagation();var o=$(i.currentTarget).data("key"),s=$(i.currentTarget).data("role"),r=$(i.currentTarget).parents(".pd_commom").attr("report-jsonparam"),l=n.getBabelUrlDev2Release("newBabelAwardCollection"),d={activityId:t.activityData.encodeActivityId,from:e.modData.cpChannelKey};d=$.extend({},d,{scene:1,args:"key="+o+",roleId="+s},t.couponData.formatCouponData,{pageClickKey:"Babel_Coupon"}),d=JSON.stringify(d);var c=n.getBabelUrlParam(d,!0);$.ajax({url:l,type:"POST",dataType:"json",data:c,xhrFields:{withCredentials:!0},success:function(e){var i=!1;"0"==e.code?(i=/^(0|A1|B1)$/.test(e.subCode))?n.showToast({iconCls:"icon_right",content:e.subCodeMsg||"领取成功"}):n.showToast({iconCls:"icon_wrong",content:e.subCodeMsg||"此时排队领券的人太多,休息一会儿再试试吧"}):"3"==e.code&&void 0===e.subCode?t.util.goLogin():n.showToast({content:e.subCodeMsg||"此时排队领券的人太多,休息一会儿再试试吧"}),n.reportEventdata({event_id:"Babel_CommonCouponGet",event_param:JSON.stringify(Object.assign({},JSON.parse(r),{jud:i?"0":"1"})),event_level:""},t.activityData)},error:function(){n.showToast({iconCls:"icon_wrong",content:"此时排队领券的人太多,休息一会儿再试试吧"}),n.reportEventdata({event_id:"Babel_CommonCouponGet",event_param:JSON.stringify(Object.assign({},JSON.parse(r),{jud:"1"})),event_level:""},t.activityData)},complete:function(){a.loading.hide()}})})},_checkGesture:function(){this.$node.gesture({scrollWrapCls:"pd_commom_wrap",listWrapCls:"pd_commom",lookMoreCls:"look_more",callback:function(){t.trigger("report")}})},_initTab:function(){var e=this,a=e.$node,n={node:a,tabMainWrap:a.find(".pd_tab"),tabHdList:a.find(".pd_nav li"),tabBdList:a.find(".tab_list .pd_module"),tabHdWrap:a.find(".pd_nav_wrap"),reportId:"Babel_CommonTab",activityData:t.activityData,tabFixedId:e.tabFixedId,tabLimitNum:1,tabClickCallbak:function(t){var i=t.index();e.curIndex=i,e._reRenderList()}};i.initTab(n)},_checkBlankList:function(){var t=this.$node.find(".tab_list .pd_module"),e=$(window).height()-40;$.each(t,function(t,a){0==(a=$(a)).find(".pd_commom").length&&i.addNoneStyle(a,e)})},_initCart:function(){var e=this.$node,a=t.activityData,n=$("#J_babelOptPage");n.toast(),this.toastNode=n,i.initCart({node:e,itemCls:"pd_commom",activityData:a,toastNode:n,eid:"Babel_CommonCart"})},_initPriceNotice:function(){var e=this.$node,a=t.activityData,n=$("#J_babelOptPage");n.toast(),i.initPriceNotice({node:e,itemCls:"pd_commom",activityData:a,toastNode:n,eid:"Babel_CommonReducePrice",waresList:this.modData.waresList})},_initLooksimilar:function(){var e=this.$node,a=t.activityData;i.initLooksimilar({node:e,itemCls:"pd_commom",activityData:a,eids:{looksimilar:"Babel_CommonSimilar",sameKind:"Babel_CommonSame"}})},_checkSloganIcon:function(){var t=this.$node,e=t.find(".pd_commom"),i=t.find(".pd_op_text_two img");e.each(function(t,e){var i=$(e).find(".pd_op_text_two");i.length||$(e).hasClass("op_2_hide")?i.length&&$(e).removeClass("op_2_hide"):$(e).addClass("op_2_hide")}),0!=i.length&&i.forEach(function(t){$(t).data({callback:{success:function(){},error:function(){}}})})},loadExtraData:function(){var t=this.modData,e=this.haveLous?"1":"0";i.getSkuData(t),i.loadExtraData({data:t,lousStr:e,instance:this})},_addExt:function(){var e=this.$node,i=t.activityData;e.on("click",".pd_commom",function(){var t=$(this),e=t.data("extension_id"),a=t.data("href"),o={event_id:t.attr("report-eventid"),event_param:t.attr("report-eventparam"),event_level:t.attr("report-eventlevel")};e&&(o.extension_id=JSON.stringify(e)),n.reportEventdata(o,i),setTimeout(function(){location.href=a},300)})},mergeExtraData:function(t){i.skuDataDealt("set",this.modData,t),this.reRender()},reRender:function(){this._reRenderList()},_reRenderList:function(){var t=this.$node,e=this.modData,a=this.curIndex,n=t.find(".pd_module").eq(a),s=e.waresList[a].groupInfoList;if("3"==e.styleId&&(n=n.find(".pd_commom_wrap")),!s.reRender&&e.getSkuExtraSign){if("7"==e.styleId)for(var r=0,l=e.waresList.length;r<l;r++){var d=e.waresList[r].groupInfoList,c=d.length<3?null:d.length%3;null!=c&&(0!=c&&(e.waresList[r].groupInfoList=d.splice(0,d.length-c)))}i.reRenderList({instance:this,tabBody:n,haveLous:this.haveLous}),s.reRender=!0,o.addPtag(t,".J_ping")}},_renderSubscriptBg:function(){i.tplSubscriptUrl(this.modData,this.$node,this.subscriptTpl)},_generateIousStr:function(t){var e='<span class="txt">&yen;'+t.sInfo.price+"<em>x"+t.sInfo.stages+"期</em></span>",i=this._getIousTagStr(t);return i.length>0&&(e="<i>"+i+"</i>"+e),e},_getIousTagStr:function(t){var e=this.modData.styleId,i="";return t.sInfo&&t.sInfo.proType?(t.sInfo.proType>0&&("0"==e&&(i="惠"),"2"==e&&(i="1"==t.sInfo.proType?"免息":"优惠")),i):i},_configListData:function(e){var a=this,o=a.modData;if(e.goodcount)return e;var s=a.style;n.tplLinkData(e,t.activityData);var r=Boolean(o.waresListConfig.sloganPicture),l=new RegExp("add_op_2 add_op_img");a.listStyleTwo&&(e.buttonText=$.trim(o.waresListConfig.buttonText)||"加入购物车",e.inlineStyle=s.inlineStyle,a._tplDataSlogan(e),r||(e.styleCls=s.styleCls.replace(l," ")));var d=o.waresListConfig.subscript;i.tplTipCls(e,s,d);var c=e.tabList?e.tabList.length:0;(a.normalStyle||a.listStyleTwo)&&(e.tagCls=function(){var t="";return 0==(this.tag?this.tag.length:0)&&(t="hide_op_2"),t});var u=e.waresList?e.waresList[a.curIndex].areaFilterType:e.areaFilterType;i.tplSoldOutCls(e,"",u),e.goodcount=function(){var t=[];return this.sInfo&&this.sInfo.price&&this.sInfo.stages&&"N"==this.hasPresale&&t.push("have_ious"),this.commentCount&&0==this.commentCount.length&&0==this.goodRate.length&&t.push("no_evaluate"),t.join(" ")};var p=!0;return e.tabStyle=i.getTabNumCls(c),"0"!=o.tabStyle&&(a.normalStyle||a.listStyleTwo||"7"==o.styleId)&&1!=c||(e.tabList=[],p=!1),e.hasTab=p,a.hasTab=p,o.waresListConfig.jump&&"3"==o.styleId&&(e.more=o.waresListConfig),e.iousPrice=function(){var t=!1;return this.sInfo&&this.sInfo.stages&&this.sInfo.price&&(t=!0,this.price=this.sInfo.price,this.stages=this.sInfo.stages),t},e.iousPriceTag=function(){var t=a._getIousTagStr(this);return this.iousPriceTxt=t,t},e},_tplDataSlogan:function(t){var e=this,i=t;return i.hasSloganIcon=function(){return!e._checkPlot(this)},i.sloganCls=function(){return e.newFlag=!e.newFlag,e._checkPlot(this)?"op_2_hide":""},i},_checkPlot:function(t){var e=$.trim(t.backUpWords);return!(t.backUpWords&&e.length&&t.backUpPictures&&t.backUpPictures.length)},_getStyle:function(){var t,e=this.modData,a=e.waresListConfig,o="",s={styleId:["big_pic","waterfall","list","slide hashorizontalslide","list_2","","","list3"],subscript:i.styleOpt.subscript,pricehide:["price_hide","","","ious_price","","pd_plus_block"],slogan:i.styleOpt.slogan,sloganPicture:{0:"",1:"add_op_2 add_op_img"},showAppPrice:["","phone_price"],showGoodCount:["","have_evaluate"],showBuyCar:["no_buycar",""]},r=[];return n.addStyleCls(r,s.styleId[e.styleId]),t=s.subscript[a.subscript],(this.normalStyle||this.listStyleTwo)&&(n.addStyleCls(r,s.slogan[a.slogan]),this.listStyleTwo&&(n.addStyleCls(r,s.sloganPicture[a.sloganPicture]),o="background:"+(a.buttonBackgroundColor||"#f0250f")+";color:"+(a.buttonTextColor||"#fff"))),n.addStyleCls(r,s.pricehide[a.jdPrice]),n.addStyleCls(r,s.showAppPrice[a.showAppPrice]),n.addStyleCls(r,s.showGoodCount[a.showGoodCount]),n.addStyleCls(r,s.showBuyCar[a.showBuyCar]),{styleCls:r.join(" "),subscript:t,inlineStyle:o}}};return function(){var t=Object.create(s);s._init.apply(t,arguments)}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(302));a=[i(0),i(4),i(5),i(2)],void 0===(n=function(t,e,i,a){var n=t.mod,s=a.ptag,r={id:Math.floor(1e7*Math.random()),$node:null,modData:null,$listTpl:o.default,tabFixedId:-1,curIndex:0,swipeWidth:0,initTime:0,baktabListData:null,isJump:"0",pageType:"0",pageUrl:"",subscriptTpl:".bab_opt_mod_<%=obj.floorNum%> .rush_pd_module .pd_commom.add_square_tip_1 .pd_tip, .bab_opt_mod_<%=obj.floorNum%> .rush_pd_module .pd_commom.add_square_tip_2 .pd_tip, .bab_opt_mod_<%=obj.floorNum%> .rush_pd_module .pd_commom.add_square_tip_3 .pd_tip{background: url(<%=obj.waresListConfig.subscriptUrl%>); background-size: 40px 40px;}",init:function(e,i,a){var o=this;o.initTime=(new Date).getTime(),o.$node=i,o.modData=a,o.isJump=a.isJump,o.pageType=a.pageType,o.pageUrl=a.pageUrl,t.on("onGetSkuExtraInfosEvent",function(t){var e=t._args;o.modData.moduleId==e&&o.loadExtraData()}),o.baktabListData=$.extend(!0,{},a.tabList),o.curIndex=o.modData.curIndex,o._renderList(!0),o._initCart(),o.modData.hasTab&&o._initTab(),"1"!=o.isJump||t.runtimeEnv.isWQUrl||i.on("click","a.J_ping",function(e){if("pd_buy_car"!=e.srcElement.className){var i=$(this).attr("report-eventparam");setTimeout(function(){n.reportEventdata({event_id:"Babel_RushEntrance",event_param:i,event_level:"3"},t.activityData)},100)}})},_renderList:function(a){var o=this,r=o.$listTpl,l=o.modData,d=o.curIndex,c=l.mainStyle,u=l.waresListConfig,p=l.waresList[d],h=l.tabList[d],f=h.stageStatus,m=o._getTimeRemain();if(m<=0&&"-1"!=h.stageStatus&&d!=l.tabList.length-1&&o._switchTabTime(),!a){if("10"==l.styleId&&p.groupInfoList.length%2&&p.groupInfoList.length--,"11"==l.styleId){var v=l.waresListConfig.stock;p.pdStyle=function(){var t="";return"1"==v?o._checkStock(v,this.saledPercent)&&(t="bottom:10px;"):"2"==v?o._checkStock(v,this.saledNum)&&(t="bottom:10px;"):"3"==v&&o._checkStock(v,this.goodRate)&&(t="bottom:10px;"),t}}var g=c.stageStatus[f];if(p.statusCls=g.cls,p.statusTxt=g.txt,p.groupInfoList=p.groupInfoList.map(function(t){return t.hideCart=t.hideCart||"0"==u.showBuyCar&&("0"==f||"-1"==f),t}),!p.tipCls){n.tplLinkData(p,t.activityData),"1"!=o.isJump||t.runtimeEnv.isWQUrl||(p.url=function(){var e=this.skuId,i=p.groupId,a=o.curIndex+"_"+i+"_"+e,n="";if("0"==o.pageType){var s=this.jump.params.groupTime;n=t.runtimeEnv.isJdApp?t.util.stringFormat('openApp.jdMobile://virtual?params={"category":"jump","des":"seckill","secKillKeyTabIndex":"{0}","productId":"{1}","groupTime":{2}}',"0",i,s):t.util.stringFormat("//coupon.m.jd.com/seckill/seckillList?gid={0}&wareId={1}&groupTime={2}",i,e,s)}else if(o.pageUrl&&""!=o.pageUrl){var r=o.pageUrl;r.indexOf("e_linkage")>-1&&(r=r.replace(/[?|&](e_linkage[^&]+)/,"")),n=r.indexOf("?")>-1?r+"&e_linkage="+a:r+"?e_linkage="+a}return n},p.pageId=t.activityData.pageId,p.pageUrl=t.activityData.pageUrl,p.inkTarget="1"==t.activityData.useDiscovery?"_blank":"_self");var _=u.subscript;i.tplTipCls(p,c,_),p.leftText=o._getLeftText(),p.soldOutCls=function(){var t=[];return"1"!=f&&"N"==this.canSell?t.push("sold_out"):t.push("going_on"),"1"!=f&&"N"==this.stock&&"2"==p.areaFilterType&&0==t.length&&t.push("area_sold_out"),o._checkHasPrice(this,h)||t.push("no_price"),t.join(" ")},p.comparePrice=function(){return o._checkPrice(this,h)},p.hasComparePrice=function(){return o._checkHasPrice(this,h)},o._stockStyle(p,u),"1"==u.showMore&&(p.more={showMore:u.showMore,jump:u.jump,expoSrv:u.expoSrv}),o.dealNowPrice(p)}var b=e.render(r,p);o.$node.find(".rush_pd_main").html(b),s.addPtag(o.$node,".J_ping")}var y=o.$node.find(".rush_pd_module .rush_pd_main_head .right");y.removeClass("hide");var w=l.tabList.length-1,C=o.baktabListData[o.curIndex].stageStatus;("-1"==f||"0"==f&&o.curIndex==w&&w>0||"1"==C&&f!=C&&0==w||m<=0)&&y.addClass("hide"),y.hasClass("hide")||o._initCountdown(),"12"==l.styleId&&(o._slideLoadImg(),o._checkGesture());var x=o.modData;i.tplSubscriptUrl(x,o.$node,o.subscriptTpl),$(window).scroll()},_slideLoadImg:function(){var t=this.$node.find(".rush_pd_main_body_wrap");n.horizontalScrollCheck(t)},_checkStock:function(t,e){var i=!1;switch(t){case"1":e&&"0%"!=e&&$.trim(e).length||(i=!0);break;case"2":(null==e||Number(e)<=0)&&(i=!0);break;case"3":e&&"0%"!=e&&$.trim(e).length||(i=!0)}return i},getSaledPercent:function(t){var e=t.saledPercent;return"N"==t.canSell&&(e="100%"),e},_stockStyle:function(t,e){var i,a,o=this,s=e.stock,r=o.curIndex,l=o.modData;return t.saledMsgShow=function(){a=l.tabList[r].stageStatus;var t=!0;return"1"==s?o._checkStock(s,this.saledPercent)&&(t=!1):"2"==s?o._checkStock(s,this.saledNum)&&(t=!1):"3"==s&&o._checkStock(s,this.goodRate)&&(t=!1),"-1"==a&&(t=!1),t},t.saledMsg=function(){var t="";return i=o.getSaledPercent(this),"1"==s?t="已抢"+i:"2"==s?t="已抢"+n.computeNum(this.saledNum)+"件":"3"==s&&(t="好评率"+this.goodRate),t},t.inlineStyle=function(){var t="";return i=o.getSaledPercent(this),t="1"==s?"width:"+i:"","-1"==a&&(t=""),t},t.inlineNewStyle=function(){var t="";return i=o.getSaledPercent(this),t="1"==s?"left:"+i+";transition:all 0.5s ease-in;-webkit-transition:all 0.5s ease-in;":"","-1"==a&&(t=""),t},t.inlineProgressStyle="background-color:"+e.stockColor,t},_checkGesture:function(){this.$node.gesture({scrollWrapCls:"rush_pd_main_body_wrap",listWrapCls:"pd_commom",lookMoreCls:"look_more",callback:function(){t.trigger("report")}})},_initCart:function(){var e=this,a=e.$node,n=t.activityData,o=$("#J_babelOptPage");o.toast(),e.toastNode=o,i.initCart({node:a,itemCls:"pd_commom",activityData:n,toastNode:o,eid:"Babel_RushCart",clickCallback:function(t){var i=!0,a=e.$node.find(".rush_pd_main_body_wrap");return a.hasClass("to_be_begin")||a.hasClass("already_finish")?i=!1:t.hasClass("sold_out")&&(i=!1),i}})},_initTab:function(){var e=this,a=e.$node,n={node:a,tabMainWrap:a.find(".rush_pd_tab"),tabHdList:a.find(".rush_pd_nav_wrap li"),tabBdList:a.find(".tab_list .pd_module"),tabHdWrap:a.find(".rush_pd_nav_wrap"),reportId:"Babel_RushTab",activityData:t.activityData,tabFixedId:e.tabFixedId,tabLimitNum:e.tabLimitNum,tabClickCallbak:function(t){e._destroyCountdown();var i=t.index();e.curIndex=i,e._renderList(),"12"==e.modData.styleId&&a.gesture("checkSwipeWidth")}};i.initTab(n),n.tabHdList.removeClass("cur"),n.tabHdList.eq(e.curIndex).addClass("cur")},_getTimeRemain:function(){var t=this.modData,e=this.curIndex,i=t.tabList[e],a=Number(i.timeRemain);return a-=(new Date).getTime()-this.initTime},_switchTabTime:function(t){var e,i=this.modData.tabList,a=i[this.curIndex];if(t||(t="0"==a.stageStatus?"now":"next",t="1"==a.stageStatus?"next":t),"now"==t){if(a.stageStatus="-1",e=i[this.curIndex+1]){e.stageStatus="0";var n=i[this.curIndex+2];n&&(e.timeRemain=n.timeRemain),this.curIndex+=1}this.$node.find(".rush_pd_nav_wrap li").eq(this.curIndex).click()}else if("next"==t){a.stageStatus="0",(e=i[this.curIndex+1])&&(a.timeRemain=e.timeRemain);var o=i[this.curIndex-1];o&&(o.stageStatus="-1"),this._renderList()}this.$node.find(".rush_pd_nav_wrap li").eq(this.curIndex).click(),"now"==t&&1==i.length&&(this.curIndex=0,this._renderList())},_getLeftText:function(){var t=this.modData,e=t.tabList[this.curIndex].stageStatus,i=t.tabConfig.leftText;if(!i||0==i.length)switch(e){case"-1":i="本场次还有宝贝可以继续抢购~";break;case"0":i="正在抢购，先下单先得哦";break;case"1":i="即将开抢，敬请期待"}return i},_checkPrice:function(t,e){return"1"!=e.stageStatus?t.pcpPrice:t.beiTaiPrice},_checkHasPrice:function(t,e){var i=this._checkPrice(t,e),a=!1;return"Y"==t.canUseContrast&&i&&i.length>0&&(a=!0),a},_initCountdown:function(){var t=this,e=t._getTimeRemain();t.$node.find(".time").countdown({timeRemain:e,newFormat:!0,endCallback:function(){t._destroyCountdown(),t._switchTabTime()}})},_destroyCountdown:function(){this.$node.find(".rush_pd_module .rush_pd_main_head .right").is(":visible")&&this.$node.find(".time").countdown("destroy")},loadExtraData:function(){var t=this.modData;i.getSkuData(t),i.loadExtraData({data:t,lousStr:"0",instance:this})},mergeExtraData:function(t){var e=this.modData;i.skuDataDealt("set",e,t),i.reRenderList({instance:this,tabBody:this.$node.find(".rush_pd_main")})},dealNowPrice:function(t){function e(t){return isNaN(t)?"":parseInt(t)===parseFloat(t)?"":"."+t.split(".")[1]}function i(t){return isNaN(t)?"":parseInt(t)}for(var a=0;a<t.groupInfoList.length;a++){var n=t.groupInfoList[a];n.nowPriceValue=i(n.pPrice),n.nowPricePoint=e(n.pPrice)}}};return function(){var t=Object.create(r);t.init.apply(t,arguments)}}.apply(e,a))||(t.exports=n)},function(t,e){t.exports='<div class="rush_pd_main_head"> <div class="left"> <span>{{leftText}}</span> </div> <div class="right"> <span class="toFinsh">{{statusTxt}}</span> <div class="time">00:00:00</div> </div> </div> <div class="rush_pd_main_body"> <div class="rush_pd_main_body_wrap {{statusCls}}"> {{#groupInfoList}} <a class="pd_commom J_ping {{tipCls}} {{soldOutCls}}" href="{{url}}" target="{{inkTarget}}" report-eventid="Babel_RushDetails" report-eventparam="{{srv}}" report-pagename="{{pageUrl}}" report-pageparam="{{pageId}}" data-groupid="{{groupId}}" data-grouptime="{{jump.params.groupTime}}" data-sku="{{skuId}}" data-es="{{expoSrv}}" report-eventlevel="4"> <div class="pd_pic"> <img data-src="{{pictureUrl}}" src="//m.360buyimg.com/cms/jfs/t2218/111/2490744834/43/9acceab1/56d55ce6N5a567661.gif"> <div class="pd_tip"> <div class="text_1">{{copyWriting}}</div> <div class="text_2">{{copyWritingDown}}</div> </div> </div> <div class="pd_info"> <div class="pd_title">{{name}}</div> {{#saledMsgShow}} <div class="progress" style="{{inlineProgressStyle}}"> <span class="text">{{saledMsg}}</span> <i style="{{inlineNewStyle}}"></i> </div> {{/saledMsgShow}} <div class="pd_wrap"> <div class="pd_price_wrap" style="{{pdStyle}}"> <div class="pd_now_price"><span>&yen;</span>{{nowPriceValue}}<span>{{nowPricePoint}}</span></div> {{#hasComparePrice}} <div class="pd_old_price"> <del class="old">&yen;{{comparePrice}}</del> </div> {{/hasComparePrice}} </div> {{^hideCart}} <div class="pd_buy_car"></div> {{/hideCart}} </div> </div> </a> {{/groupInfoList}} {{#more}} <a class="look_more J_ping" href="{{_url}}" target="{{../inkTarget}}" report-eventid="Babel_RushMore" report-eventparam="{{jump.srv}}" report-pagename="{{../pageUrl}}" report-pageparam="{{../pageId}}" data-es="{{expoSrv}}" report-eventlevel="3"></a> {{/more}} </div> </div>'},function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(3));a=[i(1),i(4),i(0)],void 0===(n=function(t,e,i){var a=i.mod,n={$node:null,modData:null,isJdApp:null,isYhdApp:null,isWQUrl:null,init:function(t,e,a){this.$node=e,this.modData=a,this.isJdApp=i.runtimeEnv.isJdApp,this.isYhdApp=i.runtimeEnv.isYhdApp,this.isYhdUrl=i.runtimeEnv.isYhdUrl,this.isWQUrl=i.runtimeEnv.isWQUrl,this._checkImgLoad(),this._bindKeyEvent()},_initLink:function(){},_bindKeyEvent:function(){var e,n=this,o=n.modData,s=n.$node.find(".search_bar input"),r=n.$node.find("form");r.length&&r.on("submit",function(){return!1});var l,d,c=i.activityData,u="";s.on("keyup",function(r){var p=t.trim(s.val()),h=o.searchObject.trueContext,f=o.searchObject.type;if(13==r.keyCode){if(0==p.length)e=void 0===h?"":h,"3"==f&&(e=o.searchObject.vipJump.params.suggestWord);else e=decodeURIComponent(p);d=n._filterKeyWords(e),l=n._getEventParam()+"_"+d.buryPoint,a.reportEventdata({event_id:"Babel_SearchButton",event_param:l},c),u=n._getJumpUrl(d),i.trigger("report"),location.href=u}}),s=n.$node.find("input");var p=t("#J_babelOptPage .bt_nav_module"),h=o.searchObject.searchScope,f=o.searchObject.vipJump,m=o.searchObject.wareAttrs;s.on("focus",function(){if(0==p.length&&(p=t("#J_babelOptPage .bt_nav_module")),n.isJdApp)if(1!=h&&2!=h&&3!=h&&0==h&&1!=m&&2!=m&&3!=m){var e='openApp.jdMobile://virtual?params={"des":"search","from":"babel","category":"jump","keyword":"'+(d=n._filterKeyWords(o.searchObject.searchContext)).realWord+'","showWord":"'+d.showWord+'","realWord":"'+d.realWord+'"}';location.href=e}else 3==h&&i.runtimeEnv.versionGreaterOrEqual("7.0.4")&&(u='openApp.jdMobile://virtual?params={"category":"jump","des":"jshopGuessWord","shopId":"'+f.params.shopId+'","suggestWord":"'+f.params.suggestWord+'"}',location.href=u);p.addClass("hide")}),s.on("blur",function(){p.removeClass("hide")})},_getEventParam:function(){var t=this.modData.searchObject.jump.srv;return void 0===t&&(t=""),t},_checkImgLoad:function(){var t=[];(t=this.$node.find(".search_bar_module img")).data("callback",{success:function(){setTimeout(function(){t.parent().addClass("no_bg_img")},450)},error:function(){t.parent().removeClass("no_bg_img")}})},_filterKeyWords:function(e){for(var i=new RegExp("[`~!@#$^&*()=|{}':;',\\[\\].<>/?~！@#￥……&*（）——|{}【】‘；：”“'。，、？]","g"),a=[],n=this._renderParamObj("1","请输入你想要的商品"),s=n.keyWordSuffix||"",r=0;r<e.length;r++){var l=e.substr(r,1).match(i);this.isJdApp&&"object"==(void 0===l?"undefined":(0,o.default)(l))&&l instanceof Array?a.push(encodeURIComponent(l[0])):(this.isYhdApp,a.push(e.substr(r,1)))}var d=a.join("");return d+=s,this.isYhdUrl&&!this.isYhdApp&&(d=encodeURIComponent(d)),n=t.extend({},n,{keyWord:d,buryPoint:e.replace(i,"")})},_renderParamObj:function(e,a){var n=i.activityData,o=this.modData.searchObject,s={};if("1"==o.searchScope){switch(s.cid=o.cid||"",s.categoryLevel=o.categoryLevel,o.categoryLevel){case"1":s.urlCid="cid1";break;case"2":s.urlCid="cid2";break;case"3":s.urlCid="catid"}s.field=e||"1"}else"2"==o.wareAttrs&&(s.jdSuperMarket="1"),s.keyWordSuffix={0:"",1:" 全球购",2:" 京东超市"}[o.wareAttrs]||" ";s=t.extend({},s,{categoryIds:o.categoryIds,showWord:o.searchContext||a,realWord:o.trueContext||"",channelName:n.activityId||"",channelTitle:n.title||""});var r=o.categoryIds;if(r){var l=void 0;l=r.split(",").map(function(t){return"L"+t+"M"+t}),s=t.extend({},s,{filt_type:l.join("||")})}return s},_getJumpUrl:function(e){var a,n=i.util,o=this.modData.searchObject,s=o.searchScope,r=o.wareAttrs,l=o.vipJump;if(this.isJdApp){var d=t.trim(e.keyWord);e.keyWord=d.split(" ")[0]}if("0"==s){if("2"==r)a=this.isJdApp?n.stringFormat('openapp.jdmobile://virtual?params={"sourceValue":"0_productList_0","des":"productList","from":"search","category":"jump","sourceType":"PCUBE_CHANNEL","keyWord":"{0}","hiddenAudioButton":"1","jdSupermarket":"{1}","showWord":"{2}","realWord":"{3}","channelName":"{4}","channelTitle":"{5}"}',e.keyWord,e.jdSuperMarket,e.showWord,e.realWord,e.channelName,e.channelTitle):n.passParam("//so.m.jd.com/market/searchJDMarket.action?jdSupermarket="+e.jdSuperMarket+"&keyword="+e.keyWord+"&showWord="+e.showWord+"&realWord="+e.realWord+"&channelName="+e.channelName+"&channelTitle="+e.channelTitle);else if("1"==r)a=this.isJdApp?n.stringFormat('openapp.jdmobile://virtual?params={"sourceValue":"0_productList_0","des":"productList","from":"search","category":"jump","sourceType":"PCUBE_CHANNEL","keyWord":"{0}","hiddenAudioButton":"1","showWord":"{1}","realWord":"{2}","channelName":"{3}","is_allworld_shopping":"1","channelTitle":"{4}"}',e.keyWord,e.showWord,e.realWord,e.channelName,e.channelTitle):n.passParam("//m.jd.com/ware/search.action?is_allworld_shopping=1&keyword="+e.keyWord+"&showWord="+e.showWord+"&realWord="+e.realWord+"&channelName="+e.channelName+"&channelTitle="+e.channelTitle);else if("3"==r)a=this.isJdApp?n.stringFormat('openapp.jdmobile://virtual?params={"sourceValue":"0_productList_0","des":"productList","from":"search","category":"jump","sourceType":"PCUBE_CHANNEL","keyWord":"{0}","hiddenAudioButton":"1","showWord":"{1}","realWord":"{2}","channelName":"{3}","channelTitle":"{4}","filterConfigKeys":{5}}',e.keyWord,e.showWord,e.realWord,e.channelName,e.channelTitle,JSON.stringify(o.filterConfigKeys)):"//h5.m.jd.com/active/download/download.html";else if(this.isJdApp)a=n.stringFormat('openapp.jdmobile://virtual?params={"sourceValue":"0_productList_0","des":"productList","from":"search","category":"jump","sourceType":"PCUBE_CHANNEL","keyWord":"{0}","showWord":"{1}","realWord":"{2}","channelName":"{3}","channelTitle":"{4}"}',e.keyWord,e.showWord,e.realWord,e.channelName,e.channelTitle);else if(this.isYhdApp)a=n.stringFormat('yhd://search?body={"keyword":"{0}"}',e.keyWord);else if(i.runtimeEnv.isMiniUrl){var c={type:"search",value:e.keyWord};a="javascript:window.wxApp && window.wxApp.jump('', '"+JSON.stringify(c)+"')"}else a=n.passParam("//m.jd.com/ware/search.action?keyword="+e.keyWord+"&showWord="+e.showWord+"&realWord="+e.realWord+"&channelName="+e.channelName+"&channelTitle="+e.channelTitle),this.isYhdUrl&&(a="//search.m.yhd.com/search/k"+e.keyWord+"/");i.runtimeEnv.isWQUrl&&(a=n.passParam("//wqsou.jd.com/search/searchn?key="+e.keyWord))}else"1"==s?a=this.isJdApp?n.stringFormat('openapp.jdmobile://virtual?params={"sourceValue":"0_productList_0","des":"productList","from":"search","category":"jump","sourceType":"PCUBE_CHANNEL","keyWord":"{0}","hiddenAudioButton":"1","showWord":"{1}","realWord":"{2}","field":"{3}","cid":"{4}","channelName":"{5}","channelTitle":"{6}"}',e.keyWord,e.showWord,e.realWord,e.categoryLevel,e.categoryIds,e.channelName,e.channelTitle):this.isYhdApp?n.stringFormat('yhd://search?body={"categoryId":"{0}"}',e.cid):this.isYhdUrl?"https://search.m.yhd.com/search/c"+e.cid+"-0/k"+e.keyWord+"/mbname-b-pr-a-d0-f0-color-size ":i.runtimeEnv.isWQUrl?"//wqsou.jd.com/search/searchn?key="+e.keyWord+"&filt_type="+e.urlCid+","+e.filt_type+"&sf=41&as=0&pagesize=24&page=1":n.passParam("//so.m.jd.com/ware/search.action?keyword="+e.keyWord+"&filt_type="+e.urlCid+","+e.filt_type+"&sf=41&as=0"):"2"==s?a=this.isWQUrl?n.stringFormat("https://wqshop.jd.com/mshop/searchlist?keyword="+(void 0!==e.keyWord?e.keyWord:e.realWord)+"&shopId=758244&venderId=762451"):n.stringFormat("https://shop.m.jd.com/search?keyword="+(void 0!==e.keyWord?e.keyWord:e.realWord)+"&shopId=758244"):"3"==s&&(a=this.isWQUrl?"https://wqshop.jd.com/mshop/SearchList?shopId="+l.params.shopId+"&keyword="+e.keyWord:"https://shop.m.jd.com/search?keyword="+e.keyWord+"&shopId="+l.params.shopId);return a}};return function(){var t=Object.create(n);t.init.apply(t,arguments)}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(1),i(0)],void 0===(n=function(t,e){var i=e.util.iphoneXUtil,a=e.runtimeEnv.isArcSeries();return{$mountPoint:null,$root:null,init:function(){this.$mountPoint=this._getMountPoint(),this.$root=this._getRoot(),0!==this.$mountPoint.length&&(e.runtimeEnv.isAndroid?this.$mountPoint.addClass("android"):this.$mountPoint.removeClass("android"),this._checkImgBackground(),this._solvePenetration(),this._setBackgroudImg(),this._adapt())},_getRoot:function(){return t(".bab_opt_mod.nav_bottom .bt_nav_module")},_getMountPoint:function(){return t(".bab_opt_mod.nav_bottom")},_setBackgroudImg:function(){var e=this.$root.find(".bg");e.length&&t(window).width()>+e.data("width")&&e.css("width","100%")},_checkImgBackground:function(){var e=this;function i(){e.$root.find(".bt_img_wrap").each(function(e,i){(i=t(i)).find("img").each(function(e,a){if("none"!==t(a).css("display")){if(!a.complete)return i.removeClass("no_bg_img"),!1;if(void 0!==a.naturalWidth&&0===a.naturalWidth)return i.removeClass("no_bg_img"),!1}})})}"complete"===document.readyState||"loaded"===document.readyState?i():window.addEventListener("load",i,!1)},_solvePenetration:function(){t("#J_babelOpt").on("click","a",function(e){var i=t(window).height()-(e.pageY-t(window).scrollTop());if(0==t(e.target).parents(".nav_bottom").length&&i<=50){if(!(i<0))return e.preventDefault(),e.stopPropagation(),!1;if((i=t(window).height()-(e.y-t(window).scrollTop()))<=50)return e.preventDefault(),e.stopPropagation(),!1}})},_adapt:function(){var t=this;if(a)this.$root.find("ul").css({padding:"0 10px"});else if(i.adaptOrNot()){var n=e.$window,o=i.WX_6_6_7_THRESHOLD,s=i.adaptBottom(function(){n.height()<=o?t.$root.height(50):t.$root.height(84)},e);this.$root.height(50+s)}}}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(133));a=[i(0),i(2),i(26)],void 0===(n=function(t,e,i){var a=t.util,n=t.runtimeEnv,s=t.mod;return function(r,l,d){return t.Create({$el:l,key:"",receiveCls:"coupon_receive",robCls:"coupon_empty",yhdReceiveRobCls:"coupon_receive_empty_yhd",moduleId:"",data:null,pannelInfo:null,couponList:[],couponBuildType:"",$layer:"",$layer_tpl:o.default,stateCls:["","coupon_receive","coupon_empty","coupon_today_receive","coupon_today_empty","coming"],init:function(){var e=this;if(this.data=d,this.data){var a=this.data.type.split("-");this.couponList=this.data.couponList.slice(0,this.data.styleId),this.couponBuildType=a[0],this.moduleId=this.data.moduleId,this.$layer=this.$el.find(".babel_module_mask"),this.type=this.data.type,t.on("onMergeDataEvent",function(t){var i=t._args;e.pannelInfo=i.floorDataList[e.moduleId],"2-0"==e.data.type&&(e.data.holdBeans=i.userData.holdBeans),e._initCouponState()}),t.on("onHoldBeansChange",function(t){var i=t._args;e.data.holdBeans=i}),this.layerObj=null,this.layerObjPlus=null,this.layerObjWhite=null,function(t,e){var i={"0-0":function(){var t=this;"1"==this.data.bgStyle&&a(t.data.bgPic,$.noop,function(){t.$el.find("#"+t.data.id).css("background-color","#f1f1f1")}),t.data.couponList.forEach(function(e,i){a(e.picture||e.degradePic,$.proxy(function(){this.$el.find(".coupon").eq(i).removeClass("pic_errorPlace")},t),$.noop)})},"0-2":function(){var t=this;if(this.data.manualCustom&&i["0-0"].call(e),this.data.manual&&"1"==this.data.bgStyle){var n=$(window).width()/375*this.data.height/3,o="1"==this.data.innerBorder?2:0;this.$el.find(".coupon_module").css("height",n+"px"),this.$el.find(".coupon_module > a").css({height:n-o+"px"}),a(t.data.bgPic,$.noop,function(){t.$el.find("#"+t.data.id).css("background-color","#f1f1f1")})}}};function a(t,e,i){var a=new Image;a.onerror=i,a.onload=e,a.src=t}e||(e=this),i[t]&&i[t].call(e)}(this.type,this),i("coupon",this),this._main()}},_main:function(){var t=this;this.$el.on("click",".coupon",function(e){e.preventDefault();var i=$(this),a=i.index(),o=t.couponList[a];n.isYhdUrl&&t._pingEvent(2,o.srv),i.hasClass(t.robCls)||i.hasClass(t.receiveCls)||i.hasClass("stateClsFlag")||i.hasClass(t.yhdReceiveRobCls)?n.isYhdUrl||t._pingEvent(2,o.srv+"_1"):"2"!=t.couponBuildType?t._receive(a,i):t.receiveBeanCoupon(a,i)})},receiveBeanCoupon:function(t,e){this.pannelInfo?this._renderConfirm(t,e):a.goLogin()},_initCouponState:function(){var t=this.pannelInfo,e=this.$el.find("a.coupon");if(!t)return!1;if(t.coupon_newList)for(var i=0,a=(t=t.coupon_newList).length;i<a;i++){var n=e.filter('[data-cpid="'+t[i].cpId+'"]');null==t[i].status||""==t[i].status||n.hasClass("stateClsFlag")||(n.addClass(this.stateCls[1*t[i].status]),"0"!=t[i].status&&"5"!=t[i].status&&n.addClass("stateClsFlag"))}},_pingEvent:function(e,i){s.reportEventdata({event_id:["Babel_CouponCancel","Babel_CouponConfirm","Babel_Coupon"][e],event_param:i,event_level:""},t.activityData)},_receive:function(i,n){var o=this,r=s.getBabelUrlDev2Release("newBabelAwardCollection"),l=this.couponList[i],d=n.parent().hasClass("coupon_type_msc");if(l.degradePic)return s.reportEventdata({event_id:"Babel_CouponFallback",event_param:l.jump.srv,event_level:""},t.activityData),void setTimeout(function(){location.href=l.jump.params.url||""},200);var c=l.scene,u=l.args,p=l.cpId,h=l.srv;e.loading.show();var f={activityId:t.activityData.encodeActivityId,from:o.data.cpChannelKey};f=$.extend({},f,{scene:c||"",args:u},t.couponData.formatCouponData,{pageClickKey:"Babel_Coupon"}),d&&(f.actKey=p||""),"2"==this.couponBuildType&&delete(f=$.extend(f,{cpId:p})).args,f=JSON.stringify(f);var m=s.getBabelUrlParam(f,!0);delete m.screen,$.ajax({url:r,type:"POST",dataType:"json",data:m,xhrFields:{withCredentials:!0},success:function(e){var i=!1;if("0"==e.code){var r=" ",c={successReciveSubcode:d?"0030、0":"A1、A12、B1、B13",robOutSubcode:d?"0021、0020":"A6、A15、B3、B4、B9、B10、B11、C1205"},u=e.subCode,p={coupon_empty:"A3、A4、A5、B5、B6",coupon_today_empty:"A9、A14、B12、B14",coupon_today_receive:"A13",coming:"A7、A8、B2、0010"};if(null===c.successReciveSubcode.match(u)){if(r="icon_wrong",null!==c.robOutSubcode.match(u))n.removeClass("coming").addClass(o.robCls);else for(var f in p)if(null!==p[f].match(u)){n.removeClass("coming").addClass(f);break}}else if(r="icon_right",n.removeClass("coming").addClass(o.receiveCls),i=/^(0|A1|B1)$/.test(u),"2"==o.couponBuildType){var m=o.data.holdBeans-l.beanNum;t.trigger("onHoldBeansChange",m)}"A24"==u||"C2001"==u?(o.layerObj=o.$el.layer_pop(),o.layerObj&&o.layerObj.showPop({conText:o.data.loginCopywrite,cancelBtn:"算了吧",confirmBtn:"去实名认证",instanceStr:"layer_pop-instance",confirmCallback:function(){var t=this;setTimeout(function(){o.data.loginUrl&&(window.location=o.data.loginUrl),t.hidePop()},200),o._pingEvent(1,l.srv)},cancelCallback:function(){o._pingEvent(0,l.srv),this.hidePop()}})):"A26"==u||"A27"==u?(o.layerObjPlus=o.$el.find("div.coupon_module").layer_pop(),o.layerObjPlus&&o.layerObjPlus.showPop({conText:o.data.plusCopywrite,cancelBtn:"取消",confirmBtn:"去开通",instanceStr:"layer_pop-instance",confirmCallback:function(){var t=this;setTimeout(function(){o.data.plusUrl&&(window.location=o.data.plusUrl),t.hidePop()},200),o._pingEvent(1,l.srv)},cancelCallback:function(){o._pingEvent(0,l.srv),this.hidePop()}})):"26022"==e.subCode?(o.layerObjWhite=o.$el.find("div.coupon_module").layer_pop(),o.layerObjWhite&&o.layerObjWhite.showPop({conText:o.data.iouGuideText,cancelBtn:"取消",confirmBtn:"去激活",instanceStr:"layer_pop-instance",confirmCallback:function(){var t=this;setTimeout(function(){o.data.iouGuideUrl&&(window.location.href=o.data.iouGuideUrl),t.hidePop()},200)},cancelCallback:function(){this.hidePop()}})):s.showToast({content:e.subCodeMsg,iconCls:r})}else"3"==e.code&&void 0===e.subCode?a.goLogin():s.showToast({content:"此时排队领券的人太多，休息一会儿再试试吧！"});o._pingEvent(2,h+"_"+(i?"0":"1"))},error:function(){console.log("数据请求失败！"),o._pingEvent(2,h+"_1")},complete:function(){e.loading.hide()}})},_mergeExtraData:function(t,e){var i=this;if(null!==t.couponList&&0!==t.couponList.length){if(e){if(this.pannelInfo=e.floorDataList[this.moduleId],!this.pannelInfo)return t;"2-0"==t.type&&(t.holdBeans=e.userData.holdBeans,t.couponList.forEach(function(t,e){$.extend(t,i.pannelInfo.coupon_newList[e])}))}return t}},_renderConfirm:function(e,i){var n=this;function o(t,e,i,a,o){var r="Babel_CouponCancel",l=t.parents(".babel_module_mask"),d=l.find(".coupon_bomb_box");if(t.hasClass("pay_beans")){if(d.hasClass("no_enough_beans"))return!1;r="Babel_CouponConfirm",n._receive(a,o)}l.removeClass("show"),s.reportEventdata({event_id:r,event_param:e,event_level:""},i),$("body").off("touchmove")}var r=t.activityData,l=n.couponList[e],d=l.srv||"",c=$.extend({},l);(c=$.extend(c,{statuCls:"show",holdBeans:n.data.holdBeans,scope:l.scope||l.cpName})).couponColorCls=function(t){var e={couponType:{0:"red",1:"blue"},special:" no_special_explain "},i=[];return t.color&&s.addStyleCls(i,e.couponType[t.color]),t.illus&&0!==t.illus.length||"2"==n.couponBuildType||s.addStyleCls(i,e.special),i.join(" ")}(c),c.couponStatus=function(t){var e="";return t.beanNum&&(e=t.beanNum>t.holdBeans?"no_enough_beans":""),void 0!==t.holdBeans&&0!==t.holdBeans.length||(e=""),e}(c),c.couponType="3"===c.couponStyle?"JDDiscount":"";var u=a.compile(this.$layer_tpl,c);this.$layer.off().html(u).addClass("show"),this.$layer.on("click",".pay_beans",function(){return o($(this),d,r,e,i),!1}),this.$layer.on("click",".babel_module_close",function(){return o($(this),d,r,e,i),!1}),$("body").on("touchmove",function(){return!1})}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0),i(2)],void 0===(n=function(t,e){var i=t.util,a=t.mod;return function(n,o,s){return t.Create({$el:o,receiveCls:"coupon_receive",robCls:"coupon_empty",moduleId:"",data:null,couponBuildType:"",componentType:"",init:function(){if(this.moduleId=this.$el.data("moduleid"),this.data=s,this.data){if("coupon"===this.data.layerType){var t=this.data.type.split("-");this.couponBuildType=t[0],this.componentType=t[1]}else this.couponBuildType=this.data.cpContent,this.data.getBtn=this.data.getButton;this._main()}},_main:function(){this.showOrHide(),this._bindEvent(),this._initCSS()},showOrHide:function(){var e=t.util.cookie;e.get(t.activityData.encodeActivityId+"_"+this.data.args)?this.$el.css({display:"none"}):e.set(t.activityData.encodeActivityId+"_"+this.data.args,!0,{expires:1})},_bindEvent:function(){var e=this;this.$el.on("click",".coupon_layer_btn",function(t){t.preventDefault(),e._receive(e.data)}),this.$el.on("click",".close_btn",function(i){i.preventDefault(),e.$el.hide(),t.trigger("onDropDownGameCloseBanner")})},_initCSS:function(){var t=1.408*window.innerWidth;if(this.$el.find(".val").css("top",.358*t),this.$el.find(".limit").css("top",.382*t),this.$el.find(".time").css("top",.457*t),this.$el.find(".scope").css("top",.517*t),this.$el.find(".icon").css("top",.362*t),this.$el.find(".coupon_layer_btn").css("top",.754*t),this.$el.find(".declare").css("top",.884*t),1==this.couponBuildType)this.$el.find(".coupon_layer").addClass("custom");else if(0==this.couponBuildType){var e="coupon"===this.data.layerType?this.data.btnBgColor:this.data.btnColor;this.$el.find(".coupon_layer_btn").css("color",this.data.btnWordColor).css("background-color",e),this.$el.find(".declare").css("color",this.data.declareTextColor),this.$el.find(".coupon_layer").addClass("upload_img")}"free_coupon"===this.data.layerType&&"1"===this.data.cpStyle&&this.$el.find(".max_limit").css("top",.43*t),this.$el.find(".coupon_pic").css("display","block")},_receive:function(n){var o=this,s=a.getBabelUrlDev2Release("newBabelAwardCollection"),r=[],l="free_coupon"===n.layerType?"Babel_FreeWCoupon":"Babel_WindowCoupon";r=[l,n.jump_receive.srv];e.loading.show();var d={activityId:t.activityData.encodeActivityId,scene:n.scene||"",args:n.args,from:o.data.cpChannelKey};$.extend(d,t.couponData.formatCouponData,{pageClickKey:l}),d=JSON.stringify(d);var c=a.getBabelUrlParam(d,!0);delete c.screen;var u=s.match(/\.json/)?"json":"jsonp";$.ajax({url:s,dataType:u,data:c,success:function(e){var s=!1;if("0"==e.code){var l=" ",d=e.subCode,c=o.$el.find(".coupon_layer_btn");"A1"==d||"A12"==d||"A13"==d?(l="icon_right",o.$el.find(".icon").addClass(o.receiveCls),s="A1"==d):"A6"==d||"A9"==d||"A14"==d||"A15"==d?(l="icon_wrong",o.$el.find(".icon").addClass(o.robCls)):(l="",setTimeout(function(){o.$el.hide()},1e3),e.subCodeMsg="活动太火爆，券已被抢完啦"),a.showToast({content:e.subCodeMsg,iconCls:l});var u=o.data.getBtn;o.$el.off("click",".coupon_layer_btn"),"1"==u?(c.text("去使用"),o.$el.on("click",".coupon_layer_btn",function(){setTimeout(function(){window.location.href=a.tplLinkData(o.data,t.activityData).url()},200);var e="free_coupon"===o.data.layerType?"Babel_FreeWCouponUse":"Babel_WindowCouponUse";o._pingEvent(e,n.jump.srv,"3")})):"0"==u&&(c.text("再逛逛"),o.$el.on("click",".coupon_layer_btn",function(){var t="free_coupon"===o.data.layerType?"Babel_FreeWCouponStroll":"Babel_WindowCouponStroll";o._pingEvent(t,n.jump.srv),o.$el.hide()}))}else"3"==e.code&&void 0===e.subCode?i.goLogin():a.showToast({content:"领券失败，下次再来！"});r[1]+="_"+(s?"0":"1"),o._pingEvent.apply(o,r)},error:function(){a.showToast({content:"领券失败，下次再来！"}),r[1]+="_1",o._pingEvent.apply(o,r)},complete:function(){e.loading.hide()}})},_pingEvent:function(e,i,n){a.reportEventdata({event_id:e,event_param:i,event_level:n||""},t.activityData)}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0)],void 0===(n=function(t){var e=t.util;return function(i,a){return t.Create({$el:a,init:function(){this.$el.find(".quick_entry_module .qe_img_wrap").each(function(){var t=$(this);!function(t,i,a){var n={success:function(){setTimeout(function(){i.addClass(a)},300)},error:function(){setTimeout(function(){i.removeClass(a)},300)}};t.data({callback:n}),e.lazyLoad.loadImg(t)}(t.find("img"),t,"no_bg_img")})}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0)],void 0===(n=function(t){var e=t.mod;return function(i,a){return t.Create({$el:a,init:function(){this._checkImg(),this._autoSlide()},_checkImg:function(){var t=this.$el.find("img"),i=t.parent();e.toggleBgImg(t,i,"no_bg_img")},_autoSlide:function(){var t=this.$el.find(".jdui_slide"),e=!0;1==t.find(".jdui_slide_list a").size()&&(e=!1),t.slidevertical({autoPlay:e})}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0),i(4)],void 0===(n=function(t,e){var i=t.mod;function a(t,e,i){this.$floor=e,this.$module=e.find(".countdown_module"),this.data=i,this.cdStyle="4"==t?"big":"small",this.cdList=[],this._init()}return a.prototype={constructor:a,_init:function(){this.cdList=this._getCdList(),this.cdList.length?(this.node={$for:null,$time:this.$floor.find(".cd_time"),$title:this.$floor.find(".cd_title")},this._resetCountDown(this.cdList[0]),this._resetPos()):i.hideFloor(this.$floor)},_getCdList:function(){var t=[],e=this.data.countDown,i="1"==e.hasCountDown2,a=e.clockStatus;return i?"C1"==a?t=[e.countDown1,e.countDown2]:"C2"==a&&(t=[e.countDown2]):"C1"==a&&(t=[e.countDown1]),t},_resetCountDown:function(t){var e,i=this,a=1e3*t.remainMillis;i.node.$title.html(t.content),i.node.$for=$("<div></div>"),e={timeRemain:a,handleData:function(){i._changeClock(i.node.$for.html())},endCallback:function(){i._endClock()}},i.node.$for.countdown(e)},_changeClock:function(t){if(t){var i,a="big"==this.cdStyle,n=t.split(":"),o="",s=["天","时","分","秒"],r=a?'<dt><span class="t_card">{{o}}</span><span class="t_card">{{t}}</span></dt>{{#u}}<dd>{{u}}</dd>{{/u}}':'<dt class="t_card">{{o}}{{t}}</dt>{{#u}}<dd>{{u}}</dd>{{/u}}';if(i="00"==n[0]?1:0,a)s=s.slice(i,3+i),n=n.slice(i,3+i);else{var l=""+Math.min(24*+n[0]+ +n[1],99);n[1]=1==l.length?"0"+l:l,n=n.slice(1,4)}for(var d=0;d<3;d++){var c=n[d].split("");o+=e.render(r,{o:c[0],t:c[1],u:a?s[d]:2==d?"":":"})}this.node.$time.html(o)}},_endClock:function(){this.node.$for.countdown("destroy"),this.cdList.shift(),this.cdList.length?this._resetCountDown(this.cdList[0]):(i.hideFloor(this.$floor),this.node.$for=null,this.node.$time=null,this.node.$title=null)},_resetPos:function(){var t,e=this;if(e.data.bgImgUrl){var i=new Image;i.onload=function(){var t=i.width/375,n=i.height/t;e.$module.css("height",n),a()},i.onerror=function(){},i.src=e.data.bgImgUrl}else a();function a(){(t=e.$module.attr("id"))&&window._scaleElement&&window._scaleElement(t)}}},function(e,n,o){return t.Create({$el:n,$count:"",$for:"",$title:"",$countDownWrap:"",$wrap:"",init:function(){var e=this.$el.data("styleid");if("4"!=e&&"5"!=e){this.$count=this.$el.find(".count_down_module"),this.$for=this.$el.find(".for_count_down"),this.$title=this.$el.find(".count_down_title"),this.$countDownWrap=this.$el.find(".count_down_time"),this.$wrap=this.$el.find(".count_down_wrap");var s=this.$count.data("conf").split(","),r=s[2],l=s[3],d=s[4],c=s[5],u=(t.width/375).toFixed(3);this.$count.css("min-height",23*u),this.timeRemain=1*r,this.countDown2Remain=1*l,this.content=d,this.waitCountDown2=c;var p=i.getImgHeight({width:s[0],height:s[1]});this.$el.find("#bg").height(p);var h="scale("+u+")";this.$wrap.css({transform:h,"-webkit-transform":h}),this._main()}else new a(e,n,o)},_main:function(){var t=this,e="",a=this.timeRemain;this._initTime(a),this.$for.countdown({type:"timeRemain",timeRemain:a,handleData:function(){e=t.$for.html(),t._changeTime(e)},endCallback:function(){t.countDown2Remain-a>0?(t.countDown2Remain=t.countDown2Remain-a,"1"==t.waitCountDown2?t._countDownCallback(t.countDown2Remain):i.hideFloor(n)):i.hideFloor(n)}})},_initTime:function(t){var e=parseInt(t/864e5);t-=864e5*e;var i=parseInt(t/36e5);t-=36e5*i;var a=parseInt(t/6e4);t-=6e4*a;var n=parseInt(t/1e3),o=(e<10?"0"+e:e)+":"+(i<10?"0"+i:i)+":"+(a<10?"0"+a:a)+":"+(n<10?"0"+n:n);this._changeTime(o)},_changeTime:function(t){var e,i,a="";e=parseInt(t.slice(0,1)),i=parseInt(t.slice(1,2)),a=0===e&&0===i?'<div class="time"><span>'+t.slice(3,4)+"</span><span>"+t.slice(4,5)+'</span></div><span class="text">时</span><div class="time"><span>'+t.slice(6,7)+"</span><span>"+t.slice(7,8)+'</span></div><span class="text">分</span><div class="time"><span>'+t.slice(9,10)+"</span><span>"+t.slice(10)+'</span></div><span class="text">秒</span>':'<div class="time"><span>'+t.slice(0,1)+"</span><span>"+t.slice(1,2)+'</span></div><span class="text">天</span><div class="time"><span>'+t.slice(3,4)+"</span><span>"+t.slice(4,5)+'</span></div><span class="text">时</span><div class="time"><span>'+t.slice(6,7)+"</span><span>"+t.slice(7,8)+'</span></div><span class="text">分</span>',this.$countDownWrap.html(a)},_countDownCallback:function(t){var e=this,a=this.content;this.$title.html(a),this._initTime(t),this.$for.countdown("newCountdown",{type:"timeRemain",timeRemain:t,handleData:function(){var t=e.$for.html();e._changeTime(t)},endCallback:function(){i.hideFloor(n)}})}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(1),i(0),i(2),i(5)],void 0===(n=function(t,e,i,a){var n={$node:null,modData:null,curIndex:0,subscriptTpl:".bab_opt_mod_<%=obj.floorNum%> .pre_pd_module .pd_commom.add_square_tip_1 .pd_tip, .bab_opt_mod_<%=obj.floorNum%> .pre_pd_module .pd_commom.add_square_tip_2 .pd_tip, .bab_opt_mod_<%=obj.floorNum%> .pre_pd_module .pd_commom.add_square_tip_3 .pd_tip{background: url(<%=obj.waresListConfig.subscriptUrl%>); background-size: 40px 40px;}",init:function(t,e,i){var n=this,o=n.modData=i;n.hasTab=o.hasTab,n.$node=e,a.tplSubscriptUrl(i,e,this.subscriptTpl),n.hasTab&&a.renderTabOpzStyle("pd",n.$node,o.originTabStyle,function(){n._initTab(),n._checkBlankList()}),"preSaleProduct"==o.template&&"1"==o.styleId&&n._checkGesture()},_checkGesture:function(){var t=this.$node;"0"!=this.modData.styleId&&t.gesture({callback:function(){e.trigger("report")}})},_initTab:function(){var t=this,i=t.$node,n={node:i,tabMainWrap:i.find(".pd_tab"),tabHdList:i.find(".pd_nav li"),tabBdList:i.find(".tab_list .pre_pd_module"),tabHdWrap:i.find(".pd_nav_wrap"),reportId:"Babel_PreSaleTab",activityData:e.activityData,tabFixedId:t.tabFixedId,tabLimitNum:1,tabClickCallbak:function(e){var i=e.index();t.curIndex=i}};a.initTab(n)},_checkBlankList:function(){var e=this.$node.find(".tab_list .pre_pd_module"),i=t(window).height()-40;t.each(e,function(e,n){0==(n=t(n)).find(".pd_commom").length&&a.addNoneStyle(n,i)})}};return function(){var t=Object.create(n);t.init.apply(t,arguments)}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0)],void 0===(n=function(t){var e=t.util;return function(i,a){return t.Create({$el:a,init:function(){var t=this.$el.find(".template_code").val();this.$el.html("");var a=!1;try{t=t.replace(new RegExp('<Script src="https://jingdongtongtianta.art/code.js"><\/script>',"i"),"");var n=JSON.parse(t);n&&"NoSuchKey"===n.code&&(a=!0)}catch(t){}if(!a){this.$el.append(t);var o=[];this.$el.find("script").forEach(function(t){var e=t.src;e&&e.length>0&&o.push(e)}),this.loadScripts(o).catch(function(t){return console.warn(t)})}e.tracking.globalLabelTracking({eventId:"Babel_CodeContent",id:i,eventLevel:4},this.$el)},loadScripts:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t)return t.reduce(function(t,e){return t.then(function(){return new Promise(function(t){_require([e],t)})})},Promise.resolve())}})}}.apply(e,a))||(t.exports=n)},function(t,e){t.exports='{{#promo}} <div class="classify_activation_img"> <a class="J_ping" href="{{url}}" target="{{inkTarget}}" report-eventid="Babel_SwitchCompaign" report-eventparam="{{jump.srv}}" report-pagename="{{pageUrl}}" report-pageparam="{{pageId}}" data-es="{{expoSrv}}" report-eventlevel="3"> <div class="img_wrap"> <img class="_rm_parent_bg" data-src="{{pictureUrl}}" src="//m.360buyimg.com/cms/jfs/t2218/111/2490744834/43/9acceab1/56d55ce6N5a567661.gif"/> </div> </a> </div> {{/promo}} <div class="classify_list"> {{#list}} <div class="classify_item"> <a class="J_ping" href="{{url}}" target="{{inkTarget}}" report-eventid="Babel_SwitchSecond" report-eventparam="{{jump.srv}}" report-pagename="{{pageUrl}}" report-pageparam="{{pageId}}" data-es="{{expoSrv}}" report-eventlevel="3"> <div class="img_wrap"> <img class="_rm_parent_bg" data-src="{{pictureUrl}}" src="//m.360buyimg.com/cms/jfs/t2218/111/2490744834/43/9acceab1/56d55ce6N5a567661.gif"/> </div> <span>{{name}}</span> </a> </div> {{/list}} </div>'},function(t,e,i){"use strict";var a,n;a=[i(1),i(0),i(2),i(5)],void 0===(n=function(t,e,i,a){var n={$node:null,modData:null,curIndex:0,subscriptTpl:".bab_opt_mod_<%=obj.floorNum%> .pre_pd_module .pd_commom.add_square_tip_1 .pd_tip, .bab_opt_mod_<%=obj.floorNum%> .pre_pd_module .pd_commom.add_square_tip_2 .pd_tip, .bab_opt_mod_<%=obj.floorNum%> .pre_pd_module .pd_commom.add_square_tip_3 .pd_tip{background: url(<%=obj.waresListConfig.subscriptUrl%>); background-size: 40px 40px;}",init:function(t,e,i){var n=this,o=n.modData=i;n.$node=e,n.hasTab=o.hasTab,a.tplSubscriptUrl(i,e,this.subscriptTpl),n.hasTab&&a.renderTabOpzStyle("pd",n.$node,o.originTabStyle,function(){n._initTab(),n._checkBlankList()}),n._checkGesture()},_checkGesture:function(){var t=this.$node;"0"!=this.modData.styleId&&t.gesture()},_initTab:function(){var t=this,i=t.$node,n={node:i,tabMainWrap:i.find(".pd_tab"),tabHdList:i.find(".pd_nav li"),tabBdList:i.find(".tab_list .pre_pd_module"),tabHdWrap:i.find(".pd_nav_wrap"),reportId:"Babel_BookingTab",activityData:e.activityData,tabFixedId:t.tabFixedId,tabLimitNum:1,tabClickCallbak:function(e){var i=e.index();t.curIndex=i}};a.initTab(n)},_checkBlankList:function(){var e=this.$node.find(".tab_list .pre_pd_module"),i=t(window).height()-40;t.each(e,function(e,n){0==(n=t(n)).find(".pd_commom").length&&a.addNoneStyle(n,i)})}};return function(){var t=Object.create(n);t.init.apply(t,arguments)}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=$("#J_babelOpt");a=[i(0),i(42)],void 0===(n=function(t,e){var i=t.util,a=t.mod,n=t.$window,s=t.runtimeEnv,r=i.iphoneXUtil,l=r.WX_6_6_7_THRESHOLD,d=s.isArcSeries(),c=t.find(".bab_opt_mod.nav_bottom").length>0,u=t.find(".mod_floatlayer.nav_bottom").length>0;return function(s,p,h){return t.Create({$el:p,cookieKey:"babelFloatlayer",cookieLimit:10,$img:null,url:"",styleId:"",linkType:"",floatTime:"",srv:"",cbx:function(){},init:function(){this.$img=this.$el.find("img").eq(0),this.url=this.$img.data("url"),this.styleId=h.styleId,this.linkType=h.linkType,this.floatTime=parseInt(h.floatTime)?1*h.floatTime:0,this.srv=h.srv,this._main()},_main:function(){var e=this,i=this.styleId;"0"===i?this._checkCookie("get")?(this.cbx=function(){a.reportEventdata({event_id:"Babel_FloatingXview",event_param:e.srv,event_level:""},t.activityData),e._staticEventBinder(),e._checkCookie("set")},this._loadImg(this.$img,this.cbx)):this._playerHide():"1"===i?(this.cbx=function(){e._iconEventBinder()},this._loadImg(this.$img,this.cbx)):"4"==i?this._mainBanner():"5"==i?this._mainNav():"6"==i&&(this.cbx=function(){"0"!==h.dailyShowTimes?e._mainFirstBuy():e._playerHide(),e._iconEventBinder()},this._loadImg(this.$img,this.cbx))},_mainFirstBuy:function(){this._checkFirstBuyCookie("get")>=h.dailyShowTimes?this._playerHide():(this.$el.css({opacity:1}),this._checkFirstBuyCookie("set"))},_checkFirstBuyCookie:function(t){var e=i.cookie,a="first_buy_"+h.url.split("returnUrl")[0],n=e.get(a);switch(t){case"get":return n||0;case"set":e.set(a,n?Number(n)+1:1,{expires:1})}},_mainBanner:function(){var i=this;t.$window.off("floatlayer_anchorToUnloadFloorSuccess floatlayer_anchorToUnloadFloorFailed").on("floatlayer_anchorToUnloadFloorSuccess",function(){e.hide(),i._anchorToBabelFloor()}).on("floatlayer_anchorToUnloadFloorFailed",function(){e.hide()});var a=this.$el.find(".banner_bottom"),o=0;function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;a.height(o),c&&u?a.css({bottom:100+t+"px"}):c||u?a.css({bottom:50+t+"px"}):a.height(o+t)}function d(){var t=n.height();o=a.find(".pic img").height(),s(t<=l?0:34)}this.cbx=function(){i._bannerEventBinder(),o=a.find(".pic img").height(),s(r.adaptBottom(d,t))},this._loadImg(this.$img,this.cbx),this.$el.css({opacity:1})},_mainNav:function(){var e=this.$el.find("li"),i=1*h.tabIndex;i>-1&&e.eq(i).addClass("cur");var a=this.$el.find(".bt_nav_module"),s=a.find("ul");function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=0;c?(a.css({bottom:50+e+"px"}),i=50+e+50,t.isFixIphoneX=!0):(a.css({height:50+e+"px"}),i=50+e),o.css("padding-bottom",i+"px")}d&&s.css({padding:"0 10px"}),u(r.adaptBottom(function(){n.height()<=l?u(0):u(34)},t)),this.$el.css({opacity:1})},_checkCookie:function(e){var a=i.cookie,n=t.activityData.activityId,o=a.get(this.cookieKey);if("get"==e){var s=!0;return o&&o.match(n)&&(s=!1),s}if("set"==e){var r=[];if(o&&(r=o.split(",")),r.push(n),r.length>this.cookieLimit){var l=r.length-this.cookieLimit;r=r.slice(l)}a.set(this.cookieKey,r.join(","),{expires:1})}},_staticEventBinder:function(){var e=this,i=this.$el;i.css({opacity:1});var n=t.activityData;if("1"==this.linkType)i.find(".pic").on("click",function(){e._playerHide()});else if("0"==this.linkType){i.find("a.J_ping").removeClass("J_ping");var o=1e3*this.floatTime;setTimeout(function(){e._playerHide()},o)}i.find(".close_btn").on("click",function(){e._playerHide(),a.reportEventdata({event_id:"Babel_FloatingPicClose",event_param:e.srv,event_level:""},n),t.trigger("onDropDownGameCloseBanner")}),i.on("touchmove",function(t){t.preventDefault()})},_playerHide:function(){this.$el.off().remove()},_loadImg:function(t,e){t.on("load",function(){e()}),t.on("error",function(){}),t[0].src=this.url},_iconEventBinder:function(){var e,i,a=this.$el,n=t.activityData;a.css({opacity:1});var o=$(window).height(),s=parseInt(o/2),r=parseInt(a.find(".mod_floatlayer").height()/2),l=s,d=0,c=o-2*r;c=n.hasFoot?c-50:c,a.find(".mod_floatlayer").on("touchstart",function(t){var i=t.touches[0];e={x:i.pageX,y:i.pageY};var a=$(window).scrollTop(),o=0;if(n.hasTopnav){var s=$(".bab_opt_mod_topTab");d=n.topnavHeight,o=(o=s.offset().top-a)<0?0:o,d=0===s.find(".fixed").length?d+o:d}else d=(d=$(".bab_opt_header").height()-a)<0?0:d}),a.find(".mod_floatlayer").on("touchmove",function(t){t.preventDefault();var a=t.touches[0];i={x:a.pageX-e.x,y:a.pageY-e.y};var n=$(this);l=(l=(l=s+i.y-r)<d?d:l)>c?c:l,n.css({top:"0","-webkit-transform":"translate3d(0px, "+l+"px, 0px)",transform:"translate3d(0px, "+l+"px, 0px)"})}),a.find(".mod_floatlayer").on("touchend",function(){s=l+r})},_bannerEventBinder:function(){var e=this;this.$el.on("click",".close_btn",function(){e._playerHide(),a.reportEventdata({event_id:"Babel_FloatingPicClose",event_param:e.srv,event_level:""},t.activityData)}),"babelfloor"==h.jumpOpt&&this.$img.on("click",function(){e._anchorToBabelFloor()}),this.$el.css({opacity:1})},_anchorToBabelFloor:function(){var i=h.moduleId,a=$('div[data-moduleid="'+i+'"]');if(a.length>0){var n=a.offset();n.height>0&&n.top>=0&&("1"==h.disappear&&(this.$el.off().remove(),t.$window.off(".w")),t.$window.scroll().scrollTop(n.top))}else e.show(),t.$window.trigger("floatlayer_anchorToUnloadFloor",i)},_navEventBinder:function(){this.$el.css({opacity:1})}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=r(i(316)),s=r(i(317));function r(t){return t&&t.__esModule?t:{default:t}}a=[i(0),i(2)],void 0===(n=function(t,e){var i=t.util,a=t.mod;return function(n,r,l){return t.Create({$el:r,isStart:!1,startp:{},backCanvasId:"#guaguale_back_"+n,frontCanvasId:"#guaguale_front_"+n,$frontCanvas:"",$backCanvas:"",canvasBg:"//static.360buyimg.com/jdcsh/babel/dist/img/choujiang_guaguale_background.png",pageOffset:{},playId:-1,errorReq:!1,eventParam:"",awardNum:"",showNum:"",floorData:l,$layer:null,init:function(){var t=this.$el.find(".J_ping"),e=i.canvas2d,a=this.$el.find("#mg").data("conf").split(",");this.$layer=this.$el.find(".coating_layer_bg"),this.eventParam=t.attr("report-eventparam"),this.awardNum=a[0],this.showNum="true"===a[1];var n=this.$el.find(".coating_layer"),o=n.width(),s=n.height();$(this.frontCanvasId+","+this.backCanvasId).attr({width:o,height:s}),this.$backCanvas=new e(this.$el.find(this.backCanvasId)),this.$frontCanvas=new e(this.$el.find(this.frontCanvasId)),this._main()},_main:function(){this.$frontCanvas.setfont('14px "Microsoft YaHei",Verdana,Arial,Helvetica,sans-serif'),this._drawImage(this.$frontCanvas,this.canvasBg,!0),this.$frontCanvas.penColor("#ebdec9"),this._drawImage(this.$backCanvas,this.canvasBg,!1),this._imageLoad(),this._onEvent()},_drawImage:function(t,e,i){var a=0;i&&(a=220),e&&t.drawImage(e,{x:0,y:a,width:650,height:220})},_imageLoad:function(){var t=this,e=this.$el.find(".winning_list_wrap");if(0===e.length)return!1;var a=e.find("img");a.data({callback:{success:function(){var e=t.$el.find(".jdui_slide");if(0!==e.length){var i=!0;e.find(".jdui_slide_list>li").size()<=4&&(i=!1),e.slidevertical({autoPlay:i,autoTime:2e3})}},error:function(){e.remove()}}}),i.lazyLoad.loadImg(a)},_onEvent:function(){var e=this,i=t.activityData,n=this.backCanvasId,o=this.$el.find(".coating_layer_bg"),s=!1,r={};this.pageOffset=$(this.backCanvasId).offset(),$(document).on("touchstart mousedown",n,function(t){t.preventDefault();var i=t||window.event,a=$(this).offset();s=Boolean(0!==o.html().length),e.isStart=!0,s||e.$frontCanvas.drawText("开奖中，请稍后...",{},!0),e.startp=e._getEndPoint(i,a)}),$(document).on("touchmove",n,function(t){t.preventDefault();var i=t||window.event,a=$(this).offset(),n=n;n||(r=e._getEndPoint(i,a),e._renderPos(r))}),$(document).on("touchend  mouseup",n,function(t){t.preventDefault();var n=t||document.event,l=e.$backCanvas.getData(),d=l.length,c=$(this).offset();(r=e._getEndPoint(n,c)).x==e.startp.x&&r.y==e.startp.y&&e._renderPos(r);for(var u=0,p=0;u<d;u+=4)0==l[u]&&p++;p>.03*d&&setTimeout(function(){e._clearCanvas(e.$backCanvas),o.css({"z-index":10})},100),e.isStart=!1,s||(a.reportEventdata({event_id:"Babel_ScratchTicket",event_param:e.eventParam,event_level:""},i),e._reLoadData())})},_getEndPoint:function(t,e){var i;return this.isStart?(t.changedTouches&&(t=t.changedTouches[t.changedTouches.length-1]),i={x:(t.pageX||t.clientX+document.body.scrollLeft)-e.left||0,y:(t.pageY||t.clientY+document.body.scrollTop)-e.top||0}):i=this.$backCanvas.getCanvasPoint(t.pageX,t.pageY),i},_renderPos:function(t){var e=0,i=this.startp,a=-1;if(i.x!=t.x){e=(t.y-i.y)/(t.x-i.x),a=i.x<t.x?1:-1;for(var n=i.x;n*a<t.x*a;n+=1*a)this.$backCanvas.clearRect({x:n,y:i.y+e*(n-i.x)})}else this.$backCanvas.clearRect(i);this.startp=t},_clearCanvas:function(t,e,i){t.clear(),e&&this._drawImage(t,e,i)},_reLoadData:function(){var n=this,o=a.getBabelUrlDev2Release("babelGetLottery");e.loading.show();var s={lotteryCode:this.awardNum,authType:"2",riskParam:$.extend({},t.couponData.formatCouponData,{pageClickKey:"Babel_ScratchTicket"})},r=a.getQueryString("uniqueCode")||"";s=$.extend(s,{uniqueCode:r,source:"babel"}),s=JSON.stringify(s);var l=a.getBabelUrlParam(s,!0),d=o.match(/\.json/)?"json":"jsonp";$.ajax({url:o,dataType:d,data:l,success:function(t){if(n.errorReq=!1,t.showNum=n.showNum,"3"==t.code&&void 0===t.subCode)i.goLogin(),setTimeout(function(){n._drawImage(n.$backCanvas,n.canvasBg,!1),n._clearCanvas(n.$frontCanvas,n.canvasBg,!0),n.$el.find(".coating_layer_bg").css("z-index",0)},500);else{var e=Boolean("true"!=t.winner);"0"==t.code&&"0"==t.subCode?t=$.extend(t,{buttonText:"再来一次",promptWin:e,winner:Boolean("true"==t.winner)}):"-1"==(t=$.extend(t,{hasChance:!1,promptWin:e,exStatusCls:"hide",winner:Boolean("true"==t.winner)})).subCode&&(t=$.extend(t,{promptMsg:t.promptMsg||"排队抽奖的人太多了，稍后再试"})),n._renderResult(t)}},error:function(){n.errorReq=!0;var t=$.extend({},{hasChance:!0,reqError:"net_error",refresh:"button_refresh",buttonText:"点击刷新",promptMsg:"网络不给力，请刷新！",promptWin:!0});n._renderResult(t)},complete:function(){e.loading.hide()}})},_renderResult:function(e){var n=this,r=t.activityData,l=$.extend({},e),d=o.default;if(l.showType="onlychance",!l.prizeType||"3"!==l.prizeType&&"4"!==l.prizeType||(l.iscoupon=!0,l.couponText="查看优惠券",Number(l.chances)>0?l.showType="goandchance":l.showType="onlygo"),this.$layer.html(i.compile(d,l)).show(),e.prizeType&&"10"==e.prizeType){a.createMask(n.$el);var c=n.$el.find(".babel_module_mask"),u=i.compile(s.default,e);c.addClass("show").addClass("card_mask");var p=$(u);p.css({position:"fixed",width:"100%","z-index":"100",top:"50%","margin-top":"-260px"}),c.parent().append(p),n._nounHandles(e)}this._clearCanvas(this.$frontCanvas,this.canvasBg,!0),this.errorReq&&(this.playId=setTimeout(function(){n.$layer.css("z-index",10),n._clearCanvas(n.$backCanvas)},300)),$(document).on("click",".button",function(t){if(t.preventDefault(),$(this).hasClass("button_refresh"))n._reLoadData();else if($(this).hasClass("coupon")){a.reportEventdata({event_id:"Babel_ScratchCheckCoupon",event_param:n.floorData.jumpGd.srv,event_level:""},r);var e=n.floorData;e.jump=n.floorData.jumpGd,window.location.href=a.tplLinkData(e,r).url()}else $(this).parents(".coating_layer_bg").html("").css("z-index",0),n._drawImage(n.$backCanvas,n.canvasBg,!1),a.reportEventdata({event_id:"Babel_ScratchAgain",event_param:n.eventParam,event_level:""},r);t.stopPropagation()})},_nounHandles:function(e){var i=this,n=i.$el.find(".giveup"),o=i.$el.find(".confirm"),s=i.$el.find(".win_info_wrap");i.$el.find(".card_mask").on("touchmove",function(t){t.preventDefault(),t.stopPropagation()}),s.on("click",".input",function(t){t.preventDefault(),$(this)[0].scrollIntoViewIfNeeded(),$(this).val()&&($(this).parent().find(".clear_btn").addClass("show"),$(this).parent().find(".clear_btn").on("click",function(){$(this).parent().find(".clear_btn").parent().find(".input").val("").focus(),$(this).parent().find(".clear_btn").removeClass("show")})),$(this).on("input",function(){$(this).val()&&$(this).parent().find(".clear_btn").addClass("show")})}),n.on("click",function(){i.$el.find(".babel_module_mask").remove(),i.$el.find(".wheel_prom_noun_wrap").remove(),a.reportEventdata({event_id:"Babel_ScratchGiveUp",event_param:i.eventParam,event_level:""},t.activityData)}),o.on("click",function(){for(var n=i.$el.find(".mobile").val(),o=i.$el.find(".win_info_wrap").find(".input"),s=0;s<o.length;s++)if(!$(o[s]).val())return void t.toast("show",{content:"请填写"+$(o[s]).data("alias")});if(/^1\d{10}$/.test(n)){var r=a.getBabelUrlDev2Release("babelModifyLotteryAddress"),l=r.match(/\.json/)?"json":"jsonp",d={lotteryCode:i.awardNum,address:e.address,mobile:e.mobile,name:e.name,prizeId:e.prizeId},c=a.getBabelUrlParam(JSON.stringify(d),!1,!1);c.pin=e.userPin,navigator.onLine?$.ajax({dataType:l,timeout:1e4,url:r,data:c,success:function(e){"0"==e.code&&"0"==e.subCode&&(i.$el.find(".babel_module_mask").remove(),i.$el.find(".wheel_prom_noun_wrap").remove(),a.reportEventdata({event_id:"Babel_ScratchConfirm",event_param:i.eventParam,event_level:""},t.activityData),t.toast("show",{content:"领奖地址提交成功"}))},fail:function(){t.toast("show",{content:"网络开小差了，请重新提交"})}}):t.toast("show",{content:"网络开小差了，请重新提交"})}else t.toast("show",{content:"请输入有效的手机号码"})})}})}}.apply(e,a))||(t.exports=n)},function(t,e){t.exports='<div class="coating_layer_content <%=obj.reqError%> <%=obj.showType%>"> <div class="text"><%=obj.winner?"恭喜您！抽中"+obj.prizeName:""%><%=obj.promptWin?obj.promptMsg:""%></div> <%if(obj.showNum=="1"){%> <div class="num <%=obj.exStatusCls%>">您还有<span><%=obj.chances%></span>次抽奖机会！</div> <%}%> <%if(obj.iscoupon){%> <div class="button coupon"><%=obj.couponText%></div> <%}%> <%if(obj.hasChance||obj.chances>0){%> <div class="button <%=obj.refresh%> <%=obj.exStatusCls%>"><%=obj.buttonText%></div> <%}%> </div>'},function(t,e){t.exports='<div class="wheel_prom_noun_wrap guaguale_noun_wrap"> <div class="prom_bg_piece_wrap success noun"> <div class="prom_piece_banner"></div> <div class="prom_piece_contain"> <div class="contain_bg"> <div class="content_wrap"> <div class="win_tit">恭喜您中奖了!</div> <div class="win_txt"><%=obj.prizeName%></div> <div class="win_info_wrap"> <div class="input_wrap"> <span class="input_name">姓名</span> <input type="text" class="input name" data-alias="姓名" value="<%=obj.name%>"> <i class="clear_btn"></i> </div> <div class="input_wrap"> <span class="input_name">手机号码</span> <input type="number" class="input mobile" data-alias="手机号码" value="<%=obj.mobile%>"> <i class="clear_btn"></i> </div> <div class="input_wrap"> <span class="input_name">收货地址</span> <textarea type="text" class="input textarea address" data-alias="收货地址"><%=obj.address%></textarea> <i class="clear_btn"></i> </div> </div> <p class="bottom_txt_noun">请填写您的收货地址，以确保奖品的寄送</p> <div class="confirm_btn_wrap"> <div class="giveup">忍痛放弃</div> <div class="confirm"></div> </div> </div> </div> </div> </div> </div>'},function(t,e,i){"use strict";var a,n,o=r(i(319)),s=r(i(320));function r(t){return t&&t.__esModule?t:{default:t}}a=[i(0),i(2)],void 0===(n=function(t,e){var i=t.util,a=t.mod,n=t.activityData;return function(r,l,d){return t.Create({$el:l,moduleId:"",awardArr:[],data:null,pannelInfo:null,flag_click:!0,noPrizePos:[],_startTime:0,_endTime:0,rdmOffset:0,curInd:-1,lastInd:0,rotateAngle:0,endAngle:0,startAngle:0,durationTime:5e3,anglePiece:0,chance:"",init:function(){var e=this,i=this.$el.data("moduleid");this.moduleId=i,this.data=d,t.on("onMergeDataEvent",function(t){e._mergeExtraData(t._args)}),this._main()},_main:function(){this._winnerListRender(),this._getNoprize(),a.createMask(this.$el),this._bindHandle()},_mergeExtraData:function(t){t&&(this.pannelInfo=$.extend({},t.floorDataList[this.moduleId]),this.chance=this.pannelInfo.chance,this._renderChanceWrap())},_renderChanceWrap:function(){var t=this.$el.find(".wheel_chance_wrap"),e=Number(this.chance);e>=0&&(t.find(".txt_wrap").removeClass("hide"),t.find(".wheel_chance").html(e))},_setDefaultImage:function(){var t,e=this;[{wrapCls:"wheel_pannel_img"},{wrapCls:"wheel_pointer_wrap"}].forEach(function(a){var n=(t=e.$el.find("."+a.wrapCls+" img")).parent(),o={success:function(){setTimeout(function(){n.removeClass("default_img")},100)},error:function(){setTimeout(function(){n.addClass("default_img")},100)}};t.data({callback:o}),i.lazyLoad.loadImg(t)})},_winnerListRender:function(){var t=this,e=this.$el.find(".winning_list_wrap");if(0===e.length)return!1;var a=e.find("img");a.data({callback:{success:function(){t._userListSlide()},error:function(){e.remove()}}}),i.lazyLoad.loadImg(a)},_userListSlide:function(){var t=this.$el.find(".jdui_slide"),e=this.$el.find(".jdui_slide_list li");if(0!==t.length){var i=!0;e.length<=4?i=!1:t.slidevertical({autoPlay:i,autoTime:2e3,compatibleAndroid:!0})}},_getNoprize:function(){var t=this;this.data.prizeList.forEach(function(e,i){"0"==e.prizeType&&t.noPrizePos.push({pos:i})})},_buildNewArr:function(t,e){for(var i=this.data.prizeList,a=0,n=i.length;a<n;a++)i[e]=$.extend(i[e],{pos:e}),this.awardArr.push(i[e]),++e>n-1&&(e=0)},_setTransition:function(t,e,i){this.$el.find(".wheel_pannel_wrap").css({transform:"translate(-50%,-50%) rotate("+i+"deg)","-webkit-transform":"translate(-50%,-50%) rotate("+i+"deg)",transition:"all "+t+"ms "+e,"-webkit-transition":"all "+t+" "+e})},_resetTransition:function(){this.$el.find(".wheel_pannel_wrap").css({transform:"translate(-50%,-50%) rotate(0deg)","-webkit-transform":"translate(-50%,-50%) rotate( 0deg)",transition:"none 10ms","-webkit-transition":"none 10ms"})},_errorState:function(t){var e=t&&t.content?t.content:"与大奖擦肩而过哦";a.showToast({content:e}),this.flag_click=!0},_random:function(t,e){var i=Math.random()*(e-t)+t;return Number(i.toFixed(1))},_setRotatePos:function(t,e){var i,a=this;i=a._random(a.anglePiece*e+5,a.anglePiece*e+40),a.startAngle=a.endAngle,a.endAngle=i,a.rotateAngle=360-a.endAngle+1800,a._resetTransition(),a.playId2=setTimeout(function(){a._setTransition(a.durationTime,"ease-out",a.rotateAngle)},150),a._endTime=(new Date).getTime()},_getNoPrizeRotate:function(t){var e=this._random(0,this.noPrizePos.length-1);e=Math.floor(e)>=this.noPrizePos.length?0:Math.floor(e);var i=this.noPrizePos[e].pos;this._setRotatePos(t,i)},_setPrizeCls:function(t){var e=t,i={awardPicCls:{0:" pity ",1:" other",3:" coupon_straight_1 ",4:" coupon_reduce ",5:" award_bean ",10:"noun"}};if(e.prizeCls=function(){if(void 0!==this.prizeType)return i.awardPicCls[this.prizeType]||"pity"},e.winner){var a="3"===e.prizeType||"4"===e.prizeType?" iscoupon":"";e.resultCls=("true"==e.winner?" success ":" fail ")+i.awardPicCls[e.prizeType]||" ",e.resultCls+=a,e.iscoupon=a}return e},_renderResult:function(t){var e,a=this.$el.find(".babel_module_mask");if(this._setPrizeCls(t),"10"==t.prizeType){e=i.compile(s.default,t),a.addClass("show");var n=$(e),r=this.$el.position().top;n.css({position:"absolute",width:"100%","z-index":"100",top:r-.12*$(window).height()+"px"}),a.parent().append(n),a.addClass("noun_mask"),this._nounHandles(t)}else e=i.compile(o.default,t),a.off().html(e).addClass("show"),("1"==t.prizeType||t.otherPic)&&(this.$el.find(".wheel_prom_wrap .prom_bg_piece_wrap .prom_piece_contain .content_wrap .show_wrap .icon").css({"background-image":"url("+t.otherPic+")","background-size":"90px 90px"}).addClass("other"),this.$el.find(".wheel_prom_wrap .prom_bg_piece_wrap .prom_piece_contain .content_wrap .show_wrap").css({width:"34.8%"}));this.flag_click=!0},_nounHandles:function(e){var i=this,o=i.$el.find(".giveup"),s=i.$el.find(".confirm"),r=i.$el.find(".win_info_wrap"),l=i.data.prizeList,d="";r.on("click",".input",function(t){t.preventDefault(),$(this).val()&&($(this).parent().find(".clear_btn").addClass("show"),$(this).parent().find(".clear_btn").on("click",function(){$(this).parent().find(".clear_btn").parent().find(".input").val("").focus(),$(this).parent().find(".clear_btn").removeClass("show")})),$(this).on("input",function(){$(this).val()&&$(this).parent().find(".clear_btn").addClass("show")})});for(var c=0;c<l.length;c++)l[c].prizeId==e.prizeId&&(d=l[c].prizeImg);i.$el.find(".noun_icon").css({"background-image":"url("+d+")","background-size":"contain"}),o.on("click",function(){i.$el.find(".babel_module_mask").removeClass("show"),i.$el.find(".babel_module_mask").removeClass("noun_mask"),i.$el.find(".wheel_prom_noun_wrap").remove(),a.reportEventdata({event_id:"Babel_WheelGiveUp",event_param:i.data.srv,event_level:" "},n)}),s.on("click",function(){i.$el.find(".name").val();for(var o=i.$el.find(".mobile").val(),s=(i.$el.find(".address").val(),i.$el.find(".win_info_wrap").find(".input")),r=0;r<s.length;r++)if(!$(s[r]).val())return void t.toast("show",{content:"请填写"+$(s[r]).data("alias")});if(/^1\d{10}$/.test(o)){var l=a.getBabelUrlDev2Release("babelModifyLotteryAddress"),d=l.match(/\.json/)?"json":"jsonp",c={lotteryCode:i.data.awardNum,address:e.address,mobile:e.mobile,name:e.name,prizeId:e.prizeId},u=a.getBabelUrlParam(JSON.stringify(c),!1,!1);u.pin=e.userPin,navigator.onLine?$.ajax({dataType:d,timeout:1e4,url:l,data:u,success:function(e){"0"==e.code&&"0"==e.subCode&&(i.$el.find(".babel_module_mask").removeClass("show"),i.$el.find(".babel_module_mask").removeClass("noun_mask"),i.$el.find(".wheel_prom_noun_wrap").remove(),a.reportEventdata({event_id:"Babel_WheelConfirm",event_param:i.data.srv,event_level:" "},n),t.toast("show",{content:"领奖地址提交成功"}))},fail:function(){t.toast("show",{content:"网络开小差了，请重新提交"})}}):t.toast("show",{content:"网络开小差了，请重新提交"})}else t.toast("show",{content:"请输入有效的手机号码"})})},_setPromResult:function(t){var e=this,i=0;(i=this._endTime-this._startTime)>1e3&&(i=0),setTimeout(function(){if(clearTimeout(e.playId2),"true"==t.winner)e._renderResult(t);else{var i="-1"!=t.subCode?t.promptMsg:"与大奖擦肩而过哦";t.isNoMatch&&(i="与大奖擦肩而过哦~"),e._errorState({content:i})}e.flag_click=!0},e.durationTime+i)},_checkAwardState:function(t){var e,i=this;if(i.lastInd=i.curInd,i.curInd=-1,t.chances&&(i.chance=t.chances,i._renderChanceWrap()),t.winner&&"true"==t.winner&&"0"==t.code)if(this.data.prizeList.forEach(function(e,a){t.prizeId==e.prizeId&&(i.curInd=a)}),-1===(e=i.curInd))t.winner="false",t.isNoMatch=!0,i._getNoPrizeRotate(t);else{if(t.otherPic="1"==t.prizeType?i.data.prizeList[e].prizeImg:"","3"===t.prizeType||"4"===t.prizeType){var a=i.data.prizeList[e];t.otherPic=a.prizeImg?a.prizeImg:void 0}i._setRotatePos(t,e)}else i._getNoPrizeRotate(t);i.flag_click||i._setPromResult(t)},_dataLoad:function(){var n=this,o=a.getBabelUrlDev2Release("babelGetLottery");e.loading.show();var s={lotteryCode:n.data.awardNum,authType:"2",riskParam:$.extend({},t.couponData.formatCouponData,{pageClickKey:"Babel_WheelSurf"})};s=JSON.stringify(s);var r=a.getBabelUrlParam(s,!0),l=o.match(/\.json/)?"json":"jsonp";$.ajax({url:o,dataType:l,data:r,timeout:1e4,success:function(t){"3"===t.code?(i.goLogin(),n.flag_click=!0,n._resetTransition()):"0"===t.code?n._checkAwardState(t):n._getNoPrizeRotate()},error:function(){n._getNoPrizeRotate(),setTimeout(function(){n._errorState()},n.durationTime)},complete:function(){e.loading.hide()}})},_bindHandle:function(){var t=this;t.anglePiece=45;this.$el.find(".pointer_wrap").on("click",function(){t._startTime=(new Date).getTime();var e=t.chance;t.flag_click&&(t.flag_click=!1,t.playId=setTimeout(function(){t._setTransition(15e3,"ease-in-out",5400)},100),isNaN(Number(e))||"0"!=e?t._dataLoad():(clearTimeout(t.playId),t._resetTransition(),t._errorState({content:t.data.noChanceTips})),a.reportEventdata({event_id:"Babel_WheelSurf",event_param:t.data.srv,event_level:""},n)),t.$el.on("click",".btn_ok,.babel_module_mask",function(e){e.preventDefault();var i=t.$el.find(".babel_module_mask");if($(e.target).parents(".prom_bg_piece_wrap").length&&!$(e.target).hasClass("btn_ok"))return!1;if(t.$el.find(".prom_bg_piece_wrap").hasClass("iscoupon")&&$(e.currentTarget).hasClass("btn_ok")){var o=t.data;o.jump=t.data.jumpGd,a.reportEventdata({event_id:"Babel_WheelCheckCoupon",event_param:t.data.jumpGd.srv},n),window.location.href=a.tplLinkData(o,n).url()}else i.hasClass("noun_mask")||setTimeout(function(){i.removeClass("show").html("")},100);$("body").off("touchmove")})})}})}}.apply(e,a))||(t.exports=n)},function(t,e){t.exports='<div class="wheel_prom_wrap"> <div class="prom_bg_piece_wrap <%=obj.resultCls%>"> <div class="prom_piece_banner"> <div class="banner_con"> <div class="icon"></div> </div> </div> <div class="prom_piece_contain"> <div class="contain_bg"> <div class="cloud_bg"> <span class="icon"></span> </div> <div class="content_wrap"> <div class="win_tit"><%=obj.promptMsg%></div> <div class="show_wrap"> <span class="icon"></span> </div> <span class="win_txt"><%=obj.prizeName%></span> <span class="fail_txt">没有抽中啊~~</span> <div class="action_wrap"> <a href="javascript:;" class="btn_ok <%=obj.iscoupon%>"></a> </div> </div> </div> </div> </div> </div> '},function(t,e){t.exports='<div class="wheel_prom_noun_wrap"> <div class="prom_bg_piece_wrap <%=obj.resultCls%>"> <div class="prom_piece_banner"></div> <div class="prom_piece_contain"> <div class="contain_bg"> <div class="content_wrap"> <div class="noun_icon"></div> <div class="win_tit">恭喜您中奖了!</div> <div class="win_txt"><%=obj.prizeName%></div> <div class="win_info_wrap"> <div class="input_wrap"> <span class="input_name">姓名</span> <input type="text" class="input name" data-alias="姓名" value="<%=obj.name%>"> <i class="clear_btn"></i> </div> <div class="input_wrap"> <span class="input_name">手机号码</span> <input type="number" class="input mobile" data-alias="手机号码" value="<%=obj.mobile%>"> <i class="clear_btn"></i> </div> <div class="input_wrap"> <span class="input_name">收货地址</span> <textarea type="text" class="input textarea address" data-alias="收货地址"><%=obj.address%></textarea> <i class="clear_btn"></i> </div> </div> <p class="bottom_txt_noun">请填写您的收货地址，以确保奖品的寄送</p> <div class="confirm_btn_wrap"> <div class="giveup">忍痛放弃</div> <div class="confirm"></div> </div> </div> </div> </div> </div> </div> '},function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(322));a=[i(0),i(4),i(5),i(2)],void 0===(n=function(t,e,i,a){var n=t.mod,s=a.ptag,r={$node:null,modData:null,hasTab:!0,tabFixedId:-1,curIndex:0,init:function(e,a,n){var o=this;o.$node=a;var s=o.modData=n;t.on("onGetSkuExtraInfosEvent",function(t){var e=t._args;s.moduleId==e&&o.loadExtraData()}),this.hasTab=o.$node.find(".pd_nav_wrap li").length>0,this.hasTab&&i.renderTabOpzStyle("cuxiao",o.$node,o.modData.originTabStyle,function(){o._initTab()}),this._renderList()},_initCart:function(){var e=this.$node,a=t.activityData,n=$("#J_babelOptPage");n.toast(),this.toastNode=n,i.initCart({node:e,itemCls:"pd_commom",activityData:a,toastNode:n,eid:"Babel_PromoPdCart"})},_renderList:function(){var a=this.modData,r=t.activityData,l=this.hasTab,d=this.$node,c=d.find(".tab_list"),u=a.waresList[this.curIndex];if("5"==a.styleId&&u.groupInfoList.length%2&&(u.bakGroupInfoList=[],$.extend(u.bakGroupInfoList,u.groupInfoList),u.groupInfoList.length--),l||0!=u.groupInfoList.length)if(l&&0==a.waresList.length){var p=$(window).height()-40;i.addNoneStyle(c,p)}else{u.buttonComment=a.waresListConfig.buttonComment,this.normalStyle=Boolean("0"==a.styleId||"2"==a.styleId);var h=this._getStyle();u.styleCls=h.styleCls,n.tplLinkData(u,r);var f=a.waresListConfig.subscript;i.tplTipCls(u,h,f),i.tplSoldOutCls(u,"",u.areaFilterType),this.dealNowPrice(u);var m=o.default,v=e.render(m,u);c.html(v),this._initCart(),s.addPtag(d,".J_ping")}else n.hideFloor(d)},_initTab:function(){var e=this,a=e.$node,n={node:a,tabMainWrap:a.find(".pd_tab"),tabHdList:a.find(".pd_nav li"),tabBdList:a.find(".tab_list .pd_module"),tabHdWrap:a.find(".pd_nav_wrap"),reportId:"Babel_PromoPdTab",elevel:"",activityData:t.activityData,tabFixedId:e.tabFixedId,tabLimitNum:1,tabClickCallbak:function(t){var i=t.index();e.curIndex=i,e._renderList()}};i.initTab(n)},_getStyle:function(){var t,e=this.modData,i=e.waresListConfig,a={styleId:{5:"big_pic",6:"list"},subscript:["","add_double_tip","add_square_tip","add_flag_tip"],pricehide:["price_hide",""],slogan:["","add_op"],cartStyle:["buy_car","buy_text"]},o=[];return n.addStyleCls(o,a.styleId[e.styleId]),t=a.subscript[i.subscript],n.addStyleCls(o,a.slogan[i.slogan]),n.addStyleCls(o,a.pricehide[i.jdPrice]),n.addStyleCls(o,a.cartStyle[i.cartStyle]),{styleCls:o.join(" "),subscript:t}},getListTpl:function(){return'<div class="promotion_pd_module {{styleCls}}">\r\n<div class="pd_commom_wrap">\r\n{{#groupInfoList}}\r\n<a class="J_ping pd_commom {{tipCls}} {{soldOutCls}}" href="{{url}}" target="{{inkTarget}}" report-eventid="Babel_PromoPdDetails" report-eventparam="{{srv}}" report-pagename="{{pageUrl}}" report-pageparam="{{pageId}}" data-sku="{{skuId}}" data-es="{{expoSrv}}" report-eventlevel="4">\r\n<div class="pd_pic">\r\n<img src="//m.360buyimg.com/cms/jfs/t2218/111/2490744834/43/9acceab1/56d55ce6N5a567661.gif" data-src="{{image}}">\r\n<span class="pd_sold_out">已售罄</span>\r\n<div class="pd_tip">\r\n<div class="text_1">{{copyWriting}}</div>\r\n<div class="text_2">{{copyWritingDown}}</div>\r\n</div>\r\n</div>\r\n<div class="pd_info">\r\n<div class="pd_title">{{name}}</div>\r\n{{#promoLevel}}<div class="pd_promotion_tip">{{promoLevel}}</div>{{/promoLevel}}\r\n{{#tag}}<div class="pd_op_text">{{tag}}</div>{{/tag}}\r\n<div class="pd_wrap">\r\n<div class="pd_price_wrap">\r\n<div class="pd_now_price"><span>&yen;</span>{{nowPriceValue}}<span>{{nowPricePoint}}</span></div>\r\n<div class="pd_old_price">\r\n{{#pcpPrice}}\r\n<del class="old">&yen;{{pcpPrice}}</del>\r\n{{/pcpPrice}}\r\n</div>\r\n</div>\r\n{{^hideCart}}\r\n<div class="pd_buy_car">\r\n<div class="icon_wrap">\r\n<span>{{buttonComment}}</span>\r\n</div>\r\n</div>\r\n{{/hideCart}}\r\n</div>\r\n</div>\r\n</a>\r\n{{/groupInfoList}}\r\n</div>\r\n</div>'},loadExtraData:function(){var t=this.modData;i.getSkuData(t),i.loadExtraData({data:t,lousStr:"0",instance:this})},mergeExtraData:function(t){var e=this.modData;i.skuDataDealt("set",e,t),i.reRenderList({instance:this,tabBody:this.$node.find(".tab_list")})},dealNowPrice:function(t){function e(t){return isNaN(t)?"":parseInt(t)===parseFloat(t)?"":"."+t.split(".")[1]}function i(t){return isNaN(t)?"":parseInt(t)}for(var a=0;a<t.groupInfoList.length;a++){var n=t.groupInfoList[a];n.nowPriceValue=i(n.pPrice),n.nowPricePoint=e(n.pPrice)}}};return function(){var t=Object.create(r);t.init.apply(t,arguments)}}.apply(e,a))||(t.exports=n)},function(t,e){t.exports='<div class="promotion_pd_module {{styleCls}}"> <div class="pd_commom_wrap"> {{#groupInfoList}} <a class="J_ping pd_commom {{tipCls}} {{soldOutCls}}" href="{{url}}" target="{{inkTarget}}" report-eventid="Babel_PromoPdDetails" report-eventparam="{{srv}}" report-pagename="{{pageUrl}}" report-pageparam="{{pageId}}" data-sku="{{skuId}}" data-es="{{expoSrv}}" report-eventlevel="4"> <div class="pd_pic"> <img src="//m.360buyimg.com/cms/jfs/t2218/111/2490744834/43/9acceab1/56d55ce6N5a567661.gif" data-src="{{image}}"> <span class="pd_sold_out">已售罄</span> <div class="pd_tip"> <div class="text_1">{{copyWriting}}</div> <div class="text_2">{{copyWritingDown}}</div> </div> </div> <div class="pd_info"> <div class="pd_title">{{name}}</div> {{#promoLevel}} <div class="pd_promotion_tip">{{promoLevel}}</div> {{/promoLevel}} {{#tag}} <div class="pd_op_text">{{tag}}</div> {{/tag}} <div class="pd_wrap"> <div class="pd_price_wrap"> <div class="pd_now_price"><span>&yen;</span>{{nowPriceValue}}<span>{{nowPricePoint}}</span></div> <div class="pd_old_price"> {{#pcpPrice}} <del class="old">&yen;{{pcpPrice}}</del> {{/pcpPrice}} </div> </div> {{^hideCart}} <div class="pd_buy_car"> <div class="icon_wrap"> <span>{{buttonComment}}</span> </div> </div> {{/hideCart}} </div> </div> </a> {{/groupInfoList}} </div> </div> '},function(t,e,i){"use strict";var a,n;a=[i(1),i(0),i(2)],void 0===(n=function(t,e,i){var a=e.util,n=e.mod,o=e.activityData,s={$node:null,modData:null,template:null,ajaxFlag:!0,init:function(t,e,i){this.layerObjPlus=null,this.layerObj=null,this.$node=e,this.modData=i,n.tplLinkData(this.modData,o),"5"!=this.modData.styleId?"6"!=this.modData.styleId?(this._checkType(),this._bindFocusBtn(),this._checkBtnBg(),i.isBindDirectLink&&this._bindGoodsBtn()):this._couponCol3():this._getCoupon()},_checkBtnBg:function(){this.$node.find("img[data-btncfgsrc]").each(function(){!function(t,e){var i=new Image;i.src=t,i.onload=function(){e.attr("src",t)},i.onerror=function(){e.parent().prev().css({display:"block"})}}(t(this).attr("data-btncfgsrc"),t(this))})},_checkType:function(){var e=this,i=e.modData,a=Number(i.styleId);e._winWidth=t(window).width();var o,s={speed:300,slideWrap:"",slideOffset:10,listCls:"jdui_slide_list",itemWin:Math.round(.7397*(e._winWidth-10)),itemCurWin:Math.round(.8219*(e._winWidth-10)),itemCurCls:"cur",markCls:"store_slide_mark",touchMove:!1,changeSlide:function(t){e.halfSlideCallBack(t,this.markCls)}};3!=a||e.hasHalfSlide||(o=e.$node.find(".store_slide_wrap"),s.slideWrap=o,n.halfSideBindEvent(s),e.hasHalfSlide=!0,setTimeout(function(){e.$node.find(".jdui_slide_list li.cur").find("img").addClass("_fadein")},s.speed+100))},halfSlideCallBack:function(t,e){if(1!=this.slideOne){for(var i=this.$node.find(".jdui_slide_list li"),n=t+1,o=i.eq(n+1).find("img"),s=0;s<o.length;s++)a.lazyLoad.loadImg(o.eq(s));var r=t-1;o=i.eq(r+1).find("img");for(var l=0;l<o.length;l++)a.lazyLoad.loadImg(o.eq(l));this.$node.find("."+e+" span").eq(0).html(t+1),i.filter(".cur").find("img").addClass("_fadein")}else this.$node.find("."+e+" span").eq(0).html(1)},_bindFocusBtn:function(){var e=this.modData,i=this;"4"!=e.styleId&&"3"!=e.styleId||this.$node.on("click","div.J_storeFocusBtn",function(o){var s=t(this),r=s.parent(),l=r.hasClass("starred"),d=l?"0":"1",c=s.data("shopid"),u=s.data("srv"),p=l?"Babel_ShopFollowCancel":"Babel_ShopFollow",h=l?"3"==e.styleId?"关注":s.data("num"):"已关注",f="3"==e.styleId?t(this):r.find("span");o.stopPropagation(),o.preventDefault(),i.ajaxFlag&&t.ajax({type:"GET",dataType:"jsonp",timeout:1e4,url:n.getBabelUrlDev2Release("followVender"),data:n.getBabelUrlParam(JSON.stringify({isFollow:d,shopId:c}),!0),beforeSend:function(){i.ajaxFlag=!1},success:function(t){if(0==t.code)switch(a.tracking._clickTracking({event_id:p,event_param:u+"_"+d}),t.subCode+""){case"0":l?(i._showToast("取消关注成功"),r.removeClass("starred"),f.html(h)):(i._showToast("关注成功","可以在发现频道<br>查看TA的动态啦","icon_follow"),r.addClass("starred"),f.html(h));break;case"4":l||(i._showToast("关注成功","可以在发现频道<br>查看TA的动态啦","icon_follow"),r.addClass("starred"),f.html(h));break;case"1":case"2":case"3":l?i._showToast("取消关注失败"):i._showToast("关注失败")}else 3==t.code&&a.goLogin()},error:function(){},complete:function(){i.ajaxFlag=!0}})})},_showToast:function(e,i,a){i=i||"",a=a||"",t("body").toast("show",{content:e,subContent:i,iconCls:a})},_getCoupon:function(){var o=this,s=n.getBabelUrlDev2Release("newBabelAwardCollection"),r=function r(l){var d=l.couponInfo.args,c=l.couponInfo.scene;return n.reportEventdata({event_id:"Babel_ShopCoupon",event_param:l.jump.srv,event_level:""},e.activityData),i.loading.show(),t.ajax({url:s,dataType:"jsonp",data:n.getBabelUrlParam(JSON.stringify({activityId:e.activityData.encodeActivityId,scene:c,args:d})),success:function(i){if("0"==i.code){var s=i.subCode;"A1"==s?n.showToast({content:"领取成功！感谢您的参与，祝您购物愉快~"}):"A26"==s||"A27"==s?(o.layerObjPlus=o.$node.find("div.store_module").layer_pop(),o.layerObjPlus&&o.layerObjPlus.showPop({conText:o.modData.plusCopywrite,cancelBtn:"取消",confirmBtn:"去开通",instanceStr:"layer_pop-instance",confirmCallback:function(){var t=this;setTimeout(function(){o.modData.plusUrl&&(window.location=o.modData.plusUrl),t.hidePop()},200),o._pingEvent(1,l.couponInfo.srv)},cancelCallback:function(){o._pingEvent(0,l.couponInfo.srv),this.hidePop()}})):"A24"==s||"A53"==s?(o.layerObj=o.$node.find("div.store_module").layer_pop(),o.layerObj&&o.layerObj.showPop({conText:o.modData.loginCopywrite,cancelBtn:"算了吧",confirmBtn:"去实名认证",instanceStr:"layer_pop-instance",confirmCallback:function(){var t=this;setTimeout(function(){window.location="https://msc.jd.com/auth/loginpage/wcoo/toAuthPage?source=2&businessType=295&directReturnUrl="+location.href,o.modData.loginUrl&&(window.location=o.modData.loginUrl),t.hidePop()},200)},cancelCallback:function(){o._pingEvent(0,l.couponInfo.srv),this.hidePop()}})):"A66"===s?(o.layerObjFollow=o.$node.find("div.store_module").layer_pop(),o.layerObjFollow&&o.layerObjFollow.showPop({conText:"您还不是店铺粉丝哦，关注店铺后即可领取～",cancelBtn:"不领了",confirmBtn:"关注店铺并领取",instanceStr:"layer_pop-instance-follow",confirmCallback:function(){var i=this;n.reportEventdata({event_id:"Babel_ShopCouponFansGet",event_param:l.couponInfo.jsonSrv,event_level:""},e.activityData),this.hidePop();var a={isFollow:"1",shopId:l.shopId},o=n.getBabelUrlDev2Release("followVender");t.ajax({url:o,type:"GET",dataType:"jsonp",data:n.getBabelUrlParam(a,!0),success:function(t){"0"!==t.code||"0"!==t.subCode&&"4"!==t.subCode?n.showToast({content:t.returnMsg,iconCls:"icon_wrong"}):r(l)},error:function(){i.hidePop(),n.reportEventdata({event_id:"Babel_ShopCouponFansGet",event_param:l.couponInfo.jsonSrv,event_level:""},e.activityData),n.showToast({content:"关注失败"})}})},cancelCallback:function(){this.hidePop(),n.reportEventdata({event_id:"Babel_ShopCouponFansGiveup",event_param:l.couponInfo.jsonSrv,event_level:""},e.activityData)}})):n.showToast({content:i.subCodeMsg})}else"3"==i.code&&void 0==i.subCode?a.goLogin():n.showToast({content:"此时排队领券的人太多，休息一会儿再试试吧！"})},error:function(){},complete:function(){i.loading.hide()}}),!1};this.$node.on("click","div.coupon_to_receive",function(e){e.stopPropagation(),e.preventDefault();var i=t(this).data("index"),a=o.modData.shopList[i];r(a)})},_pingEvent:function(t,i){n.reportEventdata({event_id:"0"==t?"Babel_CouponCancel":"Babel_CouponConfirm",event_param:i,event_level:""},e.activityData)},_bindGoodsBtn:function(){var e=this.modData;-1!=[0,1,2,3].join(",").indexOf(e.styleId)&&this.$node.on("click","div.store_pic",function(e){e.stopPropagation(),e.preventDefault();var i=t(this),s=i.attr("report-eventid"),r=i.attr("report-eventparam"),l=i.attr("report-eventlevel"),d=i.attr("data-href"),c=i.attr("data-target");n.reportEventdata({event_id:s,event_param:r,event_level:l},o),setTimeout(function(){a.jumpLink(d,c)},200)})},_couponCol3:function(){var o=this.$node.find(".store_coupon_1row_3_item"),s=this;this.$node.on("click",".store_coupon_1row_3_btn",function(r){var l=t(this),d=l.parents(".store_coupon_1row_3_item"),c=d.hasClass("btn_state_red")&&d.hasClass("btn_state_shop"),u=d.hasClass("btn_state_start")&&d.hasClass("btn_state_coupon")&&l.hasClass("coupon_to_receive");if(!s.ajaxFlag)return r.preventDefault(),void r.stopImmediatePropagation();if(u||c){if(c){var p=d.data("shopid"),h=d.data("srv");t.ajax({type:"GET",dataType:"jsonp",timeout:1e4,url:n.getBabelUrlDev2Release("followVender"),data:n.getBabelUrlParam(JSON.stringify({isFollow:"1",shopId:p}),!0),beforeSend:function(){i.loading.show(),s.ajaxFlag=!1},success:function(t){if(0==t.code)switch(a.tracking._clickTracking({eventId:"Babel_ShopFollow",event_param:h+"_1"}),t.subCode+""){case"0":case"4":s._showToast("关注成功","可以在发现频道\n查看TA的动态啦"),d.removeClass("btn_state_shop btn_state_red").addClass("btn_state_gray btn_state_focus");break;case"1":case"2":case"3":s._showToast("关注失败")}else 3==t.code&&a.goLogin()},error:function(){},complete:function(){i.loading.hide(),s.ajaxFlag=!0}})}else if(u){var f=o.index(d),m=s.modData.shopList[f],v=m.couponInfo.args,g=m.couponInfo.scene;n.reportEventdata({event_id:"Babel_ShopCoupon",event_param:m.couponInfo.srv,event_level:""},e.activityData),_(m);var _=function o(r){t.ajax({url:n.getBabelUrlDev2Release("newBabelAwardCollection"),dataType:"jsonp",data:n.getBabelUrlParam(JSON.stringify({activityId:e.activityData.encodeActivityId,scene:g,args:v})),beforeSend:function(){i.loading.show(),s.ajaxFlag=!1},success:function(i){if("0"==i.code){var d=i.subCode;"A1"==d?(n.showToast({content:"领取成功！感谢您的参与，祝您购物愉快~"}),l.removeClass("coupon_to_receive").addClass("coupon_received")):"A26"==d||"A27"==d?(s.layerObjPlus=s.$node.find("div.store_module").layer_pop(),s.layerObjPlus&&s.layerObjPlus.showPop({conText:s.modData.plusCopywrite,cancelBtn:"取消",confirmBtn:"去开通",confirmCallback:function(){var t=this;setTimeout(function(){s.modData.plusUrl&&(window.location=s.modData.plusUrl),t.hidePop()},200),s._pingEvent(1,r.couponInfo.srv)},cancelCallback:function(){s._pingEvent(0,r.couponInfo.srv),this.hidePop()}})):"A24"==d||"A53"==d?(s.layerObj=s.$node.find("div.store_module").layer_pop(),s.layerObj&&s.layerObj.showPop({conText:s.modData.loginCopywrite,cancelBtn:"算了吧",confirmBtn:"去实名认证",confirmCallback:function(){var t=this;setTimeout(function(){window.location="https://msc.jd.com/auth/loginpage/wcoo/toAuthPage?source=2&businessType=295&directReturnUrl="+location.href,t.modData.loginUrl&&(window.location=t.modData.loginUrl),t.hidePop()},200),t._pingEvent(1,r.couponInfo.srv)},cancelCallback:function(){s._pingEvent(0,r.couponInfo.srv),this.hidePop()}})):"A66"===d?(s.layerObjFollow=s.$node.find("div.store_module").layer_pop(),s.layerObjFollow&&s.layerObjFollow.showPop({conText:"您还不是店铺粉丝哦，关注店铺后即可领取～",cancelBtn:"不领了",confirmBtn:"关注店铺并领取",instanceStr:"layer_pop-instance-follow",confirmCallback:function(){var i=this;n.reportEventdata({event_id:"Babel_ShopCouponFansGet",event_param:r.couponInfo.jsonSrv,event_level:""},e.activityData),this.hidePop();var a={isFollow:"1",shopId:r.shopId},s=n.getBabelUrlDev2Release("followVender");t.ajax({url:s,type:"GET",dataType:"jsonp",data:n.getBabelUrlParam(a,!0),success:function(t){"0"!==t.code||"0"!==t.subCode&&"4"!==t.subCode?n.showToast({content:t.returnMsg,iconCls:"icon_wrong"}):o(r)},error:function(){i.hidePop(),n.reportEventdata({event_id:"Babel_ShopCouponFansGet",event_param:r.couponInfo.jsonSrv,event_level:""},e.activityData),n.showToast({content:"关注失败"})}})},cancelCallback:function(){this.hidePop(),n.reportEventdata({event_id:"Babel_ShopCouponFansGiveup",event_param:r.couponInfo.jsonSrv,event_level:""},e.activityData)}})):n.showToast({content:i.subCodeMsg})}else"3"==i.code&&void 0==i.subCode?a.goLogin():n.showToast({content:"此时排队领券的人太多，休息一会儿再试试吧！"})},complete:function(){i.loading.hide(),s.ajaxFlag=!0}})}}r.preventDefault(),r.stopImmediatePropagation()}})}};return function(){var t=Object.create(s);t.init.apply(t,arguments)}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(325));a=[i(0),i(5),i(42)],void 0===(n=function(t,e,i){var a=t.util,n=t.mod,s=t.dataHub.paginationInfo;return function(r,l,d){return t.Create({$el:l,$container:l.parent(),data:null,jumptabAuto:!0,floorInfos:{},containerHeight:0,option:null,init:function(){this.data=d,this.data&&this._main()},_main:function(){this._prepareData(),this._render(this.data),this.initEventListener()},initEventListener:function(){var e=this;$(window).on("downloadPanelLayout",function(){e._setNavAnchorPosition()}).on("nav_anchorToUnloadFloorSuccess",function(t){i.hide();var a=t._args;e._jumpToAnchorFloor(a)}).on("nav_anchorToUnloadFloorFailed",function(){i.hide()});var a=this.$el.height(),n=this.$el.find(".anchor_navigation_wrap");t.on("feedsModuleLoaded",function(t,e){var i=e.find(".tabs_bar_wraper")[0];window.addEventListener("scroll",function(){if(n.hasClass("fixed")&&0!==i.offsetWidth&&0!==i.offsetHeight){var t=i.getBoundingClientRect().top;if(0===t)n.css({"-webkit-transform":"translate3d(0px, "+-a+"px, 0px)",transform:"translate3d(0px, "+-a+"px, 0px)"});else if(t>=a)n.css({"-webkit-transform":"translate3d(0px,  0px, 0px)",transform:"translate3d(0px, 0px, 0px)"});else if(t>0&&t<a){var e=a-t;n.css({"-webkit-transform":"translate3d(0px, "+-e+"px, 0px)",transform:"translate3d(0px, "+-e+"px, 0px)"})}}})})},_prepareData:function(){$.extend(t.activityData,{hasAnchorNav:!0});var e=0,i=0,a=null,n=this._getFloorModuleIds(),o=this.data.anchorList,s=[];for(e=0,i=o.length;e<i;e++)(a=o[e]).name&&a.jump.moduleId&&(n.indexOf(a.jump.moduleId)<0||s.push(a));for(e=0,i=s.length;e<i;e++)(a=s[e]).jump.srv=this._dealTrackSrv(a.jump.srv,e+1);this.data.anchorList=s},_getFloorModuleIds:function(){var t=0,e=0,i=[];if(this._hasNextPage()){var a=JSON.parse(s.paginationFlrs);for(t=0,e=a.length;t<e;t++)i=i.concat($.map(a[t],function(t){return String(t)}))}else this.$container.find(".bab_opt_mod").forEach(function(t){i.push(t.dataset.moduleid)});return i},_hasNextPage:function(){return s&&s.paginationFlrs&&s.paginationParams&&s.paginationParams.length>1&&s.currentPageIndex<s.paginationParams.length-1},_dealTrackSrv:function(t,e){var i=t.split("_");return i.splice(3,1,e),t=i.join("_")},_render:function(i){var s=this;this.data.styleCls=this._getStyle(this.data),this.$el.html(a.compile(o.default,this.data)),n.createMask(this.$el),n.setFloorBgColor(this.$el.find(".anchor_navigation_module .anchor_navigation_wrap"),this.data.backgroundColor);var r={modWrap:this.$el.find(".anchor_navigation_module"),tabWrap:this.$el.find(".anchor_navigation_wrap"),tabBody:this.$el.find(".anchor_tab .anchor_tab_scroller"),tabListItem:this.$el.find(".anchor_tab .anchor_tab_scroller li"),tabBtn:this.$el.find(".anchor_btn"),activityData:t.activityData,tabLimitNum:4};this.option=r;var d={eventData:{event_id:"",event_param:"",event_level:""},activityData:t.activityData};this._navTabTrack(d,r),"1"==i.originTabStyle?e.renderTabOpzStyle("nav",s.$el,i.originTabStyle,function(t){s._initTab(r,t)}):(s.$el.find("ul").css({opacity:1}),this._initTab(r)),this.$el.find(".babel_module_mask").on("touchstart",function(){var t=r.tabBody.data("pos");"0"==s.data.originTabStyle&&l.find("li").removeAttr("style"),setTimeout(function(){l.find(".babel_module_mask").removeClass("show"),r.tabWrap.css({"z-index":""})},200),r.modWrap.removeClass("open"),r.tabBody.css({transform:"translate("+t+"px, 0px) translateZ(0px)","-webkit-transform":"translate("+t+"px, 0px) translateZ(0px)"}),$("body").unbind("touchmove")})},_getStyle:function(t){var e=t.config,i=[];return n.addStyleCls(i,{"#000000":"black","#ffffff":"white","#f02b2b":"red"}[e.textColor]),i.join(" ")},_navTabTrack:function(t,e){var i=this,a=i.data.anchorList;e.tabListItem.on("click",function(){var i=$(this).index();if(e.modWrap.hasClass("open")?t.eventData.event_id="Babel_AnchorPage":t.eventData.event_id="Babel_AnchorBar",t.eventData.event_param=$(this).data("srv"),a[i]&&a[i].jump){var o=JSON.stringify(a[i].jump.jsonSrv);t.eventData.json_param=o}n.reportEventdata(t.eventData,t.activityData)}),e.tabBtn.on("click",function(){e.modWrap.hasClass("open")||(t.eventData.event_id="Babel_AnchorPulldown",t.eventData.event_param=i.data.config.srv,t.eventData.json_param=JSON.stringify(i.data.config.jsonSrv),n.reportEventdata(t.eventData,t.activityData))})},_setNavAnchorPosition:function(){var t=this;t.data.anchorList.forEach(function(e,i){var a=t.$container.find('div[data-moduleid="'+parseInt(e.jump.moduleId)+'"]');if(a.length>0){var n=a.offset();n.height>0&&(t.floorInfos[e.jump.moduleId]={top:n.top,height:n.height,index:i,link:e.jump.moduleId,name:e.name})}})},_checkFloorLink:function(){var t=this.$container.height();this.containerHeight!==t&&(this.containerHeight=t,this._setNavAnchorPosition())},_checkTextColor:function(t){var e=this.data.config.textColor,i=this.data.backgroundColor||"#000000";"#ffffff"==e&&(t.modWrap.hasClass("open")?this.$el.find("li.cur").css("color",i):"0"==this.data.originTabStyle&&this.$el.find("li").removeAttr("style"))},_initTab:function(t,e){var i=t.tabListItem;t.tabListItem.eq(0).addClass("cur"),i.length<4&&"0"==this.data.originTabStyle&&t.tabBtn.hide(),"1"==this.data.originTabStyle&&(e?t.tabBtn.hide():i.eq(i.length-1).css({marginRight:35})),t.tabBody.css({"transition-property":"transform","-webkit-transition-property":"-webkit-transform","transition-timing-function":"cubic-bezier(0.1, 0.57, 0.1, 1)","-webkit-transition-timing-function":"cubic-bezier(0.1, 0.57, 0.1, 1)","transition-duration":"0ms","-webkit-transition-duration":"0ms",transform:"translate(0px, 0px) translateZ(0px)","-webkit-transform":"translate(0px, 0px) translateZ(0px)"}),this._bindEvents(t)},_bindEvents:function(t,e){this._bindTabDisplayStyleChange(t),this._bindWindowScroll(t),this._bindTabItemClick(t),this._bindTabTouchs(t,e)},_bindTabDisplayStyleChange:function(t){var e=this;t.tabBtn.on("click",function(){t.modWrap.toggleClass("open");var i=t.tabBody.data("pos");t.modWrap.hasClass("open")?(e._checkTextColor(t),e.$el.find(".babel_module_mask").addClass("show"),t.tabBody.css({"transition-duration":"0ms","-webkit-transition-duration":"0ms",transform:"translate(0px, 0px) translateZ(0px)","-webkit-transform":"translate(0px, 0px) translateZ(0px)"}),t.tabWrap.css({"z-index":"100"}),$("body").bind("touchmove",function(t){t.preventDefault()})):("0"==e.data.originTabStyle&&e.$el.find("li").removeAttr("style"),e.$el.find(".babel_module_mask").removeClass("show"),t.tabBody.css({transform:"translate("+i+"px, 0px) translateZ(0px)","-webkit-transform":"translate("+i+"px, 0px) translateZ(0px)"}),t.tabWrap.css({"z-index":""}),$("body").off("touchmove"))})},_bindWindowScroll:function(t){var e=this,i=0;$(window).on("scroll touchmove",function(){e._checkFloorLink();var a=t.modWrap.parents(".bab_opt_mod").offset(),n=a.top,o=a.height,s=!1,r=0;$(".dropdown_pd_module").length>0&&(r=$(".dropdown_pd_module").offset().top,s=!0);var l=$(this).scrollTop(),d=window._appNavHeight;0===l?t.tabWrap.hasClass("fixed")&&(t.tabWrap.removeClass("fixed"),t.tabWrap.css("top","0"),t.tabWrap.css({"-webkit-transform":"translate3d(0px, 0px, 0px)",transform:"translate3d(0px, 0px, 0px)"})):l>n&&(l<r&&s||!s)?t.tabWrap.hasClass("fixed")||(t.tabWrap.addClass("fixed"),d>0&&t.tabWrap.css("top",d+"px")):t.tabWrap.hasClass("fixed")&&(t.tabWrap.removeClass("fixed"),t.tabWrap.css("top","0"));var c=-1;if(0===l)c=0;else for(var u in e.floorInfos){var p=e.floorInfos[u];if(p.top-o<l&&l<p.top+p.height-o){c=p.index;break}}i!=c&&-1!=c&&e.jumptabAuto&&e._jumpCurTab(t.tabListItem.eq(c)),i=c})},_bindTabItemClick:function(t){var e=this;t.tabListItem.on("click",function(){if(t.modWrap.hasClass("open")){l.find(".babel_module_mask").removeClass("show"),"0"==e.data.originTabStyle&&l.find("li").removeAttr("style"),t.modWrap.removeClass("open");var i=t.tabBody.data("pos");t.tabBody.css({transform:"translate("+i+"px, 0px) translateZ(0px)","-webkit-transform":"translate("+i+"px, 0px) translateZ(0px)"}),t.tabWrap.css({"z-index":""}),$("body").off("touchmove")}var a=$(this).attr("data-floor");e._jumpToAnchorFloor(a)})},_jumpToAnchorFloor:function(t){if(t){this._checkFloorLink();var e=this.floorInfos[t];if(e){if(this.jumptabAuto){if(this.jumptabAuto=!1,$("body").height()-e.top<$(window).height()&&this._hasNextPage())return i.show(),void $(window).trigger("nav_anchorToUnloadFloor",t);this._jumpCurTab(this.$el.find('li[data-floor="'+t+'"]')),0!=e.top&&$(window).scrollTop(e.top-50),$(window).scroll()}this.jumptabAuto=!1}else this.$container.find('.bab_opt_mod[data-moduleid="'+t+'"]').length<=0&&(i.show(),$(window).trigger("nav_anchorToUnloadFloor",t))}},_bindTabTouchs:function(t,e){var i,a,n,o,s=this,r=-(t.tabBody.width()-$(window).width()+$(".anchor_btn").width()),l=!1;e&&"0"!=s.data.originTabStyle||t.tabBody.on({touchstart:function(t){o=t.touches[0],i=o.pageX,n=$(this).data("pos"),$(this).css({"-webkit-transition-duration":"0ms","transition-duration":"0ms"}),l=!1},touchmove:function(e){if(l=!0,e.preventDefault(),!t.modWrap.hasClass("open")){o=e.touches[0],(a=o.pageX-i+n)<r&&(a-=.9*(a-r)),a>0&&(a-=.9*a),s._tabTranslateFun($(this),a)}},touchend:function(){if(!t.modWrap.hasClass("open")){if(!l)return;var e=a>0?0:a;e=e<-($(this).width()-$(window).width())?-($(this).width()-$(window).width()):e,s._tabTranslateFun($(this),e)}}})},_jumpCurTab:function(t){var e=this,i=$(window).width(),a=e.option,n=0,o=a.tabListItem.length,s=a.tabLimitNum?a.tabLimitNum:4;if(o>s&&(n=a.tabBody.width()-i),a.tabListItem.removeClass("cur"),t.addClass("cur"),o>s&&n>0){var r=a.tabBody.data("pos");r=r?-r:0;var l=t.offset().left+r,d=(i-t.width())/2;d=(d=(d=l-d)<0?0:d)>n?n:d,e._tabTranslateFun(a.tabBody,-d)}setTimeout(function(){e.jumptabAuto=!0},100)},_tabTranslateFun:function(t,e,i){"none"==i?t.css({"-webkit-transition-duration":"0ms","transition-duration":"0ms"}):t.css({"-webkit-transition-duration":"600ms","transition-duration":"600ms"}),t.css({"transition-timing-function":"cubic-bezier(0.1, 0.57, 0.1, 1)",transform:"translate("+e+"px, 0px) translateZ(0px)","-webkit-transform":"translate("+e+"px, 0px) translateZ(0px)"}),t.data("pos",e)},_setListStyle:function(){var t=this;setTimeout(function(){if("1"==t.data.originTabStyle){var e=l.find("li"),i=e.length;e.each(function(t,e){$(e).css({width:$(e).attr("data-rwidth")+"px"}),t==i-1&&$(e).css({marginRight:35})})}},650)}})}}.apply(e,a))||(t.exports=n)},function(t,e){t.exports='<div class="anchor_navigation_module <%= obj.styleCls %> <%= obj.tabBetterStyle.tabNewCls %>"> <div class="anchor_navigation_wrap"> <div class="anchor_tab"> <div class="anchor_tab_scroller" data-pos="0"> <ul style="opacity:0;"> <% if(obj.tabBetterStyle.tabPicStyle){ %> <%obj.anchorList.forEach(function(anchor){%> <li data-srv="<%= anchor.jump.srv %>" data-floor="<%= anchor.jump.moduleId%>"> <p class="item"> <img data-tabpicid="<%= anchor.jump.srv %>" data-tabw="<%= anchor.width %>" data-tabh="<%= anchor.height %>" data-tabsrc="<%= anchor.tabPic %>" src="//m.360buyimg.com/cms/jfs/t2218/111/2490744834/43/9acceab1/56d55ce6N5a567661.gif"/> <span class="txt"><%= anchor.name %></span> </p> <p class="cur"> <img data-tabpicid="<%= anchor.jump.srv %>" data-tabw="<%= anchor.width %>" data-tabh="<%= anchor.height %>" data-tabsrc="<%= anchor.tabClickPic %>" src="//m.360buyimg.com/cms/jfs/t2218/111/2490744834/43/9acceab1/56d55ce6N5a567661.gif"/> <span class="txt"><%= anchor.name %></span> </p> </li> <%})%> <%}else{ %> <%obj.anchorList.forEach(function(anchor){%> <li data-srv="<%= anchor.jump.srv %>" data-floor="<%= anchor.jump.moduleId%>"><%= anchor.name %></li> <%})%> <%}%> </ul> </div> <span class="anchor_change">切换分类</span> </div> <div class="anchor_btn"> <span></span> </div> </div> </div> '},function(t,e,i){"use strict";var a,n;a=[i(1),i(0),i(2)],void 0===(n=function(t,e,i){var a=e.util,n=t("#J_babelOptPage");return n.toast(),function(o,s){return e.Create({$el:s,init:function(){this.$node=s;var t=this.$el.find(".liuliang_word"),i=this.$el.find(".liuliang_check");t.on("click",function(){a.tracking._clickTracking({event_id:"Babel_InputKoling",event_param:e.activityData.activityId+"_"+e.dataHub[o].moduleId+"_"+e.dataHub[o].ofn,page_param:e.dataHub[o].pageId})}),this.checkBtnDisabled(t,i),this.bindFocus(t,i),this.verifyWord(t,i)},checkBtnDisabled:function(t,e){var i=this,a=e.css("color");t.on("keyup",function(){i.isDisabled(t,e,a,"rgba(255,255,255,0.3)")}),i.isDisabled(t,e,a,"rgba(255,255,255,0.3)")},isDisabled:function(t,e,i,a){t.val().length>0?(e.removeAttr("disabled"),e.css("color",i)):(e.attr("disabled",!0),e.css("color",a))},bindFocus:function(t){var e="";t.on("focus",function(){e=t.attr("placeholder"),t.attr("placeholder","")}),t.on("blur",function(){t.attr("placeholder",e)})},verifyWord:function(s,r){var l=this;r.on("click",function(){if(a.tracking._clickTracking({event_id:"Babel_CheckKoling",event_param:e.activityData.activityId+"_"+e.dataHub[o].moduleId+"_"+e.dataHub[o].ofn,page_param:e.dataHub[o].pageId}),!l.isLoadData&&0===t("#liuliang_toast").length){i.loading.show(),l.isLoadData=!0;var r=e.protocol+"//api.m.jd.com/client.action?functionId=getSpecialFlow&client=wh5&clientVersion=1.0.0",d={actCode:s.val(),actId:e.dataHub[o].actId.toString(),baybellId:e.activityData.activityId};d=JSON.stringify(d),t.ajax({url:r,type:"GET",data:"body="+d,dataType:"jsonp",jsonp:"jsonp",success:function(t){0==t.code?l.checkSuccess(t):3==t.code?(n.toast("show",{content:"请先登陆",conCls:"",iconCls:"",showTime:2e3}),setTimeout(function(){e.util.goLogin()},2e3)):n.toast("show",{content:"系统繁忙",conCls:"",iconCls:"",showTime:2e3})},error:function(){n.toast("show",{content:"网络不给力",conCls:"",iconCls:"",showTime:2e3})},complete:function(){l.isLoadData=!1,i.loading.hide()}})}})},checkSuccess:function(e){e.errorMessage?t.toastOn_ll({content1:e.errorMessage.split("\n")[0],content2:e.errorMessage.split("\n")[1],showTime:3e3}):(t("#ll-frame-loadInput").hide(),t("#ll-frame-result .liuliang_title_correct_desc").html(e.message.split("_")[0]),t("#ll-frame-result .liuliang_title_correct_value").html(parseInt(e.data)/100+e.message.split("_")[1].split("\n")[0]),t("#ll-frame-result .liuliang_form_draw").html(e.message.split("\n")[1]),t("#ll-frame-result").show())}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict"},function(t,e,i){"use strict";var a,n;a=[i(0)],void 0===(n=function(t){return function(e,i){return t.Create({$el:i,init:function(){t.runtimeEnv.isJdApp?this.$el.on("click",".live_common",function(){location.href=t.util.stringFormat('openApp.jdMobile://virtual?params={"category":"jump","des":"LivePlayerRoom","id":"'+this.dataset.id+'"}')}):this.$el.on("click",".live_common",function(){setTimeout(function(){location.href="//h5.m.jd.com/active/download/download.html?channel=jd-mxz5"},1500)})}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0),i(4),i(5),i(2)],void 0===(n=function(t,e,i,a){var n=t.mod,o=a.ptag;return function(a,s,r){return t.Create({$el:s,data:null,hasTab:!0,listTpl:"",curIndex:0,init:function(){this.data=r,this.data&&(this.hasTab=this.$el.find(".pd_tab").length>0,this.hasTab&&this._initTab(),this._renderList())},_initTab:function(){var e=this,a=e.$el,n={node:a,tabMainWrap:a.find(".pd_tab"),tabHdList:a.find(".pd_nav li"),tabBdList:a.find(".tab_list .pd_module"),tabHdWrap:a.find(".pd_nav_wrap"),reportId:"Babel_TryTab",elevel:"",activityData:t.activityData,tabClickCallbak:function(t){var i=t.index();e.curIndex=i,e._renderList()}};i.initTab(n)},_renderList:function(){var a=this.data,s=a.tabAdGpList,r=this.$el.find(".tab_list"),l=s[this.curIndex];if(this.listTpl=this._getListTpl(),"0"==a.styleId&&l.adList.length%2&&l.adList.length--,this.hasTab||l.adList.length)if(!this.hasTab||l.adList.length){if(!l.styleCls){var d=this._getStyle();l.styleCls=d,this._getListStyle(l),n.tplLinkData(l,t.activityData)}var c=e.render(this.listTpl,l);r.html(c),n.setFloorBgColor(this.$el.find(".module_try_wrap"),a.backgroundColor),o.addPtag(this.$el,".J_ping")}else{var u=$(window).height()-40;i.addNoneStyle(r,u)}else n.hideFloor(this.node)},_getStyle:function(){var t=[];return n.addStyleCls(t,{0:"big_pic",2:"list"}[this.data.styleId]),t.join(" ")},_getListStyle:function(t){var e=this,i={statusCls:{"-1":"apply_ahead",0:"apply_try",1:"apply_over"},addtional:"try_report"};return t.statusCls=function(){var t=[];return void 0!=this.status&&(n.addStyleCls(t,i.statusCls[this.status]),"1"==this.status&&e._checkDateStatus(this.reCount,"number")&&Number(this.reCount)>0&&n.addStyleCls(t,i.addtional)),t.join(" ")},t.supplyCountMsg=function(){return e._checkDataComplete(this.status,this).supplyMsg},t.applyMsg=function(){return e._checkDataComplete(this.status,this).applyMsg},t.hasProgress=function(){return e._checkDataComplete(this.status,this).hasProgress},t.hasLose=function(){return e._checkDataComplete(this.status,this).hasLose},t.tryPMsg=function(){var t="￥0";return e._checkDateStatus(this.tryP,"number")&&(t="￥"+this.tryP),t},t.pPriceMsg=function(){var t="";return e._checkDateStatus(this.PPrice,"number")&&(t="￥"+this.PPrice),t},t.inlinePriceStyle=function(){var t="";return e._checkDateStatus(this.PPrice,"number")||(t="margin-top:10px"),t},t.reCountMsg=function(){return e._checkDataComplete(this.status,this).reCount},t},_checkDataComplete:function(t,e){var i=this,a={},o=!0,s=!0,r="",l="",d="";return"-1"!=t?(i._checkDateStatus(e.supplyCount,"number")||i._checkDateStatus(e.applyCount,"number")||(o=!1),i._checkDateStatus(e.supplyCount,"number")&&i._checkDateStatus(e.applyCount,"number")||(s=!1),i._checkDateStatus(e.supplyCount,"number")&&(r="限"+n.computeNum(e.supplyCount)+"件"),i._checkDateStatus(e.applyCount,"number")&&(l=n.computeNum(e.applyCount)+"人申请"),"1"==t&&i._checkDateStatus(e.reCount,"number")&&(d=n.computeNum(e.reCount)+"份报告")):(i._checkDateStatus(e.supplyCount,"number")||i._checkDateStatus(e.startTime,"string")||(o=!1),i._checkDateStatus(e.supplyCount,"number")&&i._checkDateStatus(e.startTime,"string")||(s=!1),i._checkDateStatus(e.supplyCount,"number")&&(r="限"+n.computeNum(e.supplyCount)+"件"),i._checkDateStatus(e.startTime,"string")&&(l=e.startTime)),a=$.extend(a,{hasProgress:o,hasLose:s,supplyMsg:r,applyMsg:l,reCount:d})},_checkDateStatus:function(t,e){var i=!0;switch(e){case"number":(!t||isNaN(Number(t))||Number(t)<0)&&(i=!1);break;case"string":t&&t.length||(i=!1)}return i},_getListTpl:function(){return'<div class="module_try_wrap {{styleCls}}">{{#adList}}<a  class="J_ping try_common {{statusCls}}" href="{{url}}" target="{{inkTarget}}" report-eventid="Babel_Try" report-eventparam="{{jump.srv}}" report-pagename="{{pageUrl}}" report-pageparam="{{pageId}}" data-sku="{{skuId}}" data-es="{{expoSrv}}" report-eventlevel=""><div class="try_pic"><img src="//m.360buyimg.com/cms/jfs/t2218/111/2490744834/43/9acceab1/56d55ce6N5a567661.gif" data-src="{{pictureUrl}}"><div class="try_tip"></div></div><div class="try_info"><div class="try_pd_title">{{name}}</div>{{#hasProgress}}<div class="try_apply_info">\r\n<span class="text">{{supplyCountMsg}}</span>\r\n{{#hasLose}}<span class="split">/</span>\r\n{{/hasLose}}<span class="text">{{applyMsg}}</span>\r\n</div>{{/hasProgress}}<div class="pd_wrap"><div class="price_info">\r\n<div class="price_new" style="{{inlinePriceStyle}}">{{tryPMsg}}</div>\r\n<div class="price_old">\r\n<del>{{pPriceMsg}}</del>\r\n</div>\r\n</div>\r\n<div class="try_report_info"><span class="text">{{reCountMsg}}</span></div><div class="try_pd_act"></div></div></div></a>{{/adList}}</div>'}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(1),i(0),i(2),i(5)],void 0===(n=function(t,e,i,a){var n=e.mod,o=(e.runtimeEnv,{$node:null,modData:null,tabHeight:50,tabFixedId:-1,curIndex:0,bdNode:null,init:function(e,i,n){var o=this;o.$node=i,(o.modData=n).hasTab&&a.renderTabOpzStyle("basement",o.$node,o.modData.originTabStyle,function(){o._initTab()}),o.bdNode=i.find(".basement_body"),o._initCart(),o._bindEvent(),i.find("img").on("load",function(){t(this).parent().removeClass("pic_pd")}),this.horizontalImgLazyLoad()},horizontalImgLazyLoad:function(){var t=this.$node.find(".basement_body.slide");t.length&&n.horizontalScrollCheck(t)},_renderList:function(){var t=this.bdNode;t.addClass("hide");var e=t.eq(this.curIndex);e.removeClass("hide"),this._scaleBody(e)},_scaleBodyContent:function(e){var i=t(window).width(),a=parseFloat(i/375);1!=a&&(e.css({"transform-origin":"left top","-webkit-transform-origin":"left top",transform:"scale("+a+")","-webkit-transform":"scale("+a+")"}),this._resetHeight(e))},_resetHeight:function(t){var e=t.parent(),i=e.attr("headh");i=parseInt(i)||0;var a=t.height()+i;e.css({height:a})},_initTab:function(){var i=this,n=i.$node,o={node:n,tabMainWrap:n.find(".basement_head"),tabHdList:n.find(".basement_head_con li"),tabBdList:n.find(".basement_body .pd_module"),tabHdWrap:n.find(".basement_head_con"),takeByDOM:!0,activityData:e.activityData,tabFixedId:i.tabFixedId,tabLimitNum:1,tabClickCallbak:function(e){var a=e.index();i.curIndex=a,i._renderList(),t(window).scroll()}};a.initTab(o)},_scaleBody:function(t){t||(t=this.bdNode.eq(this.curIndex)),this._scaleBodyContent(t)},_bindEvent:function(){var i=this,a=i.$node;t(window).on("resize",function(){i._scaleBody()}),a.find(".item_buycar img").length>0&&a.find(".item_buycar img").eq(0).data("callback",{error:function(){a.find(".item_buycar").attr({class:"basement_item item_buycar buycar_icon"})}}),a.on("click",".basement_item_common",function(e){e.preventDefault();var i="";i=t(this).data("rebate")&&t(this).data("rebate").length>0?t(this).data("rebate"):t(this).data("href"),location.href=i}),a.on("click",".item_looksimilar",function(a){var o=t(a.currentTarget).parent(),s=e.runtimeEnv,r="";if(o&&o.length>0){var l=o.data("sku"),d=o.attr("report-eventparam"),c=t(a.currentTarget).attr("event-param");if(!l)return;n.reportEventdata({event_id:i.modData.srvInfo.similarId,event_param:i.modData.srvInfo.similarId.includes("Plus")&&c?c:d,event_level:"3"},e.activityData),r=s.isJdApp?e.util.stringFormat('openApp.jdMobile://virtual?params={"category":"jump","des":"lookSimilar","sku_id":"{0}"}',l):s.isWQUrl?"//wqs.jd.com/search/searchsimilar.shtml?sku="+l:"//home.m.jd.com/myjd/similar/list.action?skuId="+l,setTimeout(function(){location.href=r},100)}return!1}),a.on("click",".item_samekind",function(a){var o=t(a.currentTarget),s=o.parent();if(s&&s.length>0){var r=s.data("sku"),l=s.attr("report-eventparam"),d=o.attr("event-param");if(!r)return;var c=o.data("url");n.reportEventdata({event_id:i.modData.srvInfo.sameId,event_param:i.modData.srvInfo.sameId.includes("Plus")&&d?d:l,event_level:"3"},e.activityData),setTimeout(function(){location.href=c},100)}return!1}),a.find(".progress").each(function(){!function(t){var e=t.siblings(".tip"),i=e.width(),a=t.data("ratio"),n=parseInt(a),o=i*parseFloat(a)/100;o<15&&(o=15),t.css("width",parseInt(o)+"px");var s=15,r=setInterval(function(){++s==n&&clearInterval(r),e.find(".rio").html(s+"%")},2e3/n)}(t(this))})},_initCart:function(){var i=this.$node,n=e.activityData,o=t("#J_babelOptPage");o.toast(),a.initCart({node:i,itemCls:"basement_item_common",carCls:"item_buycar",activityData:n,toastNode:o,eid:this.modData.srvInfo.cartId})}});return function(){var t=Object.create(o);t.init.apply(t,arguments)}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(1),i(0)],void 0===(n=function(t,e){var i=e.mod,a=e.activityData;return function(n,o,s){return e.Create({$el:o,data:null,init:function(){if(this.data=s,this.data&&o.length){if(this.oItem=o.find("a.detaillist_link"),this.isFirstScreen=t(o).is(":visible")&&o.offset().top+o.height()<t(window).height(),this.itemScreen=t(o).is(":visible")&&o.find("div.detaillist_item").length&&o.find("div.detaillist_item:first").offset().top<t(window).height(),this.itemScreen)for(var e=o.find("a.detaillist_link"),i=e.length>3?3:e.length,a=0;a<i;a++)e.eq(a).addClass("isShowPic");s.hasPro||this._initData()}},_initData:function(){var e=this;console.log("initdata");var n={relatedIds:e.data.relatedId,isBasic:"1",skuNum:"3",pageId:a.pageId,moduleId:e.data.moduleId,isShowBrand:e.data.showBrand?"1":"0"};e.data.showBrand&&(n.showBrandRelatedIds=e.data.relatedId),t.ajax({type:"POST",timeout:1e4,url:i.getBabelUrlDev2Release("queryRealatedPros"),data:i.getBabelUrlParam(JSON.stringify(n),!0,!0),success:function(t){if("string"==typeof t&&(t=JSON.parse(t)),0==t.code&&0==t.subCode)for(var i in t.skuInfoList)e._initRender(i,t.skuInfoList[i])}})},_initRender:function(t,e){switch(this.data.tpl){case"DetailListCol1Low":this._renderHtml(t,e,1);break;case"DetailListCol2":this._renderHtml(t,e,3);break;case"DetailListCol1High":this._renderHtml(t,e,3,!0);break;case"DetailListCol2Vertical":this._renderHtml(t,e,3)}},_renderHtml:function(t,e,i,a){for(var n=this.isFirstScreen,o=this.itemScreen,s=0;s<i;s++){var r=e[s],l=this.oItem.filter('[data-crid="'+t+'"]');r&&r.image&&(n||o&&l.hasClass("isShowPic")?l.find("img.J_dlPimg").eq(s).attr("src",r.image).removeAttr("data-src"):l.find("img.J_dlPimg").eq(s).attr("data-src",r.image)),a&&r&&r.pPrice&&l.find("span.J_dlPprize").eq(s).html(r.pPrice).css({display:"block"}),a&&r&&r.brandName&&l.find("p.detaillist_img_name").eq(s).html(r.brandName)}}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0),i(24)],void 0===(n=function(t,e){return function(i,a,n){return t.Create({$el:a,$target:null,asyncQs:null,cfloos:[],fetching:!1,n:0,max:0,init:function(){var e,i,a,o=this;(this.asyncQs=n,!this.asyncQs||this.asyncQs.length<=1)||(this.asyncQs.shift(),this.$target=t.find("#J_babelOptPage"),o.max=this.asyncQs.length-1,o._tryFetchNextIfNotFullScreen(),$(window).on("scroll.report touchmove.report",function(){e=$(this).scrollTop(),i=$(this).height(),a=$(document).height()-800,e+i>=a&&o._fetchNextPage()}))},_tryFetchNextIfNotFullScreen:function(){var t=this,e=$("body").height(),i=$(window).height();e-i<i/2&&this.n<=this.max&&this._fetchNextPage().then(function(){t._tryFetchNextIfNotFullScreen()})},_fetchNextPage:function(){return this.n>this.max?($(window).off(".report"),$.Deferred().reject()):this.fetching?void 0:this._doFetch(JSON.stringify({activityId:t.activityData.encodeActivityId,param:this.asyncQs[this.n]}))},_doFetch:function(e){var i=this,a=this.getProxyRequest("nextRpPage",e);return a.data.paginationParam=i.n+2,$.ajax({url:a.url,data:a.data,type:"POST",beforeSend:function(){i.fetching=!0,t.loading.show(),++i.n},success:function(e){i.fetching=!1,e&&0===e.code&&0===e.subCode&&(e.floorHTML&&i._addFloors(e),t.loading.hide(),i.n>i.max&&i.$target.append('<div style="line-height:32px;text-align:center;color:#666;">今日没有更多更新咯!</div>'))},error:function(){i.fetching=!1,t.loading.hide()}})},_addFloor:function(i){var a=$(i);this.$target.append(a);var n=a.data("floornum"),o=a.data("template"),s=t.dataHub[n];if(o)try{t.modules(o)(n,a,s)}catch(t){"1"==e.getQueryString("debug")&&console.log(t)}},_addFloors:function(i){var a=i.floorHTML,n={};try{n=JSON.parse(i.dataHub)}catch(t){"1"==e.getQueryString("debug")&&console.log(t)}for(var o in n)n.hasOwnProperty(o)&&(t.dataHub[o]=n[o]);var s=document.createElement("div");s.innerHTML=a;var r=s.children,l=r.length;if(l)for(;l>0&&r[0];)this._addFloor(r[0]),l--}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0),i(4),i(5)],void 0===(n=function(t,e,i){var a=t.util,n=t.mod,o=t.width,s={$node:null,modData:null,effectsFlag:!0,curIndex:0,_isinView:!1,subscriptTpl:".bab_opt_mod_<%=obj.floorNum%> .pd_lunbo_module .pd_commom.add_square_tip_1 .pd_tip, .bab_opt_mod_<%=obj.floorNum%> .pd_lunbo_module .pd_commom.add_square_tip_2 .pd_tip, .bab_opt_mod_<%=obj.floorNum%> .pd_lunbo_module .pd_commom.add_square_tip_3 .pd_tip{background: url(<%=obj.waresListConfig.subscriptUrl%>); background-size: 40px 40px;}",_init:function(t,e,a){this.$node=e;var n=this.modData=a.feData;"1"==n.styleId&&this._initCart(),"0"!=n.styleId&&"1"!=n.styleId||this._initLooksimilar(),this.haveLous=!1,i.tplSubscriptUrl(n,e,this.subscriptTpl),this.bindLunBoEffects(),this.bindFanliUrl()},loadModuleCallback:function(){this.bindLunBoEffects()},bindFanliUrl:function(){this.$node.on("click",".pd_lunbo_link,.pd_commom ",function(t){t.preventDefault();var e="";e=$(this).data("rebate")&&$(this).data("rebate").length>0?$(this).data("rebate"):$(this).data("href"),location.href=e})},_configListData:function(){var e=this.modData;n.tplLinkData(e,t.activityData);var a=e.waresListConfig.subscript||0;e.style.subscript=i.styleOpt.subscript[1*a],i.tplTipCls(e,e.style,a);var o=e.waresList[0].areaFilterType||1;return i.tplSoldOutCls(e,"",o),e},_renderSubscriptBg:function(){i.tplSubscriptUrl(this.modData,this.$node,this.subscriptTpl)},_initCart:function(){var e=this.$node,a=t.activityData,n=$("#J_babelOptPage");n.toast(),this.toastNode=n,i.initCart({node:e,itemCls:"pd_commom",activityData:a,toastNode:n,eid:"Babel_CarouselCart"})},_initLooksimilar:function(){var e=this.$node,a=t.activityData;i.initLooksimilar({node:e,itemCls:"pd_commom",activityData:a,eids:{looksimilar:"Babel_CarouselSimilar",sameKind:"Babel_CarouselSame"}})},bindLunBoEffects:function(){var t=this,e=this.modData;t.effectsFlag&&(t.effectsFlag=!1,"2"==e.styleId?t._initEffectsCol3():"0"==e.styleId?t._initEffectsHigh():"1"==e.styleId?t._initEffectsLow():"3"==e.styleId&&t._initEffectsSpic())},_initEffectsCol3:function(){var t=this,e=this.$node;if(e.find(".jdui_slide_list li").length<2)return e.find(".pd_lunbo_col3").removeClass("hasPoint"),void e.find(".point").hide();e.find(".point li").eq(0).addClass("cur"),e.find(".jdui_slide").slide({selectCls:"cur",autoTime:4e3,autoPlay:!0,changeSlide:function(i){if(t._checkInView())for(var n=e.find(".jdui_slide_list li"),o=1;o<2;o++){for(var s=n.eq(i+o).find("img[data-src]"),r=n.eq(i-o).find("img[data-src]"),l=0,d=s.length;l<d;l++)a.lazyLoad.loadImg(s.eq(l));for(var c=0,u=r.length;c<u;c++)a.lazyLoad.loadImg(r.eq(c))}}})},_checkInView:function(){return this._isinView||(this._isinView=a.lazyLoad.isInViewPort(this.$node)),this._isinView},_initEffectsHigh:function(){var t=this,e={slideWrap:"",listCls:"jdui_slide_list",itemWin:"",itemCurWin:"",itemCurCls:"cur",markCls:"promo_slide_one_mark",touchMove:!1,isTabIndex:1,listClsAni:["efcFlipYPrev","efcFlipYNext"],transScale:.75,speed:600,autoPlay:!0,autoTime:4e3,resetBufferTime:280,changeSlide:function(e){t._checkInView()&&function(e){for(var i=t.$node.find(".jdui_slide_list li"),n=1;n<2;n++){for(var o=i.eq(e+n+1).find("img[data-src]"),s=i.eq(e-n).find("img[data-src]"),r=0,l=o.length;r<l;r++)a.lazyLoad.loadImg(o.eq(r));for(var d=0,c=s.length;d<c;d++)a.lazyLoad.loadImg(s.eq(d))}}(e)}},i=this.$node.find(".pd_lunbo_module_col1_high"),n=.068*o;i.css({"overflow-y":"inherit","overflow-x":"hidden"}),e.itemWin=Math.round(.5761*o),e.itemCurWin=Math.round(.5761*o),e.slideWrap=i,e.styleOffset=n;var s=i.find(".jdui_slide_list li"),r=s.css("margin-top"),l=s.css("padding-top");if(s.length<3)i.find(".jdui_slide_list").css({opacity:"1"});else{-1!=r.indexOf("%")&&(r=parseFloat(r)/100*o),-1!=l.indexOf("%")&&(l=parseFloat(l)/100*o),s.css({marginRight:n,marginTop:r,height:l,paddingTop:0,float:"left"}),i.halfslide_mod(e),setTimeout(function(){i.find(".jdui_slide_list").css({opacity:"1"})},e.speed),i.find(".promo_slide_one_mark").find("span:last").html(s.length).end().css({display:"inline-block"});for(var d=s.length,c=i.find(".jdui_slide_list li"),u=2;u>0;u--){for(var p=s.eq(d-u).find("img"),h=c.eq(u).find("img"),f=0;f<p.length;f++)a.lazyLoad.loadImg(p.eq(f));for(var m=0;m<h.length;m++)a.lazyLoad.loadImg(h.eq(m))}}},_initEffectsLow:function(){var t=this,e={slideWrap:"",listCls:"jdui_slide_list",itemWin:"",itemCurWin:"",itemCurCls:"cur",markCls:"jdui_slide_dot",transScale:1,isTabIndex:0,listClsAni:["efcFadeOutRight","efcFadeOutLeft"],listClsAniStop:"stopTrans",mountCls:"list-item",mountListCls:"trans0",speed:600,autoPlay:!0,autoTime:4e3,showNum:4,resetBufferTime:200,listStyleCls:["trans1","trans2","trans3","trans4","transOther"],changeSlide:function(e){t._checkInView()&&function(e){var i=t.$node.find(".jdui_slide_list li");setTimeout(function(){t.$node.find(".trans1").find("img").addClass("_fadein")},700);for(var n=1;n<2;n++){for(var o=i.eq(e+n+1).find("img[data-src]"),s=i.eq(e-n).find("img[data-src]"),r=0,l=o.length;r<l;r++)a.lazyLoad.loadImg(o.eq(r));for(var d=0,c=s.length;d<c;d++)a.lazyLoad.loadImg(s.eq(d))}}(e)}};var i=this.$node.find(".pd_lunbo_module_col1_low");e.slideWrap=i,e.itemWin=o-30,i.find(".jdui_slide_list li").length<2?i.find(".jdui_slide_list").css({opacity:"1"}):(i.pageturn(e),setTimeout(function(){i.find(".jdui_slide_list").css({opacity:"1"}),t.$node.find(".trans1").find("img").addClass("_fadein")},e.speed))},_initEffectsSpic:function(){var t=this,e=+(o/5).toFixed(1),i=e+e/10,n=this.$node.find(".pd_lunbo_spic_list"),s=n.find("li"),r=s.length,l=3,d="",c="",u=e/4,p=i*l+u,h=-1,f=l+1,m=!0,v=700,g=3e3,_=v+100,b=i+u;function y(){-1==h&&(h=setInterval(function(){!function(){var t=n.data("pos");f++,s.removeClass("cur").eq(f).addClass("cur"),w(t-i)}()},g))}function w(e,o){m&&t._checkInView()&&function(){if(s.find("img.fadein").length==d)return void(m=!1);for(var t=1;t<4;t++){var e=s.eq(f+t).find("img"),i=s.eq(f-t).find("img");e.hasClass("fadein")&&i.hasClass("fadein")||(a.lazyLoad.loadImg(e),a.lazyLoad.loadImg(i))}}(),"none"==o?n.css({"-webkit-transition-duration":"0ms","transition-duration":"0ms"}):n.css({"-webkit-transition-duration":"600ms","transition-duration":"600ms"}),n.css({"transition-timing-function":"cubic-bezier(0.1, 0.57, 0.1, 1)",transform:"translate("+e+"px,0px) translateZ(0px)","-webkit-transform":"translate("+e+"px,0px) translateZ(0px)"}),n.data("pos",e),f>=c?(f=l-1,s.eq(f).addClass("cur"),setTimeout(function(){w(-b,"none")},v)):f<=1&&(f=c-1,s.eq(f).addClass("cur"),setTimeout(function(){w(-(f-1)*i-u,"none")},v))}!function(){$.each(s,function(){$(this).css({width:i})}),n.find(".pd_lunbo_spic_interest").css({width:e,left:-.125*e-1});var o=s.eq(0),u=s.eq(1),m=s.eq(2),v=s.eq(r-1),g=s.eq(r-2),b=s.eq(r-3),C=v.clone(),x=g.clone();n.append(o.clone()),n.append(u.clone()),n.append(m.clone()),C.insertBefore(o),x.insertBefore(C),b.clone().insertBefore(x),s=n.find("li"),d=s.length,c=d-l-1,w(-p,"none"),s.eq(f).addClass("cur"),n.css({width:d*i,opacity:1}),t._checkInView()&&function(t){for(var e=4;e>2;e--){var i=t.eq(e).find("img"),n=t.eq(d-e).find("img");a.lazyLoad.loadImg(i),a.lazyLoad.loadImg(n)}}(s),y(),function(){var t={},e=!1,a=null,o=!1,r=0;n.on("touchstart",function(i){var s=(new Date).getTime(),r=s-(a=a||s+1);if(r>0&&r<_)return o=!0,void event.preventDefault();clearInterval(h),h=-1,a=s,o=!1;var l=n.data("pos");l=l?-l:0;var d=i.touches[0];t={x:d.pageX,y:d.pageY,posx:d.pageX+l,posy:d.pageY+l},e=!1}),n.on("touchmove",function(i){if(!o){var a=i.touches[0];e=!0;var n={x:a.pageX-t.posx,y:a.pageY-t.posy,sx:a.pageX-t.x,sy:a.pageY-t.y},s=Math.abs(n.y)-Math.abs(n.sx)>0;s||i.preventDefault(),r=n.sx}}),n.on("touchend",function(){if(y(),e&&!o&&0!=r){var t,a=n.data("pos");r>0?(f--,t=a+i):r<0&&(f++,t=a-i),s.removeClass("cur").eq(f).addClass("cur"),w(t),r=0}})}()}()}};return function(){var t=Object.create(s);s._init.apply(t,arguments)}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(1),i(0),i(4),i(2)],void 0===(n=function(t,e,i,a){var n=e.util,o=e.mod,s=e.activityData,r=a.ptag;return function(a,l,d){return e.Create({$el:l,data:null,init:function(){if(this.data=d.feData,this.data&&l.length){if(this.data.isFirstScreen=t(l).is(":visible")&&l.offset().top+l.height()<t(window).height(),this.data.itemScreen=t(l).is(":visible")&&l.find("div.prd").length&&l.find("div.prd:first").offset().top<t(window).height(),this.data.itemScreen)for(var i=l.find("div.prd"),a=i.length>2?2:i.length,n=0;n<a;n++)i.eq(n).addClass("isShowPic");this.oItem=this.$el.find("div.prd"),o.tplLinkData(this.data,e.activityData),this._initData()}},_cleanDom:function(t){t.prev().css("margin-bottom","0"),t.remove()},_initData:function(){var e=this,i={relatedIds:e.data.relatedId.join(","),isBasic:"1",skuNum:e.data.slideStyle?"":"3",pageId:s.pageId,moduleId:e.data.moduleId,prodSrvPrefix:e.data.prodSrvPrefix.join(","),prodExpoSrvPrefix:e.data.prodExpoSrvPrefix.join(","),transParam:s.transParam};this.$el.find(".quick_add").size()>0&&(i.oneStepAddCartFlag="1"),t.ajax({type:"POST",timeout:1e4,url:o.getBabelUrlDev2Release("queryRealatedPros"),data:o.getBabelUrlParam(JSON.stringify(i),!0,!0),beforeSend:function(){},success:function(t){"string"==typeof t&&(t=JSON.parse(t)),0==t.code&&0==t.subCode&&e._initRender(t.skuInfoList)},error:function(){},complete:function(){}})},_initRender:function(t){switch(this.data.tpl){case"ad_pd_moudle_3":case"ad_pd_moudle_4":this._filterData(t)}},_filterData:function(e){var i=this.oItem,a=this,n=0;t.each(i,function(i,o){var s=t(o),r=s.data("crid");a.data.prodSrvPrefix[n++];for(var l in e)if(l==r){for(var d=[],c=0,u=e[l].length;c<u;c++){var p=e[l][c];d.push(t.extend({},p,{srv:p.srv.replace(/^null/g,"")}))}a._renderHtml(s,d);break}})},_renderHtml:function(e,a){var n="1"==this.data.tplCfg.showGoodsFlag||"3"==this.data.styleId,o=l.find(".ad_pd_wrap");if(a.length>=3&&n){var s=t.extend({},this.data,{newSkuInfoList:a}),d=e.prev();if(e.hasClass("isShowPic")&&(s.prdIsShowPic=!0),"2"==s.styleId?e.html(i.render(this._getTplList("style3_item"),s)):"3"==s.styleId&&e.html(i.render(this._getTplList("style4_item"),s)),s.slideStyle){var c={url:d.attr("href"),srv:d.attr("report-eventparam")};s.moreData=c,e.append(i.render(this._getTplList("style3_item_more"),s))}"3"==s.styleId&&("1"!==s.tplCfg.showPrice&&o.addClass("hide_price"),"2"==s.tplCfg.proNameLine&&o.addClass("title_twolines"),setTimeout(function(){var t=l.find(".pd_item").height(),e=l.find(".ad_pd_wrap").height();e-(t+s.tplCfg.bottomPadding*e/s.tplCfg.picHeight)<15&&l.find(".pd_item_wrap").css({top:"15px",bottom:""}),e-t<30&&l.find(".ad_pd_wrap").css("height",e+15+"px")},300)),r.addPtag(l,".J_ping")}else this._cleanDom(e);this._initAddCart(a)},_initAddCart:function(t){var e=[],i={prefix:"",skus:[],mcinfos:[]};t.forEach(function(t,a){"0"==t.hideCart&&(e.push(t),0==a&&(i.prefix=t.addCartSrvPrefix),i.skus.push(t.skuId),i.mcinfos.push(t.addCartSrvMcInfo))}),e.length>0&&(this._prosSrv=i.prefix+"_"+i.skus.join("#")+"_"+i.mcinfos.join("_"),this._cartMain(e))},_prosSrv:"",_cartMain:function(e){var i=this,a=i.$el.find(".quick_add");if(!(a.size()<1)){a.css("display","block");var n={proList:e,index:function(){return n.proList.indexOf(this)}};i.$el.on("click",".quick_add",function(){i._addCartInit(n);var e=t(this).parent().attr("report-eventparam");return o.reportEventdata({event_id:"Babel_OneStepBuy",event_param:e,event_level:"3"},s),!1})}},_addCartInit:function(i){var a=this;this._closeCart(),e.append(e.render(this._qaTpl,i)),this._initScroll(),e.on("touchmove.q","#quick_add .mask",function(){return!1}),e.on("touchmove.q","#quick_add .card",function(){return!1}),e.on("click.q","#quick_add .btn",function(){var i=t("#quick_add form").serializeArray(),n=i.length;if(n<1)return!1;var o=i.map(function(t){return t.value}).join(",");window.AddcartToolObj?a._addCart(o,n):e.loadCardJs(a._addCart(o,n))}),e.on("click.q","#quick_add .close",function(){a._closeCart()}),e.on("click.q","#quick_add .mask",function(){a._closeCart()})},_addCart:function(t){var i=this;o.reportEventdata({event_id:"Babel_OneStepAddCart",event_param:this._prosSrv,event_level:"3"},s),window.AddcartToolObj.addCart({source:"ttthd",skuId:t,sucFun:function(t){"string"==typeof t&&(t=JSON.parse(t)),t.cartJson&&"0"==t.cartJson.resultCode&&(i._refresh(),i._closeCart(),e.toast("show",{content:"恭喜您, 成功添加商品至购物车",conCls:"shop_cart",iconCls:"icon_right"}))},failFun:function(){e.toast("show",{content:"添加购物车失败",conCls:"shop_cart",iconCls:"icon_wrong"})}})},_srollH:0,_initScroll:function(){var t=this,i=e.find("#quick_add form");if(this._srollH=i.height()-175,!(this._srollH<=0)){var a={},n=!1,o=0;i.on("touchstart.q",function(t){var e=i.data("pos");e=e?-e:0;var o=t.touches[0];a={x:o.pageX,y:o.pageY,posY:o.pageY+e},n=!1}),i.on("touchmove.q",function(e){var s=e.touches[0];n=!0;var r={x:s.pageX-a.x,y:s.pageY-a.posY,sy:s.pageY-a.y};Math.abs(r.x)-Math.abs(r.sy)>0||e.preventDefault();var l=-r.y;l<0&&(l-=.9*l),l>t._srollH&&(l-=.9*(l-t._srollH)),o=l,t._translate(i,-l,"none")}),i.on("touchend.q",function(){if(n){var e=o;e=(e=e<0?0:e)>t._srollH?t._srollH:e,t._translate(i,-e)}})}},_translate:function(t,e,i){"none"==i?t.css({"-webkit-transition-duration":"0","transition-duration":"0"}):t.css({"-webkit-transition-duration":"600ms","transition-duration":"600ms"}),t.css({"transition-timing-function":"cubic-bezier(0.1, 0.57, 0.1, 1)",transform:"translate(0px,"+e+"px) translateZ(0px)","-webkit-transform":"translate(0px,"+e+"px) translateZ(0px)"}),t.data("pos",e)},_refresh:function(){var t=e.runtimeEnv;if(t.isAndroidJdAppGte500||t.isIphoneJdAppGte500)if("android"===t.system)window.AndroidNavi&&window.AndroidNavi.refreshCart();else if("iphone"===t.system){var i=n.getHeaderIphoneUrl({action:"sh_refreshCart"});location.href=i,n.jumpLink(i)}},_closeCart:function(){e.find("#quick_add form").off(".q"),e.off(".q"),e.find("#quick_add").remove()},_qaTpl:'<div id="quick_add">\r\n<div class="mask"></div>\r\n<div class="card">\r\n<div class="title">\r\n<p>请确认商品</p>\r\n<div class="close">X</div>\r\n</div>\r\n<ul>\r\n<form>\r\n{{#proList}}\r\n<li>\r\n<input type="checkbox" id="checkbox{{index}}" name="checkbox{{index}}" value="{{skuId}}" checked ="checked" >\r\n<div class="before"></div>\r\n<div class="after"></div>\r\n<label class="content" for="checkbox{{index}}">{{name}}</label>\r\n<label class="price">￥{{pPrice}}</label>\r\n<div class="line"></div>\r\n</li>\r\n{{/proList}}\r\n</form>\r\n</ul>\r\n<p class="btn">确认加入购物车</p>\r\n</div>\r\n</div>',_getTplList:function(t){var e="";return"style3_item"==t?e='{{#newSkuInfoList}}\r\n<a class="J_ping expo" href="{{url}}" target="{{inkTarget}}" report-eventid="Babel_CombiPd" report-eventparam="{{srv}}" report-pagename="{{pageUrl}}" report-pageparam="{{pageId}}" data-es="{{expoSrv}}" report-eventlevel="4" data-sku="{{skuId}}">\r\n<div class="img c_ht_vertical_parent">\r\n{{#isFirstScreen}}\r\n<img src="{{image}}" />\r\n{{/isFirstScreen}}\r\n{{^isFirstScreen}}\r\n{{#prdIsShowPic}}\r\n<img src="{{image}}" />\r\n{{/prdIsShowPic}}\r\n{{^prdIsShowPic}}\r\n<img src="{{defaultImg}}" data-src="{{image}}" />\r\n{{/prdIsShowPic}}\r\n{{/isFirstScreen}}\r\n</div>\r\n<p class="name">{{name}}</p>\r\n<p class="price">￥{{pPrice}}</p>\r\n</a>\r\n{{/newSkuInfoList}}':"style3_item_more"==t?e='<a class="J_ping more" href="{{moreData.url}}" target="{{inkTarget}}" report-eventid="Babel_CombiPic" report-eventparam="{{moreData.srv}}" report-pagename="{{pageUrl}}" report-pageparam="{{pageId}}" data-es="{{expoSrv}}" report-eventlevel="3" >\r\n<div class="wrapper">\r\n<p class="p1">查看全部</p>\r\n<p class="p2"></p>\r\n<p class="p3">SEE ALL</p>\r\n</div>\r\n<div class="go"></div>\r\n</a>':"style4_item"==t&&(e='{{#newSkuInfoList}}\r\n<a class="J_ping pd_item expo" href="{{url}}" target="{{inkTarget}}" report-eventid="Babel_CombiPd" report-eventparam="{{srv}}" report-pagename="{{pageUrl}}" report-pageparam="{{pageId}}" data-es="{{expoSrv}}" report-eventlevel="4" data-sku="{{skuId}}">\r\n<div class="pd_img_wrap">\r\n<div class="pd_img_box c_ht_vertical_parent">\r\n<img src="{{image}}" />\r\n</div>\r\n<div class="item_title_wrap"><p class="item_title">{{name}}</p></div>\r\n<p class="item_price">￥{{pPrice}}</p>\r\n</div>\r\n</a>\r\n{{/newSkuInfoList}}'),e}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(1),i(0),i(5)],void 0===(n=function(t,e,i){var a=e.mod,n={$node:null,modData:null,tabFixedId:-1,curIndex:0,subscriptTpl:".bab_opt_mod_<%=obj.floorNum%> .pd_module .pd_commom.add_square_tip_1 .pd_tip, .bab_opt_mod_<%=obj.floorNum%> .pd_module .pd_commom.add_square_tip_2 .pd_tip, .bab_opt_mod_<%=obj.floorNum%> .pd_module .pd_commom.add_square_tip_3 .pd_tip{background: url(<%=obj.waresListConfig.subscriptUrl%>); background-size: 40px 40px;}",_init:function(t,e,n){this.$node=e;var o=this.modData=n.feData;if(i.tplSubscriptUrl(n.feData,e,this.subscriptTpl),"2"==o.styleId){var s=this.$node.find(".pd_commom_wrap");s.length&&a.horizontalScrollCheck(s)}o.hasTab&&(this._initTab(),this._checkBlankList())},_initTab:function(){var t=this,a=t.$node,n={node:a,tabMainWrap:a.find(".pd_tab"),tabHdList:a.find(".pd_nav li"),tabBdList:a.find(".tab_list .pd_module"),tabHdWrap:a.find(".pd_nav_wrap"),reportId:"Babel_PackageTab",activityData:e.activityData,tabFixedId:t.tabFixedId,elevel:3,tabClickCallbak:function(e){var i=e.index();t.curIndex=i}};i.initTab(n)},_checkBlankList:function(){var e=this.$node.find(".tab_list .pd_module"),a=t(window).height()-40;t.each(e,function(e,n){0==(n=t(n)).find(".pd_commom").length&&i.addNoneStyle(n,a)})}};return function(){var t=Object.create(n);n._init.apply(t,arguments)}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0)],void 0===(n=function(t){var e=t.util,i=t.mod;return function(a,n){return t.Create({$el:n,_isinView:!1,init:function(){n.find("img").on("load",function(){$(this).parent().removeClass("pic_pd")}),n.find(".img_wrap").each(function(t,e){$(e).find("img").hasClass("fadein")&&$(e).css({background:"none"})}),this.puzzle_init(),this.carousel_init(),this.textGroup_init(),this.adsGroup_init(),this.video_init(),this.horizontalImgLazyLoad()},puzzle_init:function(){var t=this.$el.find(".puzzle_background_wrap");"block"===t.css("display")&&t.prev().remove()},horizontalImgLazyLoad:function(){var t=this.$el.find(".promo_commom_wrap");t.length&&i.horizontalScrollCheck(t)},_checkInView:function(){return this._isinView||(this._isinView=e.lazyLoad.isInViewPort(this.$el)),this._isinView},carousel_init:function(){var t=this,i=this.$el.find(".carousel_model");if(!(i.length<1)){i.find(".point li").eq(0).addClass("cur");var a=i.find(".jdui_slide_list li");a.removeClass("hide"),a.length<2?i.find(".point").hide():i.each(function(){var i=$(this),a=i.find(".jdui_slide"),n="1"==i.data("isrolling");a.slide({selectCls:"cur",autoTime:4e3,autoPlay:n,hasScale:!0,changeSlide:function(a){if(t._checkInView()){var n=i.find(".jdui_slide_list li"),o=a+1,s=n.eq(o+1).find("img");e.lazyLoad.loadImg(s);var r=a-1;s=n.eq(r+1).find("img"),e.lazyLoad.loadImg(s),s=n.eq(a+1).find("img"),e.lazyLoad.loadImg(s)}}})})}},textGroup_init:function(){var t=this.$el.find(".J_textGroupIsScroll"),e=this;t.length<1||t.each(function(){e.textGroup_run($(this))})},adsGroup_init:function(){var t=this.$el.find(".J_adsGroupIsScroll"),e=this;t.length<1||t.each(function(){e.textGroup_run($(this))})},textGroup_run:function(t){var e=t.find("ul"),i=0,a=e.find("li"),n=a.length,o=0,s=1*t.css("height").replace("px",""),r=1*a.css("height").replace("px","")+1*a.css("margin-bottom").replace("px",""),l=n*r;s>l&&t.css({height:l});var d=e.html(),c=1*a.eq(0).css("margin-bottom").replace("px","");e.append(d),(a=e.find("li")).each(function(){var t=$(this);o+=1*t.css("height").replace("px","")+c,t.attr("tg-height",o)}),setInterval(function(){var t=a.eq(i).attr("tg-height");e.css({"-webkit-transition":"-webkit-transform .3s linear",transition:"transform .3s linear","-webkit-transform":"translate3d(0px,-"+t+"px,0px)",transform:"translate3d(0px,-"+t+"px,0px)"}),++i>n-1&&(i=0,setTimeout(function(){e.css({"-webkit-transition":"none",transition:"none","-webkit-transform":"translate3d(0px,0px,0px)",transform:"translate3d(0px,0px,0px)"})},600))},4e3)},video_init:function(){var e=this.$el.find(".video_model, .video_list_model .promo_module, .video_slide_model .promo_commom, .video_carousel_model li"),a="",n=null,o=this.$el.find(".close"),s=this.$el.find(".basement_body");t.runtimeEnv.isAndroid&&o.on("click",function(){s.removeClass("overlayshow")}),e.each(function(e,o){if(n=$(o).find("video"),a=n.attr("report-eventparam"),$(o).find(".play_time").length>0){var s={videoWrap:$(o),imgWrap:"promo_module",activityData:t.activityData,eventData:{event_id:"Babel_DIYVideoGroup",event_param:a,event_level:""},onPalyCb:function(e){t.runtimeEnv.isAndroid&&$(e).parents(".basement_body").addClass("overlayshow")}};i.loadVideo(s)}else $(o).on("click",function(){i.reportEventdata({event_id:"Babel_DIYVideoGroup",event_param:a,event_level:""},t.activityData)});n.on("play",function(){i.reportEventdata({event_id:"Babel_DIYVideoVirtual",event_param:a,event_level:""},t.activityData)}),n.on("ended",function(){i.reportEventdata({event_id:"Babel_DIYVideoEndVirtual",event_param:a,event_level:""},t.activityData)})})}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(1),i(0)],void 0===(n=function(t,e){return function(t,i,a){return e.Create({$el:i,data:null,init:function(){if(a.srcLink){var t=i.find(".shareGift_module"),e=i.find(".shareGift_btn"),n=i.find("iframe");n.attr("src",location.protocol+a.srcLink),e.on("click",function(){t.remove()}),n.on("load",function(){t.css({display:"block"}).css({opacity:1})})}}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(1),i(0)],void 0===(n=function(t,e){var i=e.util,a=e.mod,n=e.activityData;return function(o,s,r){return e.Create({$el:s,data:null,jTimeout:null,cookieKey:"babelDropDownGame",cookieLimit:10,firstGoInto:!1,timer:2e3,init:function(){if(this.data=r.feData,this.data&&s.length){this.$node=s.find("div.dropdownGame_module")||t(),this.$link=s.find(".dropdownGame_link"),this._create(),n.haveFloatLayer||this._check();var i=this;e.on("onDropDownGameCloseBanner",function(){i._check()}),this.$link.on("click",function(){return i._clearLink(),!0})}},_check:function(){var t=this.data.jump&&this.data.jump.params.url;if(t){var e=encodeURIComponent(t),i=this._cookie("get",e);i&&(this.firstGoInto=i,this._cookie("set",e),this._changeStateGame())}},_cookie:function(t,e){var a=i.cookie,n=a.get(this.cookieKey);if("get"==t){var o=!0;return n&&n.match(e)&&(o=!1),o}if("set"==t){var s=[];if(n&&(s=n.split(",")),s.push(e),s.length>this.cookieLimit){var r=s.length-this.cookieLimit;s=s.slice(r)}a.set(this.cookieKey,s.join(","),{expires:1})}},_create:function(){var e=this,i=t('<div class="dropdownGame_btn_module"><div class="btn_block"><i class="btn_bg"></i></div></div>'),o=i.find("div.btn_block"),s=t("#J_babelOptPage >.bab_opt_mod"),r=this.$node;(s="game"==s.eq(0).data("template")?s.eq(1):s.eq(0)).before(i),o.on("click",function(){a.reportEventdata({event_id:"Babel_DropDown",event_param:e.data.jump.srv,event_level:""},n),e._changeStateGame()}).on("touchend",function(t){t.stopPropagation()}),r.on("touchend",function(t){t.stopPropagation()})},_changeStateGame:function(){var t=this.$node;t.hasClass("dropdownGame_show")?(this._clearLink(),t.css({paddingTop:"0"}).removeClass("dropdownGame_show").css({visibility:"hidden"})):(t.css({visibility:"visible",paddingTop:"42.7%"}).addClass("dropdownGame_show"),this.firstGoInto?(this.firstGoInto=!1,this._clearLink(),setTimeout(function(){t.css({paddingTop:"0"}).removeClass("dropdownGame_show").css({visibility:"hidden"})},this.timer)):this._jumpLink())},_jumpLink:function(){var t=this;this._clearLink(),this.jTimeout=setTimeout(function(){t.$link.trigger("click")},this.timer)},_clearLink:function(){clearTimeout(this.jTimeout),this.jTimeout=null}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(1),i(0),i(4)],void 0===(n=function(t,e,i){var a=e.util,n=e.mod,o=e.activityData;return function(s,r,l){return e.Create({$el:r,data:null,sendFlag:!1,init:function(){var e=this;this.feData=l.feData,this.maxHehgit=1*(.8*t(window).height()).toFixed(2),this.initDom(),this.loadBg(function(t){e.styleFloorHeight(t),e.styleFloorProcess(t),e.styleFloorBtn(t),e.initBind()}),this.reloadImg()},initDom:function(){this.moduleEl=r.find("div.signIn_module"),this.isFloatStyle=this.moduleEl.hasClass("popStyle"),this.mWrap=r.find(".signIn_wrap"),this.pEl=t("#"+this.feData.popId),this.pElWrap=this.pEl.find(".signIn_popWrap"),this.pElFront=this.pEl.find(".signIn_popBoxFront"),this.pElBack=this.pEl.find(".signIn_popBoxBack"),this.pArr=[this.pElFront,this.pElBack],this.scaleParam=this.getScale()},getScale:function(){return!this.isFloatStyle&&{orign:{vm_w:375,vm_h:1*(1*this.feData.height/(1*this.feData.width)*375).toFixed(2),vm_oh:1*(1*this.feData.height/(1*this.feData.width)*t(window).width()).toFixed(2)},bak:{vm_w:375,vm_h:1*(570/1125*375).toFixed(2),vm_oh:1*(570/1125*t(window).width()).toFixed(2)}}},loadBg:function(t){var e=this.isFloatStyle?"//m.360buyimg.com/babel/jfs/t7126/215/418880377/4388/851e47f9/59801b0cN10522f67.png":"//m.360buyimg.com/babel/jfs/t6835/35/1315427343/25543/f12719b4/59801ab5N3ed5e627.png",i=r.find(".signIn_bg").find("img");this.imgLoad(function(a){i.attr("src",a||e),t&&t(!!a)})},imgLoad:function(t){var e=new Image,i=this.feData,a="";a=this.isFloatStyle?i.pictureUrl||"":i.config&&i.config.backgroundImgUrl||"",e.onload=function(){t&&t(a)},e.onerror=function(){t&&t()},e.src=a},reloadImg:function(){try{(new Image).src=this.pElFront.css("background-image").match(/\"(.*)\"/)[1]}catch(t){}},styleFloorHeight:function(t){var e=this.scaleParam;if(e)try{this.mWrap.css({display:"block",height:t?e.orign.vm_oh:e.bak.vm_oh})}catch(t){}},styleFloorProcess:function(t){var e=r.find(".signIn_progress"),i=this.scaleParam;if(e.length&&(this.isFloatStyle||e.html(this.returnProcess(this.feData.signInfos&&this.feData.signInfos.list)),this.styleProcessItem()&&i))try{var a=this.mWrap.height(),n=t?this.feData.config.pos.y:102.16,o=t?i.orign.vm_h:i.bak.vm_h,s=e.height(),l=1*(n/o).toFixed(2)*a;l<0?l=0:l+s>a&&(l=a-s),e.css({top:l})}catch(t){}},styleProcessItem:function(){var t=r.find(".signIn_progress"),e=t.find("li"),i=e.height();if(!e.length)return!1;e.css({width:i,lineHeight:i+4+"px"}),t.css({visibility:"visible"});var a=Math.floor(t.width()),n=e.length,o=i*n,s=Math.floor((a-o)/n/2);return a>2*s*n+o?e.css({margin:"0 "+s+"px"}):e.css({margin:"0 "+(s-2)+"px"}),!0},styleFloorBtn:function(t){if(this.scaleParam){var e=r.find(".signIn_btn"),i=this.feData;if(!e.length)return;i.signInfos&&this.returnBtn(i.signInfos.signStat,i.signInfos.signText);try{var a=i.config.btnPos,n=this.scaleParam,o=this.mWrap,s=o.width(),l=o.height(),d=e.width(),c=e.height(),u=t?1*a.y:142.9,p=t?1*a.x:95,h=t?n.orign.vm_h:n.bak.vm_h,f=t?n.orign.vm_w:n.bak.vm_w,m=1*(u/h).toFixed(2)*l,v=1*(p/f).toFixed(2)*s;m<0?m=0:m+c>l&&(m=l-c),v<0?v=0:v+d>s&&(v=s-d),e.css({top:m,left:v,visibility:"visible"})}catch(t){}}},initBind:function(){var e=this,i=this.feData,n=i.popId;this.isFloatStyle?t("#"+n+"_popBtn").on("click",function(){e.pingEvent("Babel_Sign"),e.getData(i.params)}):(t("#"+n+"_ruleBtn").on("click",function(){e.pingEvent("Babel_SignRule"),e.appendHTML(e.pElFront,e.initRender({tplRule:!0,tplTitle:"活动规则",conRule:e.styleRuleCon(i.signInfos&&i.signInfos.rule)})),e.ruleBind()}),t("#"+n+"_signBtn").on("click",function(){t(this).hasClass("signIn_btnNone")||(e.pingEvent("Babel_Sign"),e.getData(i.signInfos&&i.signInfos.params))})),this.pElWrap.on("click",".J_signBtnMore",function(){var i=t(this).data("url"),n=t(this).data("srv");e.pingEvent("Babel_SignPrize",n),setTimeout(function(){a.jumpLink(i)},200)}),this.pEl.on("click",function(){e.checkState("close")}),this.pElWrap.on("click",function(t){t.stopPropagation()})},getData:function(i){var o=this;i&&!this.sendFlag&&t.ajax({type:"GET",dataType:"jsonp",timeout:1e4,url:n.getBabelUrlDev2Release("userSign"),data:n.getBabelUrlParam(JSON.stringify({params:i,riskParam:t.extend({},e.couponData.formatCouponData,{pageClickKey:"Babel_Sign"})}),!0),beforeSend:function(){o.sendFlag=!0},success:function(t){"3"==t.code?a.goLogin():o.pieScene(t)},error:function(){o.setToast("签到失败，请稍后重试~")},complete:function(){o.sendFlag=!1}})},pieScene:function(t){var e=this;if(0!=t.code)return this.setToast("签到失败，请稍后重试~");if(0!=t.subCode)return this.setToast(t.subCodeMsg||"签到失败，请稍后重试~");var i=t.signText||"",a=t.statistics||"",n=!(!t.list||!t.list.length),o=!!t.rule,s=!!t.jump,l=!(!t.awardList||!t.awardList.length);this.isFloatStyle?(this.appendHTML(this.pElFront,this.initRender({tplPrice:l,tplTitle:i,awardList:this.stylePriceList(t.awardList),tplMore:s,jump:t.jump,noAwardTxt:t.noAwardTxt,tplShowRule:o,tplStaticTxt:a,tplProcess:n,tplError:!l&&!n&&t.noAwardTxt}),t),this.ruleBind()):(this.appendHTML(this.pElFront,this.initRender({tplPrice_w:l,tplTitle:i,awardList:this.stylePriceList(t.awardList),tplMore:s,jump:t.jump,noAwardTxt:t.noAwardTxt,tplError:!l&&t.noAwardTxt})),this.returnBtn(1,t.btnText));var d=this.returnProcess(t.list);d&&(r.find(".signIn_progress").html(d),setTimeout(function(){e.styleProcessItem()},450))},setToast:function(t){n.showToast({content:t})},stylePriceList:function(t){if(!t)return t;for(var e=["signIn_free","signIn_coupon","signIn_bean","signIn_code"],i=0,a=t.length;i<a;i++){var n=t[i].type;t[i].cls=e[n]}return t},styleRuleCon:function(t){return t?t.split("\n"):[]},pingEvent:function(t,e){try{n.reportEventdata({event_id:t,event_param:e||this.feData.srv||this.feData.signInfos.srv||"",event_level:""},o)}catch(t){}},appendHTML:function(t,e,i){t.empty().html(e),this.isFloatStyle&&this.pElBack.empty().html(this.initRender({tplRule:!0,tplTitle:"活动规则",conRule:this.styleRuleCon(i.rule)})),this.checkState("open")},checkState:function(e){"open"==e?(this.pEl.css({display:"block"}),this.initStyle(),this.showBind(),t("body").on("touchmove",function(t){return!1})):"close"==e&&(this.pEl.css({display:"none"}).removeClass("signIn_load"),this.pElWrap.removeAttr("style"),this.pElFront.removeClass("in out"),this.pElBack.removeClass("in out"),this.hideBind(),t("body").off("touchmove"))},initStyle:function(){var t=this.pElFront,e=[t.find(".signIn_Top"),t.find(".signIn_Body"),t.find(".signIn_Bottom")],i=0,a=this.isFloatStyle,n=null,o=[],s=this.pEl;a&&(n=this.pElBack,o.push(n.find(".signIn_Top"),n.find(".signIn_Body"),n.find(".signIn_Bottom")));for(var r=0;r<3;r++){var l=e[r].height();e[r].css({height:l}),e[r].oHeight=l,a&&(o[r].css({height:l}),o[r].oHeight=l),i+=l}if(this.maxHehgit<i){var d=1*(i-this.maxHehgit).toFixed(2);e[1].css({height:1*(e[1].oHeight-d).toFixed(2)}),a&&o[1].css({height:1*(o[1].oHeight-d).toFixed(2)}),this.pElWrap.css({height:this.maxHehgit})}else this.pElWrap.css({height:1*i.toFixed(2)});a?(t.addClass("in"),n.addClass("out"),setTimeout(function(){s.addClass("signIn_load")},400)):s.addClass("signIn_load")},showBind:function(){var t=this,e=this.pElWrap;e.find(".signIn_Close").on("click",function(){t.checkState("close")}),t.isFloatStyle&&(e.find(".signIn_ruleBtn").on("click",function(){t.pingEvent("Babel_SignRule"),t.flipBind()}),e.find(".signIn_backBtn").on("click",function(){t.flipBind()}))},hideBind:function(){var t=this.pElWrap;t.find(".signIn_Close").off(),t.find(".signIn_RuleText").off(),t.find(".signIn_ruleBtn").off(),t.find(".signIn_backBtn").off()},flipBind:function(){for(var t=null,e=null,i=this.pArr,a=0;a<i.length;a++)i[a].hasClass("out")?t=i[a]:e=i[a];e.addClass("out").removeClass("in"),setTimeout(function(){t.addClass("in").removeClass("out")},225)},ruleBind:function(){var t=this.pElWrap.find(".signIn_RuleWrap"),e=t.find(".signIn_RuleText"),i=t.height(),a=e.height();if(!(i+15>=a)){t.css({height:i,overflow:"hidden"}),e.css({height:a});var n={},o=-1,s=!1,r=a-i;e.on("touchstart",function(t){var i=e.data("pos");i=i?-i:0;var a=t.touches[0];n={x:a.pageX,y:a.pageY,posx:a.pageX+i,posy:a.pageY+i},s=!1}),e.on("touchmove",function(t){var i=t.touches[0];s=!0;var a={x:i.pageX-n.posx,y:i.pageY-n.posy,sx:i.pageX-n.x,sy:i.pageY-n.y};Math.abs(a.x)-Math.abs(a.sy)>0||t.preventDefault();var d=-a.y;d<0&&(d-=.9*d),d>r&&(d-=.9*(d-r)),o=d,l(e,-d,"none")}),e.on("touchend",function(t){if(s){var i=o;l(e,-(i=(i=i<0?0:i)>r?r:i))}})}function l(t,e,i){"none"==i?t.css({"-webkit-transition-duration":"0","transition-duration":"0"}):t.css({"-webkit-transition-duration":"600ms","transition-duration":"600ms"}),t.css({"transition-timing-function":"cubic-bezier(0.1, 0.57, 0.1, 1)",transform:"translate(0px, "+e+"px) translateZ(0px)","-webkit-transform":"translate(0px, "+e+"px) translateZ(0px)"}),t.data("pos",e)}},returnBtn:function(t,e){var i="signIn_btn ";switch(t+""){case"0":i+="signIn_btnIng";break;case"1":i+="signIn_btnAlready";break;case"2":i+="signIn_btnNone";break;default:i+="signIn_btnIng"}r.find(".signIn_btn").removeClass().addClass(i).find(".signIn_btnTxt").text(e)},returnProcess:function(t){if(!t||0==t.length)return"";function e(t){switch(t+""){case"0":return"no";case"1":return"wait";case"2":return"now";case"3":return"has";case"4":return"no_gift";case"5":return"wait_gift";case"6":return"now_gift";case"7":return"has_gift";default:return"wait"}}for(var i="",a=0,n=t.length;a<n;a++)i+='<li class="'+e(t[a].state)+'">'+(a+1)+"</li>";return'<ul class="signIn_list">'+i+"</ul>"},initRender:function(e){var a=t.extend({},{tplIsFloat:this.isFloatStyle,tplRule:!1,tplProcess:!1,tplTitle:"",tplPrice:!1,tplError:!1,tplPrice_w:!1,tplShowRule:!1,tplStaticTxt:"",conRule:[],tplMore:!1,tplPriceList:e.tplPrice_w||e.tplPrice},e||{});return n.tplLinkData(a,o),i.render(this.tplPopWrap(),a,{top:this.tplPopTop(),body:this.tplPopBody(),bottom:this.tplPopBottom()})},tplPopWrap:function(){return'<div class="{{#tplPrice_w}}whiteTitle{{/tplPrice_w}}{{^tplPrice_w}}{{#tplPrice}}redTitle{{/tplPrice}}{{/tplPrice_w}}">\r\n{{>top}}\r\n{{>body}}\r\n{{>bottom}}\r\n</div>'},tplPopTop:function(){return'<div class="signIn_Top">\r\n{{#tplRule}}\r\n{{#tplIsFloat}}\r\n<div class="signIn_backBtn">\r\n<a href="javascript:;" class="btn_area"></a>\r\n</div>\r\n{{/tplIsFloat}}\r\n{{/tplRule}}\r\n{{^tplRule}}\r\n{{#tplIsFloat}}\r\n{{#tplShowRule}}\r\n<div class="signIn_ruleBtn">\r\n<a href="javascript:;" class="btn_area"></a>\r\n</div>\r\n{{/tplShowRule}}\r\n{{/tplIsFloat}}\r\n{{#tplProcess}}\r\n<div class="signIn_StateHd">\r\n{{tplStaticTxt}} \r\n</div>\r\n{{/tplProcess}}\r\n{{#tplPrice_w}}\r\n<div class="signIn_PriceTitle"></div>\r\n{{/tplPrice_w}}\r\n{{/tplRule}}\r\n<div class="signIn_Title">{{tplTitle}}</div>\r\n</div>'},tplPopBottom:function(){return'<div class="signIn_Bottom"></div>\r\n<div class="signIn_Close">\r\n<div class="signIn_Line"></div>\r\n<div class="signIn_Close_icon"></div>\r\n</div>'},tplPopBody:function(){return'<div class="signIn_Body">\r\n{{#tplRule}}\r\n<div class="signIn_RuleWrap">\r\n<div class="signIn_RuleText">\r\n<ul>\r\n{{#conRule}}\r\n<li>{{.}}</li>\r\n{{/conRule}}\r\n</ul>\r\n</div>\r\n</div> \r\n{{/tplRule}}\r\n{{^tplRule}}\r\n{{#tplError}}\r\n<div class="signIn_StateText">{{noAwardTxt}}</div>\r\n{{/tplError}}\r\n{{#tplProcess}}\r\n<div class="signIn_progress" style="visibility:hidden;"></div>\r\n{{/tplProcess}}\r\n{{#tplPriceList}}\r\n<div class="signIn_PriceWrap">\r\n<div class="signIn_PriceTitle"></div>\r\n<div class="signIn_PriceList">\r\n<ul>\r\n{{#awardList}}\r\n<li class="{{cls}}"><i></i>{{text}}</li>\r\n{{/awardList}}\r\n</ul>\r\n</div>\r\n{{#tplMore}}\r\n<div class="signIn_PriceMore">\r\n<a href="javascript:;" class="J_signBtnMore" data-srv="{{jump.srv}}" data-url="{{jump.params.url}}">查看全部奖品&nbsp;&gt;</a>\r\n</div>\r\n{{/tplMore}}\r\n</div>\r\n{{/tplPriceList}}\r\n{{^tplPriceList}}\r\n{{#tplProcess}}\r\n{{#noAwardTxt}}\r\n<div class="signIn_NowTextWrap">\r\n<div class="signIn_NowText">\r\n{{noAwardTxt}}\r\n</div>\r\n</div>\r\n{{/noAwardTxt}}\r\n{{/tplProcess}}\r\n{{/tplPriceList}}\r\n{{/tplRule}}\r\n</div>'}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(31));a=[i(1),i(0)],void 0===(n=function(t,e){var i=e.util,a=e.mod,n=e.activityData;return function(s,r,l){return e.Create({$el:r,data:null,init:function(){this.data=l.feData,this.data&&r.length&&(this._show(),this._bind())},_show:function(){var e=r.find(".panorama_wrap"),i=this.data,a=i.bgHScale?t(window).width()*i.bgHScale:null,n=e.find(".pic_view"),o=e.find(".btn_view");a?(e.css({height:a}),n.removeAttr("style"),this._btnStyle(o,i.viewBtnX,i.viewBtnY,i.bgHScale)):(e.css({height:100}),n.remove(),o.css({display:"block"}))},_btnStyle:function(e,i,a,n){var o=1*i,s=1*a,r=t(window).width(),l=r*n,d=375*n,c=h(r/375),u=h(o/375*r),p=h(s/d*l);function h(t){return 1*t.toFixed(2)}e.css({left:u,top:p,display:"block","-webkit-transform":"scale("+c+")","-webkit-transform-origin":"0 0"})},_bind:function(){var t=r.find(".J_btn"),e=this.data,s=e.app&&e.app.isEnvBeta?"&env=beta":"",l=e.scenePicUrl?"&picUrl="+encodeURIComponent(e.scenePicUrl):"";t.on("click",function(){a.reportEventdata({event_id:"Babel_Panorama",event_param:e.srv,event_level:""},n),setTimeout(function(){i.jumpLink(o.default.outerJumpUrl.panoramaHotspot+"moduleId="+(e.moduleId+l)+"&activityId="+n.encodeActivityId+"&srvBiInfo="+e.srvBiInfo+s)},200)})}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(1),i(0),i(4)],void 0===(n=function(t,e){return function(i,a,n){return e.Create({$el:a,data:null,init:function(){this.data=n.feData,this.con=a.find("div.timeline_con"),this.wrap=a.find("div.timeline_wrap"),this.initStyle(),this.bind(),this.check()},initStyle:function(){var e=this.data,i=this.con,a=this.wrap,n=i.find("div.timeline_line"),o=a.find("li"),s=t(window).width(),r=1*e.x/375,l=1*e.y/375,d=y(r*s),c=y(l*s),u=!!i.hasClass("two"),p=o.length,h=0,f=u?.68:.55,m=y(.24*s),v=y(m*f),g=y((m+20)*p)-20,_=y(g-m),b=y(m/2);function y(t){return 1*t.toFixed(2)}h=g+d<s?g:s-d,o.css({width:m,paddingTop:v}),a.css({width:g}),n.css({width:_,left:b}),i.css({width:h,opacity:1,left:d,top:c}),this.liWidth=m},bind:function(){var t=this.con,e=this.wrap,i=t.width(),a={},n=-1,o=!1,s=e.width()-i,r=this;s<1||(e.on("touchstart",function(t){var i=e.data("pos");i=i?-i:0;var n=t.touches[0];a={x:n.pageX,y:n.pageY,posx:n.pageX+i,posy:n.pageY+i},o=!1}),e.on("touchmove",function(t){var i=t.touches[0];o=!0;var l={x:i.pageX-a.posx,y:i.pageY-a.posy,sx:i.pageX-a.x,sy:i.pageY-a.y};Math.abs(l.y)-Math.abs(l.sx)>0||t.preventDefault();var d=-l.x;d<0&&(d-=.9*d),d>s&&(d-=.9*(d-s)),n=d,r.move(e,-d,"none")}),e.on("touchend",function(){if(o){var t=n;t=(t=t<0?0:t)>s?s:t,r.move(e,-t)}}))},move:function(t,e,i){"none"==i?t.css({"-webkit-transition-duration":"0","transition-duration":"0"}):t.css({"-webkit-transition-duration":"600ms","transition-duration":"600ms"}),t.css({"transition-timing-function":"cubic-bezier(0.1, 0.57, 0.1, 1)",transform:"translate("+e+"px,0px) translateZ(0px)","-webkit-transform":"translate("+e+"px,0px) translateZ(0px)"}),t.data("pos",e)},check:function(){var t=a.find("li.cur"),e=this.con,i=this.wrap,n=t.index()*(this.liWidth+20)-2,o=e.width(),s=i.width()-o;n=(n=n<0?0:n)>s?s:n,this.move(i,-n,"none")}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(1),i(0)],void 0===(n=function(t,e){var i=e.util,a=e.mod,n=(e.runtimeEnv,e.activityData);return function(o,s,r){return e.Create({$el:s,data:null,cookieKey:"babelTapXView",cookieLimit:10,enterFlag:!1,init:function(){this.data=r.feData,this.iframeEl=s.find("iframe"),this.isFloatStyle=!!this.data.isFloatTapXView,this.isLoginCallBackXview="1"==i.getQueryString("istapxview"),this.data&&s.length&&(this.showLimit="1"==this.data.showLimit,this.showLimit?this.checkCookie():this.enterFlag=!0,this.isFloatStyle?(this.enterFlag||this.isLoginCallBackXview)&&this.float_init():this.floor_init())},checkCookie:function(){var t=n.encodeActivityId,e=this._cookie("get",t);e&&(this.enterFlag=e,this._cookie("set",t))},floor_init:function(){var t=s.find(".J_tapXViewBtn"),e=s.find(".tapXView_module"),o=this.data.adsList[0],r=o.jump&&o.jump.params,l=o.jump&&o.jump.srv,d=this;t.on("click",function(){"0"==r.needLogin?i.goLogin():e.hasClass("tapXView_isLoadIframe")?e.addClass("tapXView_load"):d.render(),a.reportEventdata({event_id:r.eventId,event_param:l,event_level:""},n),window.addEventListener("message",function(t){"hasGot"===t.data&&e.addClass("has_receive_luckybag 1")})})},float_init:function(){this.data.xViewUrl&&this.render()},render:function(){var i=this.isFloatStyle,a=s.find(".tapXView_closeBtn"),n=s.find(".tapXView_module");a.off().on("click",function(){i?(n.remove(),e.trigger("onDropDownGameCloseBanner")):(n.hasClass("has_receive_luckybag")&&t(".tapXView_content")[0].contentWindow.postMessage("has_received","https://h5.m.jd.com/dev/4aCjvy7juhxTpaQPaQWxLKXbbbv"),n.removeClass("tapXView_load"))}),n.addClass("tapXView_load tapXView_isLoadIframe")},_cookie:function(t,e){var a=i.cookie,n=a.get(this.cookieKey);if("get"==t){var o=!0;return n&&n.match(e)&&(o=!1),o}if("set"==t){var s=[];if(n&&(s=n.split(",")),s.push(e),s.length>this.cookieLimit){var r=s.length-this.cookieLimit;s=s.slice(r)}a.set(this.cookieKey,s.join(","),{expires:1})}}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0),i(2)],void 0===(n=function(t,e){var i=t.util,a=t.mod;return function(n,o){return t.Create({$el:o,init:function(){var t=this;this.$el.on("click",".attn",function(){var n=$(this),o=n.hasClass("no"),s=n.data("pid"),r=n.data("srv"),l=o?"Babel_ShopInfoFollowCancel":"Babel_ShopInfoFollow",d=o?"0":"1";return $.ajax({type:"GET",dataType:"jsonp",url:a.getBabelUrlDev2Release("followVender"),data:a.getBabelUrlParam(JSON.stringify({isFollow:d,shopId:s}),!0),beforeSend:function(){e.loading.show()},success:function(e){if("0"==e.code){var a=0;"0"==e.subCode?o?(t.toast("取消成功"),n.removeClass("no")):(t.toast("关注成功","可以在发现频道<br>查看TA的动态啦","icon_follow"),n.addClass("no")):"4"==e.subCode?o||(t.toast("关注成功","可以在发现频道<br>查看TA的动态啦","icon_follow"),n.addClass("no")):(o?t.toast("取消失败"):t.toast("关注失败"),a=1),i.tracking._clickTracking({eventId:l,event_param:r+"_"+a})}else"3"==e.code&&i.goLogin()},complete:function(){e.loading.hide()},error:function(){e.loading.hide()}}),!1})},toast:function(t,e,i){a.showToast({iconCls:i,content:t,subContent:e})}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(1),i(0),i(4),i(26)],void 0===(n=function(t,e,i,a){var n=e.mod,o=e.runtimeEnv,s=e.activityData,r=e.util;return function(l,d){return e.Create({$el:d,$errorSection:d.find("section.error"),data:null,init:function(){!o.isWeChat&&!o.isQQ||o.isWQUrl||t("#m_common_header").hide(),this.track(),a("errorPage",this),this.postInit()},postInit:function(){this.$errorSection.hasClass("empty")},track:function(){var t=/\/(mall|wq|yhd|mini)\/(active|event)\/([0-9a-zA-z]{26,})\//.exec(location.href),e="";t&&(e=t[3]||""),n.reportEventdata({event_id:"Babel_ErrorPageExpo",event_param:e,event_level:""},s)},renderErPageFloors:function(){var i=this.getProxyRequest("queryBabelExceptionPageFloors",{exType:1}),a=this;t.ajax({url:i.url,data:i.data,type:"POST"}).then(function(i){if(i&&"0"==i.code&&"0"==i.subCode){var n=i.floorHTML;if(!n)return t.Deferred().reject();var o=JSON.parse(i.dataHub),s=a.$el.find(".floors");return s.html(n),s.find(">.bab_opt_mod").each(function(i,a){a=t(a),e.modules(a.data("template"))(a.data("floornum"),a,o[a.data("floornum")])}),void r.lazyLoad.check()}return t.Deferred().reject()}).fail(function(){a.getActiveData()})},getActiveData:function(){var e=this,i=d.data("activityid"),a=d.data("pageid"),o={activityId:i||"",pageId:a||""};t.ajax({type:"GET",dataType:"jsonp",timeout:1e4,url:"//api.m.jd.com/client.action?functionId=babelExceptionPage",data:n.getBabelUrlParam(JSON.stringify(o),!0),success:function(t){t.floorList&&t.floorList.length?e.formatData(t):e.errorData()}})},formatData:function(e){var a,n=e.floorList,o=[],s=[],r=[],l="",c=this,u=[];try{t.each(n,function(t,e){switch(e.template){case"loucengbiaoti":o.push({pic:e.floorHead.pictureUrl,bgc:e.floorHead.backgroundColor,key:t,tpl:"TITLE"});break;case"jiange":e.key=t,e.tpl="LINE",e.nHeight=e.height/2,r.push(e);break;case"guanggao_tonglan":e.adsList.length&&s.push({bgc:e.backgroundColor,pic:e.adsList[0].pictureUrl,url:e.adsList[0].jump.params.url,key:t,tpl:"AD",srv:e.adsList[0].jump.srv})}})}catch(t){}s.length<2?c.errorData():(s.length>5&&(s.length=5),a=o.concat(s,r),t.each(a,function(t,e){u[e.key]=e}),t.each(u,function(t,e){e.tpl&&(l+=i.render(c.getTpl(e.tpl),e))}),l&&(d.find("div.errorPage").append('<main class="error_active">'+l+"</main>"),this.bind()))},getTpl:function(t){switch(t){case"TITLE":return'<section class="error_title" style="background-color:{{bgc}}">\r\n<img src="{{pic}}"  />\r\n</section>';case"LINE":return'<div class="error_line" style="background-color:{{backgroundColor}};height:{{nHeight}}px;"></div>';case"AD":return'<div class="error_ad" style="background-color:{{bgc}}">\r\n<a href="javascript:;" class="J_errorAdLink" data-link="{{url}}" data-srv={{srv}}><img src="{{pic}}" /></a>\r\n</div>'}},bind:function(){d.on("click","a.J_errorAdLink",function(){var e=t(this),i=e.data("srv"),a=e.data("link");n.reportEventdata({event_id:"MAbnormalPage_Activity",event_param:i,event_level:"3"},s),setTimeout(function(){r.jumpLink(a)},200)})},errorData:function(){this.$el.find(".floors").empty(),this.$el.find("section.error").addClass("empty"),this.$el.find(".error .label>span").html("页面失联了~休息一会儿吧")}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0)],void 0===(n=function(t){var e=0,i=1,a=2;return function(n,o,s){var r=t.$window,l=t.width;return t.Create({$el:o,data:null,init:function(){this.data=s,this._setLayout();var n=t.dataHub.dogeList,l=n&&n.length&&n[0];if(l){var d=l.manifest;if(d){d=d.split(",");var c=this;l.status===i?c._renderFloor():(r.on("RN_FLOOR_SCRIPTS_LOADED",function(){c._renderFloor()}),l.status!==e&&(l.status=e,c._loadScripts(d).then(function(){l.status=i,r.trigger("RN_FLOOR_SCRIPTS_LOADED")}).catch(function(){l.status=a})))}else o.hide()}else o.hide()},_loadScripts:function(t){var e=this,i=Promise.resolve();return t.reduce(function(t,i){return t.then(function(){return e._loadScript(i)})},i)},_loadScript:function(t){return new Promise(function(e){_require([t],e)})},_renderFloor:function(){"undefined"!=typeof JDReactBabelFloorRegistry&&"function"==typeof JDReactBabelFloorRegistry.registerFloor&&JDReactBabelFloorRegistry.registerFloor(this.data.styleId,this.data.rndata||"{}",this.$el[0])},_setLayout:function(){var t=this.data;if(t.height){var e=t.width||l,i=l/e;this.$el.css({width:"100%",height:parseInt(t.height*i)+"px"})}}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(1),i(0)],void 0===(n=function(t,e){return function(i,a,n){return e.Create({$el:a,data:null,init:function(){this.data=n.feData,this.data.isScroll&&this.bind()},bind:function(){var e=this.$el.find(".medal_bd_coupon"),i=this.$el.find(".medal_bd_coupon_list"),a=i.find("a.medal_item"),n=this.$el.find(".medal_bd_wrap").hasClass("medal_bd_margin"),o=t(window).width(),s=e.width(),r=a.width()+"",l=a.length,d=n?10*(l-1):0;-1!=r.indexOf("%")?r=parseFloat(r)/100*o:r*=1;var c=10+r*l+d+10;a.css({width:r}),i.css({width:c}),e.css({overflow:"hidden"});var u={},p=-1,h=!1,f=c-s,m=this;f<1||(i.on("touchstart",function(t){var e=i.data("pos");e=e?-e:0;var a=t.touches[0];u={x:a.pageX,y:a.pageY,posx:a.pageX+e,posy:a.pageY+e},h=!1}),i.on("touchmove",function(t){var e=t.touches[0];h=!0;var a={x:e.pageX-u.posx,y:e.pageY-u.posy,sx:e.pageX-u.x,sy:e.pageY-u.y};Math.abs(a.y)-Math.abs(a.sx)>0||t.preventDefault();var n=-a.x;n<0&&(n-=.9*n),n>f&&(n-=.9*(n-f)),p=n,m.move(i,-n,"none")}),i.on("touchend",function(){if(h){var t=p;t=(t=t<0?0:t)>f?f:t,m.move(i,-t)}}))},move:function(t,e,i){"none"==i?t.css({"-webkit-transition-duration":"0","transition-duration":"0"}):t.css({"-webkit-transition-duration":"600ms","transition-duration":"600ms"}),t.css({"transition-timing-function":"cubic-bezier(0.1, 0.57, 0.1, 1)",transform:"translate("+e+"px,0px) translateZ(0px)","-webkit-transform":"translate("+e+"px,0px) translateZ(0px)"}),t.data("pos",e)}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0)],void 0===(n=function(t){var e=t.mod;return function(i,a,n){return t.Create({$el:a,type:"",data:null,init:function(){var t=this.$el.data("template");this.type=t.indexOf("_")>-1?t.split("_")[1]:t,this.data=n,this.data&&(this.videoInfo=n.videoInfo,this._main())},_main:function(){var i=this,a=i.$el.find(".video_module_wrap"),n=this.$el.find("video"),o=i.videoInfo.articleId;if(n.on("play",function(){if(!n[0].currentTime&&(e.reportEventdata({event_id:"Babel_VideoPlay",event_param:n.data("srv"),event_level:""},t.activityData),"5"==i.videoInfo.linkType)){var a={ids:{},position:"1022",timestamp:JSON.stringify((new Date).getTime())};a.ids[o]="1",$.ajax({type:"GET",dataType:"jsonp",timeout:1e4,url:"//api.m.jd.com?functionId=discoveryPvReportExecute&clientVersion=6.5.5",data:e.getBabelUrlParam(JSON.stringify(a)),beforeSend:function(){},success:function(){},error:function(){},complete:function(){}})}}),$(window).on("EVENT_TAB_CHANGE",function(){n.is(":visible")||n[0].pause()}),$(window).scroll(function(){(n[0].getBoundingClientRect().top>window.innerHeight||n[0].getBoundingClientRect().bottom<0)&&n[0].pause()}),a.on("click",function(n){"video_wrap"===n.target.className||$(n.target).parents().hasClass("video_wrap")||"overlay"===n.target.className||$(n.target).parents().hasClass("overlay")||(e.reportEventdata({event_id:"Babel_VideoAroundCard",event_param:a.data("srv"),event_level:""},t.activityData),"5"==i.videoInfo.linkType?location.href="//h5.m.jd.com/active/faxian/video/index.html?id="+o:"104"==i.videoInfo.linkType&&(location.href=i.videoInfo.jump.params.url))}),"0"==i.videoInfo.playRule){var s={videoWrap:i.$el,imgWrap:"video_module_wrap_fullscreen",eventData:{event_id:"Babel_VideoPlay",event_param:n.data("srv")},activityData:t.activityData};e.loadVideo(s)}}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0),i(1)],void 0===(n=function(t,e){var i=t.mod,a=t.util,n="switch_first_level_tab",o="switch_sub_level_tab",s="only_scroll";return function(r,l,d){return t.Create({$el:l,$tabEl:l.find(".tabs_bar"),$tabContents:l.find(".tabs_content"),$tabContentWrapper:l.find(".tabs_content .tabs_content_wraper"),$subTabs:l.find(".label_nav"),$loadingEls:l.find(".dropdown_loading"),floorContainerEls:l.find(".tabs_content .module_list"),$tabHdWrap:l.find(".tabs_bar .tabs_bar_wraper"),$tabHeader:l.find(".tabs_bar .tabs_bar_wraper > ul"),$tabPanes:l.find(".tabs_tabpane"),floorData:d,stickyTop:0,mh:e(window).height(),nextFeedsLoadStartTime:0,state:{activeIndex:d.activeIndex,activeSubIndex:d.activeSubIndex,gloablLoading:!1,isStaggered:""+d.feedsStaggeredSwitch=="1"},init:function(){"2"==this.floorData.tabConfig.tabStyle&&(this.stickyTop=-55),this.setContainerMinHeight(),this.initTab(),this.initEventListener(),this.bindEventFixed(),this.triggerEvent()},triggerEvent:function(){t.trigger("feedsModuleLoaded",[this.$el])},initEventListener:function(){var t=this;this.$el.on("click",".dropdown_loading.error, .dropdown_loading.next",function(){e(this).is(":visible")&&t.tryLoadNextPage(s)}),this.$el.find(".tabs_bar_wraper, .label_nav").on("scroll touchmove",function(t){t.stopPropagation()}),e(window).on("resize",function(){t.setContainerMinHeight()})},initTab:function(){var a=this,o={node:this.$el,tabMainWrap:this.$tabEl,tabHdList:this.$el.find(".tabs_bar_wraper .tab_item"),tabBdList:this.$el.find(".tabs_content .tabs_tabpane"),tabHdWrap:a.$tabHdWrap,tabSlide:!1,topPos:a.stickyTop,activeClassName:"active",initCallback:function(){1===a.floorData.tabList.length&&a.$tabEl.hide(),e.each(a.$subTabs,function(t,i){e(i).find(".label_item ").length<4&&e(i).hide()}),a.isFullPage()?a.tryLoadNextPage(n):a.loadFullPage(n)},tabClickLoading:function(){return a.state.gloablLoading},tabClickCallbak:function(o,s){a.floorData.tabList[a.state.activeIndex].ele=a.floorContainerEls.eq(a.state.activeIndex).children().detach(),a.setState({activeIndex:o.index(),activeSubIndex:s.find(".label_item.active").index()}),a.floorData.tabList[a.state.activeIndex].ele&&a.floorContainerEls.eq(a.state.activeIndex).append(a.floorData.tabList[a.state.activeIndex].ele),e(window).trigger("EVENT_TAB_CHANGE"),a.isFullPage()?a.tryLoadNextPage(n):a.loadFullPage(n),a.$tabHeader.scrollLeft(a.$tabHeader.scrollLeft()+o.position().left-(e(window).width()-o.width())/2),a.scrollToRememberPos(o.index()),i.reportEventdata({event_id:"Babel_feedTab",event_param:o.attr("data-srv")},t.activityData),a.$tabContents.css("min-height",a.mh+"px")},scrollCallback:function(){var t=e(window).scrollTop(),i=e(document).height(),n=e(window).height();a.rememberScrollPos(a.state.activeIndex),a.isFixed()&&e("div.top_nav_module").each(function(){e(this).hasClass("fixed")&&e(this).removeClass("fixed")}),t/(i-n)>.5&&!a.$loadingEls.eq(a.state.activeIndex).hasClass("error")&&a.tryLoadNextPage(s)}};this.$el.tab(o),this.initSubTab()},setContainerMinHeight:function(){this.mh=e(window).height()-this.$tabEl.height()-this.stickyTop,this.$tabContents.css("min-height",this.mh+"px")},scrollToRememberPos:function(t){var i=this.getRememberScrollPos(t);i&&this.isFixed()&&i.canRecovery&&e(window).scrollTop(i.top)},rememberScrollPos:function(t){var i=this.floorData.tabList[t].pos;i||(i={},this.floorData.tabList[t].pos=i),i.top=e(window).scrollTop(),i.canRecovery=this.isFixed()},getRememberScrollPos:function(t){return this.floorData.tabList[t].pos},isFixed:function(){return this.$tabEl.hasClass("fixed")},bindEventFixed:function(){var t=this;e(window).on("scroll.feeds touchmove.feeds",function(){var e=t.state.activeIndex,i=t.$tabPanes.eq(e);t.$tabPanes.find(".label_nav_wrap").css("top","0"),t.$tabPanes.removeClass("fixed");var a=t.$tabHdWrap.height()+t.stickyTop+(window._appNavHeight||0);i[0].getBoundingClientRect().top<=a&&(i.addClass("fixed"),i.find(".label_nav_wrap").css("top",a))})},loadFullPage:function(t){var e=this;e.isFullPage()||this.tryLoadNextPage(t).then(function(){e.loadFullPage(s)})},isFullPage:function(){var t=e("body").height(),i=e(window).height();return!(t-i<i/2||this.$tabContentWrapper.height()<this.mh+40)},tryLoadNextPage:function(t){var i=this.getPageConf(),a=e.Deferred().reject();if(i.isLoading||"0"!=i.queryCode)return a;switch(t){case n:if(i.loaded)return a;break;case o:this.resetFloorContainer()}return this.loadNextPage(i,{activeIndex:this.state.activeIndex,activeSubIndex:this.state.activeSubIndex})},loadNextPage:function(n,o){var s=e.extend({},JSON.parse(n.feedParam)),r=this;s.staggeredSwitch=r.state.isStaggered?1:0;var l=this.getProxyRequest("nextFeedsPage",{feedParam:JSON.stringify(s),pageNum:n.pageNum,transParam:n.transParam||t.activityData.transParam,activityId:t.activityData.encodeActivityId,isStaggered:r.state.isStaggered}),d=e.Deferred();return!o&&(o={activeIndex:r.state.activeIndex,activeSubIndex:r.state.activeSubIndex}),n.isLoading=!0,r.setState({gloablLoading:!0}),this.setLoading("normal",o),this.nextFeedsLoadStartTime=(new Date).getTime(),e.ajax({url:l.url,type:"POST",data:l.data,success:function(e){var s=!1;if(e&&"0"==e.code&&"0"==e.subCode){n.queryCode=e.queryCode,"1"==e.queryCode?(r.setLoading("limit",o),n.pageNum=Number(e.pageNum)+1):"0"==e.queryCode?(n.pageNum=Number(e.pageNum)+1,e.floorHTML||e.floorStrArr.length>0?r.setLoading("next",o):(n.queryCode="1",r.setLoading("limit",o))):(s=!0,n.queryCode=0,r.setLoading("error",o)),e.floorHTML&&r._addFloors(e,o),r.state.isStaggered&&e.floorStrArr&&e.floorStrArr.length>0&&r._addFloorsStaggered(e,o);var c=t.activityData,u=c.activityId,p=c.pageId,h=(new Date).getTime()-r.nextFeedsLoadStartTime;i.reportEventdata({event_id:"Babel_feedFunctionVirtual",event_param:u+"_"+p+"_1_"+h+"_"+JSON.stringify(e).length},t.activityData)}else s=!0,r.setLoading("error",o),r.log(e.msg);r.setState({gloablLoading:!1}),n.isLoading=!1,n.loaded=!0,setTimeout(function(){a.lazyLoad.check()},150),s?(r.feedsErrorTracking(l,e),d.reject()):d.resolve()},complete:function(){r.nextFeedsLoadStartTime=0},error:function(t){n.isLoading=!1,n.loaded=!0,r.setState({gloablLoading:!1}),r.setLoading("error",o),r.feedsErrorTracking(l,t),d.reject()}}),d.promise()},feedsErrorTracking:function(e,a){try{var n=t.activityData,o=JSON.stringify(e.data)+"-"+JSON.stringify(a);i.reportEventdata({event_id:"Babel_feedPaingErrorVirtual",event_param:n.activityId+"_"+n.pageId+"_"+o.replace("_","$")},n)}catch(t){}},getPageConf:function(){var t=this.state.activeIndex,e=this.state.activeSubIndex;return this.floorData.tabList[t].secondTabList[e]},initSubTab:function(){var a=this;this.$el.on("click.f",".label_nav .label_item",function(){var n=e(this),s=n.index(),r=n.parents(".tabs_tabpane").eq(0).data("groupid"),l=n.parent();if(!n.hasClass("active")&&!a.state.gloablLoading){if(a.resetPageConf(a.state.activeIndex,a.state.activeSubIndex),n.siblings().removeClass("active"),n.addClass("active"),a.setState({activeIndex:r,activeSubIndex:s}),a.resetPageConf(r,s),a.resetFloorContainer(),a.isFixed()){var d=e(window).scrollTop(),c=a.getFirstTabOffsetTop();d!=c&&setTimeout(function(){e(window).scrollTop(c+1)},100)}a.isFullPage()?a.tryLoadNextPage(o):a.loadFullPage(o),l.scrollLeft(l.scrollLeft()+n.position().left-(e(window).width()-n.width())/2),i.reportEventdata({event_id:"Babel_feedSubTab",event_param:n.attr("data-srv")},t.activityData)}})},getFirstTabOffsetTop:function(){var t=this.stickyTop;return this.$tabEl.offset().top-t},setState:function(t){this.state=e.extend({},this.state,t)},resetPageConf:function(t,i){var a=this.floorData.tabList[t].secondTabList[i];a&&e.extend(a,{queryCode:0,pageNum:1,isLoading:!1})},setLoading:function(t,e,i){e=e||{activeIndex:this.state.activeIndex};var a=this.$loadingEls.eq(e.activeIndex||0),n=["dropdown_loading"];t&&t.length>0&&n.push(t),i=i||"",a.find(".limit_tip").text({limit:"没有更多了",error:"加载失败，点击重新加载",next:"点击加载下一页"}[t]||i),a.attr("class",n.join(" "))},resetFloorContainer:function(){this.floorContainerEls.eq(this.state.activeIndex).empty()},_addFloor:function(i,a,n){var o=e(i),s=o.data("floornum"),r=o.data("template"),l=a[s];if(r)try{t.modules(r)(s,o,l)}catch(t){this.log(t)}},_addFloors:function(t,i){var a={};try{a=JSON.parse(t.dataHub)}catch(t){this.log(t)}var n=document.createElement("div");n.innerHTML=t.floorHTML;var o=n.children,s=o.length;if(s)for(;s>0&&o[0];){var r=o[0];this.floorContainerEls.eq(i.activeIndex).append(e(r)),this._addFloor(r,a,i),s--}},_addFloorsStaggered:function(t,e){var i={};try{i=JSON.parse(t.dataHub)}catch(t){this.log(t)}if(this.floorContainerEls.eq(e.activeIndex).find(".aggredate_root").selector.length<=0){var a=document.createElement("section"),n=document.createElement("div"),o=document.createElement("div");a.setAttribute("class","aggredate_root"),n.setAttribute("class","aggredate_root_left"),o.setAttribute("class","aggredate_root_right"),a.appendChild(n),a.appendChild(o),this.floorContainerEls.eq(e.activeIndex).append(a)}for(var s=this.floorContainerEls.eq(e.activeIndex).find(".aggredate_root_left"),r=this.floorContainerEls.eq(e.activeIndex).find(".aggredate_root_right"),l=0;l<t.floorStrArr.length;l++){var d=t.floorStrArr[l];s.height()<=r.height()?(s.append(d),this._addFloor(s.children("div.bab_opt_mod:last-of-type"),i,e)):(r.append(d),this._addFloor(r.children("div.bab_opt_mod:last-of-type"),i,e))}},log:function(t){"1"==a.getQueryString("debug")&&console.log(t)}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0)],void 0===(n=function(t){return function(e,i,a){return t.Create({$el:i,init:function(){this.$el.find(".bab_opt_mod").forEach(function(e){var i=(e=$(e)).data("floornum"),n=e.data("template");t.modules(n)(void 0,e,a[i])})}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0),i(1)],void 0===(n=function(t,e){var i=t.mod,a=t.util;return function(n,o,s){return t.Create({$node:o,floorData:s,tabSwitchType:s.tabSwitchType||"click",floorContainerEls:o.find(".module_list_body"),$moduleList:o.find(".top_nav_module_list"),$loadingEls:o.find(".dropdown_loading"),$tabModule:o.find(".top_nav_module"),state:{isLoading:!1,tabIdx:0},init:function(){this._bindEventTab(),this._bindEventError(),this._bindBodyTouchEvent(),this.rememberScrollPos()},rememberScrollPos:function(t){var i=e(window).scrollTop();0==arguments.length?this.floorData.tabList.forEach(function(t){t.scrollTop=i}):this.floorData.tabList[t].scrollTop=i},loadFloors:function(i){var n=e.Deferred(),o=this,s=o.$node,r=this.floorData.tabList[i].multiParams,l=this.floorData.transParam||t.activityData.transParam,d={activeIndex:i};if(o.setLoading("normal",d),!r||!l)return o.setLoading("error",d),e.Deferred().reject();var c=this.getProxyRequest("queryMultiTabFloors",{multiParams:r,transParam:l});return o.state.isLoading=!0,e.ajax({url:c.url,type:"POST",data:c.data,success:function(t){o.state.isLoading=!1,t&&"0"==t.code&&"0"==t.subCode?(t.floorHTML&&(o._addFloors(t,d),s.find(".top_nav_module_list").css("min-height","")),a.lazyLoad.check(),o.setLoading("hide",d),n.resolve()):(o.setLoading("error",d),n.reject()),o.floorData.tabList[i].isLoaded=!0},error:function(){o.state.isLoading=!1,o.setLoading("error",d),n.reject()}}),n.promise()},_bindEventError:function(){var t=this;this.$node.on("click",".dropdown_loading.error",function(){e(this).is(":visible")&&t.loadFloors(t.state.tabIdx)})},_bindBodyTouchEvent:function(){this.tabSwitchType},_bindEventTab:function(){var a=this,n=a.$node,o=t.activityData,s=a.$node.find(".top_nav_module_list_item"),r=a.$node.find(".module_list_wrap"),l={node:n,tabMainWrap:n.find(".top_nav_module"),tabHdWrap:n.find(".top_nav_wrap"),tabHdList:n.find(".top_nav_wrap li"),tabClick:!0,tabSlide:!0,tabLimitNum:1,topPos:o.topnavHeight||200,fixedTabPos:!0,tabClickLoading:function(){return a.state.isLoading},tabClickCallbak:function(t){var n=t.index(),l=r.width();"slide"===a.tabSwitchType?r.animate({translate3d:-n*l+"px,0,0"},300):s.eq(n).removeClass("hide").siblings().addClass("hide"),i.reportEventdata({event_id:"Babel_MultipleTab",event_param:t.attr("data-srv")},o),a.state.tabIdx=n,a.floorData.tabList[n].isLoaded||a.loadFloors(n),e(window).trigger("EVENT_TAB_CHANGE")},scrollCallback:function(){a.rememberScrollPos(a.state.tabIdx)},initCallback:function(){a.loadFloors(a.state.tabIdx)}};n.tab(l)},_addFloor:function(i,a,n){var o=e(i);this.floorContainerEls.eq(n.activeIndex).append(o);var s=o.data("floornum"),r=o.data("template"),l=a[s];if(r)try{t.modules(r)(s,o,l)}catch(t){this.log(t)}},_addFloors:function(t,e){var i={};try{i=JSON.parse(t.dataHub)}catch(t){this.log(t)}var a=document.createElement("div");a.innerHTML=t.floorHTML;var n=a.children,o=n.length;if(o)for(;o>0&&n[0];)this._addFloor(n[0],i,e),o--},setLoading:function(t,e,i){e=e||{activeIndex:this.state.activeIndex};var a=this.$loadingEls.eq(e.activeIndex||0),n=["dropdown_loading"];t&&t.length>0&&n.push(t),i=i||"",a.find(".limit_tip").text({limit:"没有更多了",error:"加载失败，点击重新加载",next:"点击加载下一页"}[t]||i),a.attr("class",n.join(" "))}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(1),i(0)],void 0===(n=function(t,e){var i=e.util,a=e.mod,n=e.activityData;return function(o,s,r){return e.Create({$el:s,data:null,init:function(){this.floorData=r.feData,a.tplLinkData(this.floorData,n),this.calc(),this.bind()},calc:function(){this.$el.find("div.outfit_pic").each(function(){var e=t(this),i=e.find("div.outfit_tip"),a=1*e.width();i.each(function(){var e=t(this),i=e.hasClass("ps_right"),n=i?Math.floor(e.offset().left)-7-14-2:a-Math.floor(e.offset().left)-7-14-2;e.find("p").css({opacity:1,maxWidth:n}),i&&e.find(".outfit_tip_click").css({width:30+1*e.find("p").width(),left:0})})})},bind:function(){var e=this,a=this.floorData,n=a.adsList,o=a.configData;o.showLabel&&s.on("click","div.outfit_tip_click",function(s){s.stopImmediatePropagation();var r=t(this),l=r.parents("div.outfit_pic").find("div.outfit_tip"),d=r.parents("div.outfit_item").attr("data-index"),c=l.index(t(this).parent()),u=o.goToProdDetail,p=n[d];if(u){var h=p.labelList[c],f=a.url.call(h);e.pingEvent("Babel_MatchBuyTagPro",h.jump&&h.jump.srv,4),setTimeout(function(){i.jumpLink(f)},200)}else{var m=a.url.call(p);e.pingEvent("Babel_MatchBuyTag",p.jump&&p.jump.srv,3),setTimeout(function(){i.jumpLink(m)},200)}}),s.on("click","div.outfit_item",function(){var o=t(this).index(),s=n[o],r=a.url.call(s);e.pingEvent("Babel_MatchBuyArea",s.jump&&s.jump.srv,3),setTimeout(function(){i.jumpLink(r)},200)})},pingEvent:function(t,e,i){a.reportEventdata({event_id:t||"",event_param:e||"",event_level:i||3},n)}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(353));a=[i(0),i(4)],void 0===(n=function(t,e){var i=t.mod,a=t.activityData;return function(n,s,r){return t.Create({$el:s,data:r,init:function(){this.proTpl=o.default,this.data&&s.length&&(this.$ranks=this.$el.find("a.content_rank_wrap"),this.$ranks.length&&this._fetchProData())},_fetchProData:function(){var t=this,e=[];t.$ranks.each(function(){var t=$(this);e.push(t.data("crid"))});var n={relatedIds:e.join(","),isBasic:"1",skuNum:"3",pageId:a.pageId,moduleId:t.data.moduleId};$.ajax({type:"POST",url:i.getBabelUrlDev2Release("queryRealatedPros"),data:i.getBabelUrlParam(JSON.stringify(n),!0,!0),success:function(e){if("string"==typeof e&&(e=JSON.parse(e)),"0"==e.code&&"0"==e.subCode)for(var i in e.skuInfoList)t._renderPro(i,e.skuInfoList[i])}})},_renderPro:function(t,i){if(i&&i.length){for(var a=this.$el.find('a[data-crid="'+t+'"]').find(".content_rank_detail"),n="",o=0;o<i.length;o++)n+=e.render(this.proTpl,$.extend({},i[o],{index:o+1}));a.html(n)}}})}}.apply(e,a))||(t.exports=n)},function(t,e){t.exports='<div class="content_rank_product" data-skuid="{{skuId}}" data-srv="{{srv}}"> <div class="content_rank_pic"> <img src="{{pictureUrl}}" alt="广告图片"> </div> <div class="content_rank_badget">{{index}}</div> <div class="content_rank_name {{#hidePrice}}content_rank_singlename{{/hidePrice}}">{{name}}</div> {{#pPrice}} <div class="content_rank_price"> <span class="unit">¥</span><span class="price">{{pPrice}}</span> </div> {{/pPrice}} </div>'},function(t,e,i){"use strict";var a,n;a=[i(0),i(2),i(26)],void 0===(n=function(t,e,i){var a=t.util,n=t.runtimeEnv,o=t.mod;return function(s,r,l){return t.Create({$el:r,key:"",receiveCls:"coupon_receive",todayReceiveCls:"coupon_today_receive",robCls:"coupon_empty",yhdReceiveRobCls:"coupon_receive_empty_yhd",moduleId:"",data:null,pannelInfo:null,couponList:[],manual:!1,manualCustom:!1,autoGenerator:!1,$layer:"",$layer_tpl:"",stateCls:["","coupon_receive","coupon_empty","coupon_today_receive","coupon_today_empty","coming"],config:{},init:function(){var e=this;this.data=l,this.data&&(this.config=l.config,this.manual=this.config.manual,this.manualCustom=this.config.manualCustom,this.autoGenerator=this.config.autoGenerator,this.gotouse=this.config.gotouse,this.couponList=this.data.couponList,this.moduleId=this.data.moduleId,this.$layer=this.$el.find(".babel_module_mask"),this.$layer_tpl=this.$el.find("#coupon_new_tpl"),this.type=this.data.type,t.on("onMergeDataEvent",function(t){var i=t._args;e.pannelInfo=i.floorDataList[e.moduleId],e._initCouponState()}),this.layerObj=null,this.layerObjPlus=null,function(t){t||(t=this);var e=t.data.config;function i(t,e,i){var a=new Image;a.onerror=i,a.onload=e,a.src=t}e.manual?function(){var t=this;"1"==e.bgStyle&&i(e.bgPic,$.noop,function(){t.$el.find("#"+t.data.id).css("background-color","#f1f1f1")}),t.data.couponList.forEach(function(e,a){i(e.picUrl||e.degradePic,$.proxy(function(){this.$el.find(".coupon").eq(a).removeClass("pic_errorPlace")},t),$.noop)})}.call(t):e.manualCustom&&function(){var t=this;if(e.manual&&"1"==e.bgStyle){var a=$(window).width()/375,n=a*e.height/3,o="1"==e.innerBorder?2:0;this.$el.find(".free_coupon_module").css("height",n+"px"),this.$el.find(".free_coupon_module > a").css({height:n-o+"px"}),i(e.bgPic,$.noop,function(){t.$el.find("#"+t.data.id).css("background-color","#f1f1f1")})}}.call(t)}(this),i("freeCoupon",this),this._main())},_main:function(){var e=this;this.$el.on("click",".coupon",function(i){i.preventDefault();var a=$(this),s=a.index(),r=e.couponList[s];if(n.isYhdUrl&&e._pingEvent(e.config.slide?4:2,r.srv),a.hasClass(e.robCls)||a.hasClass(e.receiveCls)||a.hasClass(e.todayReceiveCls)||a.hasClass("stateClsFlag")||a.hasClass(e.yhdReceiveRobCls)){if(e.gotouse&&(a.hasClass(e.receiveCls)||a.hasClass(e.todayReceiveCls))){if(n.is7FreshUrl&&window.SevenFresh)return void window.SevenFresh.api.goToUseCoupons({cpId:r.cpId});if(!r.jumpGd)return;e._pingEvent(e.config.slide?5:3,r.jumpGd.srv),r.jump=r.jumpGd;var l=o.tplLinkData(r,t.activityData).url();location.href=l}}else n.isYhdUrl?e.receiveYhd(s,a):e._receive(s,a)}),this.config.customInfo&&this._initScale()},_initCouponState:function(){var t=this.pannelInfo,e=this.$el.find("a.coupon");if(!t)return!1;if(t.coupon_newList)for(var i=0,a=(t=t.coupon_newList).length;i<a;i++){var n=e.filter('[data-cpid="'+t[i].cpId+'"]');null==t[i].status||""==t[i].status||n.hasClass("stateClsFlag")||(n.addClass(this.stateCls[1*t[i].status]),"0"!=t[i].status&&"5"!=t[i].status&&n.addClass("stateClsFlag"))}},_pingEvent:function(e,i){o.reportEventdata({event_id:["Babel_CouponCancel","Babel_CouponConfirm","Babel_FreeCoupon","Babel_FreeCouponUse","Babel_FreeSlideCoupon","Babel_FreeSlideUse","Babel_FreeCouponFansGet"][e],event_param:i,event_level:""},t.activityData)},_receive:function(i,s){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=this,d=o.getBabelUrlDev2Release("newBabelAwardCollection"),c=this.couponList[i];if(c.degradePic)return o.reportEventdata({event_id:"Babel_FreeCouponFallback",event_param:c.jump.srv,event_level:""},t.activityData),void setTimeout(function(){location.href=c.jump.params.url||""},200);var u=c.scene,p=c.args,h=c.srv;e.loading.show();var f={activityId:t.activityData.encodeActivityId,from:l.data.cpChannelKey};f=$.extend({},f,{scene:u||"",args:p},t.couponData.formatCouponData,{pageClickKey:"Babel_Coupon"}),n.is7FreshUrl&&(f.orgType="14"),f=JSON.stringify(f);var m=o.getBabelUrlParam(f,!0);delete m.screen,$.ajax({url:d,type:"POST",dataType:"json",xhrFields:{withCredentials:!0},data:m,success:function(e){var n=!1;if("0"==e.code){var d=" ",u={successReciveSubcode:"A1、A12、B1、B13",robOutSubcode:"A6、A15、B3、B4、B9、B10、B11"},p=e.subCode,f={coupon_empty:"A3、A4、A5、A34、A35、A36、A46",coupon_today_empty:"A9、A14",coupon_today_receive:"A13",coming:"A7、A8、B2、0010"};if(null===u.successReciveSubcode.match(p)){if(d="icon_wrong",null!==u.robOutSubcode.match(p))s.removeClass("coming").addClass(l.robCls);else for(var m in f)if(null!==f[m].match(p)){s.removeClass("coming").addClass(m);break}}else d="icon_right",s.removeClass("coming").addClass(l.receiveCls),n=/^(0|A1|B1)$/.test(p);var v=l.data.config;"A24"==p||"A53"==p?(l.layerObj=l.$el.layer_pop(),l.layerObj&&l.layerObj.showPop({conText:v.loginCopywrite,cancelBtn:"算了吧",confirmBtn:"去实名认证",instanceStr:"layer_pop-instance",confirmCallback:function(){var t=this;setTimeout(function(){v.loginUrl&&(window.location=v.loginUrl),t.hidePop()},200),l._pingEvent(1,c.srv)},cancelCallback:function(){l._pingEvent(0,c.srv),this.hidePop()}})):"A26"==p||"A27"==p||"A68"===p?(l.layerObjPlus=l.$el.find("div.free_coupon_module").layer_pop(),l.layerObjPlus&&l.layerObjPlus.showPop({conText:"A68"===p?v.plusRenewCopywrite:v.plusCopywrite,cancelBtn:"取消",confirmBtn:"A68"===p?"去续费":"去开通",instanceStr:"layer_pop-instance",confirmCallback:function(){var t=this;setTimeout(function(){v.plusUrl&&(window.location=v.plusUrl),t.hidePop()},200),l._pingEvent(1,c.srv)},cancelCallback:function(){l._pingEvent(0,c.srv),this.hidePop()}})):"A66"===p&&c.shopId?(l.layerObjFollow=l.$el.find("div.free_coupon_module_layer").layer_pop(),l.layerObjFollow&&l.layerObjFollow.showPop({conText:"您还不是店铺粉丝哦，关注店铺后即可领取～",cancelBtn:"不领了",confirmBtn:"关注店铺并领取",instanceStr:"layer_pop-instance-follow",confirmCallback:function(){var e=this,a={isFollow:"1",shopId:c.shopId},n=o.getBabelUrlDev2Release("followVender");$.ajax({url:n,type:"GET",dataType:"jsonp",data:o.getBabelUrlParam(a,!0),success:function(t){"0"!==t.code||"0"!==t.subCode&&"4"!==t.subCode?o.showToast({content:t.returnMsg,iconCls:d}):l._receive(i,s,!0),e.hidePop()},error:function(){e.hidePop(),o.reportEventdata({event_id:"Babel_FreeCouponFansGet",event_param:JSON.stringify(Object.assign({},JSON.parse(c.jsonSrv),{jud:"1"})),event_level:""},t.activityData),o.showToast({content:"关注失败"})}})},cancelCallback:function(){this.hidePop(),o.reportEventdata({event_id:"Babel_FreeCouponFansGiveup",event_param:c.jsonSrv,event_level:""},t.activityData)}})):o.showToast({content:e.subCodeMsg,iconCls:d})}else"3"==e.code&&void 0===e.subCode?a.goLogin():o.showToast({content:"此时排队领券的人太多，休息一会儿再试试吧！"});r?l._pingEvent(6,JSON.stringify(Object.assign({},JSON.parse(c.jsonSrv),{jud:n?"0":"1"}))):l._pingEvent(l.config.slide?4:2,h+"_"+(n?"0":"1"))},error:function(){console.log("数据请求失败！"),l._pingEvent(l.config.slide?4:2,h+"_1")},complete:function(){e.loading.hide()}})},_initScale:function(){var t=window.innerWidth||document.documentElement.clientWidth,e=parseFloat(t/375);1!=e&&this.$el.find(".flexible_wrapper").css({transformOrigin:"left top","-webkitTransformOrigin":"left top",transform:"scale("+e+")","-webkittransform":"scale("+e+")"})}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(356));a=[i(0),i(16)],void 0===(n=function(t,e){var i=t.util,a=t.activityData;return a.dslMapUrl&&o.default.prefetchAsyncDslMap(a.dslMapUrl),function(n,s,r){var l=Object.prototype.hasOwnProperty;return t.Create({$el:s,type:"viewkit",data:r,init:function(){var t=this,e=s.find(".viewkit_wrap");try{this.vk=new o.default(Object.assign(this.data,{dslMap:a.dslMap||{},dslMapUrl:a.dslMapUrl||""}),e[0],{plugins:this._initPlugins()}),this.vk.launch().then(function(){"2"==i.getQueryString("__debug")&&(console.log("vk楼层"+n+"-解析结果：",t.vk._tree),console.log("vk楼层"+n+"-元素汇总：",t.vk.painter.collection))}).catch(function(){s.remove()})}catch(t){console.error("vk楼层"+n+"渲染错误:",t),s.remove()}},_initPlugins:function(){return[{create:function(i,a){var n=a.data,o=n.ds,s=n.dsl,r=s&&s.event||[],d=o&&o.jumpMap||null;if(0!==r.length&&d){var c;if(c=function(t,i){var a={};if(!i[t.eventKey])return null;var n=i[t.eventKey],o=e.tplLinkData({},{});l.call(o,"url")&&(a.href=o.url.call({jump:n})||"javascript:void(0);"),a.es=n.expoSrv||"",a["report-eventid"]=n.eventId||"";try{a["report-eventparam"]=JSON.stringify(n.srv)||""}catch(t){a["report-eventparam"]=""}a["report-eventlevel"]="3";return a}(r[0],d)){var u=t.util,p=t.mod,h=t.activityData;a.data.evt=c,a.data.on=Object.assign(a.data.on||{},{click:function(t){t.preventDefault(),t.stopPropagation();var e=c["report-eventid"],i=c["report-eventparam"],a=c["report-eventlevel"],n=c.href||"",o=h.target;p.reportEventdata({event_id:e,event_param:i,event_level:a},h),setTimeout(function(){u.jumpLink(n,o)},200)}}),a.data.class=Object.assign(a.data.class||{},{J_Ping_Link:!0})}}}}]}})}}.apply(e,a))||(t.exports=n)},,function(t,e,i){"use strict";var a,n;a=[i(0),i(2),i(26)],void 0===(n=function(t,e,i){var a=t.util,n=t.runtimeEnv,o=t.mod;return function(s,r,l){return t.Create({$el:r,key:"",receiveCls:"coupon_receive",todayReceiveCls:"coupon_today_receive",robCls:"coupon_empty",yhdReceiveRobCls:"coupon_receive_empty_yhd",moduleId:"",data:null,pannelInfo:null,couponList:[],manual:!0,$layer:"",$layer_tpl:"",stateCls:["","coupon_receive","coupon_empty","coupon_today_receive","coupon_today_empty","coming"],config:{},init:function(){var e=this;if(this.layerObjWhite=null,this.data=l,this.data){this.manual=!0,this.couponList=this.data.couponList,this.moduleId=this.data.moduleId,t.on("onMergeDataEvent",function(t){var i=t._args;e.pannelInfo=i.floorDataList[e.moduleId],e._initCouponState()});var a=($(window).width()-20)/this.data.styleId*(this.data.config.picHeight/this.data.config.picWidth);this.$el.find(".coupon_module").css("height",a+"px"),this.$el.find(".coupon_module > a").css({height:a+"px"}),i("financeCoupon",this),n.isYhdUrl&&this.yhdMain()||n.isWQUrl&&this.wqMain()||this._main()}},_main:function(){var e=this;this.$el.on("click",".coupon",function(i){i.preventDefault();var a=$(this),n=a.index();if(a.hasClass("isBackUp"))e._backup(n);else if(a.hasClass(e.robCls)||a.hasClass(e.receiveCls)||a.hasClass(e.todayReceiveCls)||a.hasClass("stateClsFlag")||a.hasClass(e.yhdReceiveRobCls)){if(e.data.gotouse&&(a.hasClass(e.receiveCls)||a.hasClass(e.todayReceiveCls))){var s=e.couponList[n];if(!s.jumpGd)return;e._pingEvent(5,s.jumpGd.srv),s.jump=s.jumpGd;var r=o.tplLinkData(s,t.activityData).url();location.href=r}}else e._receive(n,a)})},_backup:function(t){this._pingEvent(4,JSON.stringify(this.couponList[t].jump.srv)),window.location.href=this.couponList[t].jump.params.url},_initCouponState:function(){var t=this.pannelInfo,e=this.$el.find("a.coupon");if(!t)return!1;if(t.coupon_newList)for(var i=0,a=(t=t.coupon_newList).length;i<a;i++){var n=e.filter('[data-cpid="'+t[i].cpId+'"]');null==t[i].status||""==t[i].status||n.hasClass("stateClsFlag")||(n.addClass(this.stateCls[1*t[i].status]),"0"!=t[i].status&&"5"!=t[i].status&&n.addClass("stateClsFlag"))}},_pingEvent:function(e,i){o.reportEventdata({event_id:["","","Babel_FinanceCoupon","","Babel_FinanceCouponFallback","Babel_FinanceCouponUse"][e],event_param:i,event_level:""},t.activityData)},_receive:function(i,n){var s=this,r=o.getBabelUrlDev2Release("newBabelAwardCollection"),l=this.couponList[i];e.loading.show();var d={scene:"3",actKey:l.cpId};d=$.extend({},d,t.couponData.formatCouponData),d=JSON.stringify(d);var c=o.getBabelUrlParam(d,!0);$.ajax({url:r,data:c,type:"POST",dataType:"json",xhrFields:{withCredentials:!0},success:function(t){var e=!1;if("0"==t.code){var i=" ",r={successReciveSubcode:"0030、0",robOutSubcode:"0021、0020、0009",coming:"0010"},d=t.subCode,c={coupon_empty:"A3、A4、A5、B5、B6",coupon_today_empty:"A9、A14、B12、B14",coupon_today_receive:"A13",coming:"A7、A8、B2、0010"};if(null===r.successReciveSubcode.match(d)){if(i="icon_wrong",null!==r.robOutSubcode.match(d))n.removeClass("coming").addClass(s.robCls);else if(null!==r.coming.match(d))n.removeClass("coming").addClass("coming");else for(var u in c)if(null!==c[u].match(d)){n.removeClass("coming").addClass(u);break}}else i="icon_right",n.removeClass("coming").addClass(s.receiveCls),e=0==d;"26022"==t.subCode?(s.layerObjWhite=s.$el.find("div.coupon_module.finance").layer_pop(),s.layerObjWhite&&s.layerObjWhite.showPop({conText:s.data.config.iouGuideText,cancelBtn:"取消",confirmBtn:"去激活",confirmCallback:function(){var t=this;setTimeout(function(){s.data.config.iouGuideUrl&&(window.location.href=s.data.config.iouGuideUrl),t.hidePop()},200)},cancelCallback:function(){this.hidePop()}})):o.showToast({content:t.subCodeMsg,iconCls:i})}else"3"==t.code&&void 0===t.subCode?a.goLogin():o.showToast({content:"此时排队领券的人太多，休息一会儿再试试吧！"});l.srv.jud=e?"0":"1",s._pingEvent(2,JSON.stringify(l.srv))},error:function(){console.log("数据请求失败！"),l.srv.jud="1",s._pingEvent(2,JSON.stringify(l.srv)),o.showToast({content:"此时排队领券的人太多，休息一会儿再试试吧~"})},complete:function(){e.loading.hide()}})}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=r(i(359)),s=r(i(360));function r(t){return t&&t.__esModule?t:{default:t}}a=[i(1),i(4),i(0),i(5),i(2)],void 0===(n=function(t,e,i,a,n){var r=n.ptag,l=i.util.cookie,d=i.mod,c=(i.runtimeEnv,new function(){return{columnHeight:[],columnHtml:[],waterfall_main:t(".waterfall_pd_main_body"),totalColumn:0,createColumn:function(e){var i=0,a="";for(this.totalColumn=e,this.waterfall_main=t(".waterfall_pd_main_body");e--;)a+='<div class="waterfall_column waterfall_column_'+i+'"></div>',this.columnHeight[i]=0,this.columnHtml[i]="",i+=1;this.waterfall_main.append(a)},singleInsert:function(t){var e=this,i=this.columnHeight.findIndex(function(t){return t===Math.min.apply(Math,e.columnHeight)});this.columnHtml[i]+=t.nodeHtml+"\n",this.columnHeight[i]+=t.height},appendAllColoumn:function(){this.columnHtml.forEach(function(e,i){var a=t(".waterfall_column_"+i);a.append(e)})},clearHtmlInfo:function(){this.columnHtml.fill("")},clearHtmlHeight:function(){this.columnHeight.fill(0);var e=this.waterfall_main.children();t(e[0]).hasClass("waterfall_column")||(this.waterfall_main.empty(),this.createColumn(this.totalColumn))},clearAll:function(){var e=this.waterfall_main.children();t(e[0]).hasClass("waterfall_column")?e.forEach(function(e){return t(e).empty()}):(this.waterfall_main.empty(),this.createColumn(this.totalColumn))}}}),u=0,p={config:null,modData:null,$node:null,$listTpl:o.default,$adTpl:s.default,pageNum:-1,tabFixedId:-1,isLoadData:!1,isLoadError:!1,tabType:"normal",cateType:null,subscriptTpl:".bab_opt_mod_<%=obj.floorNum%> .waterfall_pd_module .pd_commom.add_square_tip_1 .pd_tip, .bab_opt_mod_<%=obj.floorNum%> .waterfall_pd_module .pd_commom.add_square_tip_2 .pd_tip, .bab_opt_mod_<%=obj.floorNum%> .waterfall_pd_module .pd_commom.add_square_tip_3 .pd_tip{background: url(<%=obj.waresListConfig.subscriptUrl%>); background-size: 40px 40px;}",isEnd:!1,curCateIndex:{index:0,subIndex:0},mainStyle:null,_init:function(t,e,i){this.$node=e,this.modData=i,c.createColumn(2),this._render(),this._bindEventError()},_bindEventError:function(){var e=this,i=function(){var t=e._getCateData();e.isEnd=!1,e._loadListData(t,e.pageNum)};e.$node.find(".dropdown_loading").on("click",function(){t(this).attr("class").match("error")&&i()}),e.$node.on("click",".load_fail_wrap",function(){i()})},_render:function(){var t=this,e=(t.$node,t.modData,t._getMainStyle());t.mainStyle=e,t._checkCate(),t.curCateIndex={index:0,subIndex:0},"none"!=t.tabType&&a.renderTabOpzStyle("waterfall",t.$node,t.modData.originTabStyle,function(){t._initTab();var e=t._getCateData();t._checkCateData(e)}),t._initCart(),t._initLooksimilar(),t._addExt()},_checkCate:function(){var t=this.modData,e=this.$node,a=void 0,n="normal";1==t.tabList.length&&(e.find(".waterfall_pd_tab").addClass("hide"),0==(a=t.tabList[0]?t.tabList[0].secondTabList:[]).length&&(n="none",i.mod.hideFloor(e)),1==a.length&&(n="none",e.find(".waterfall_pd_tab").addClass("hide"))),this.cateType=n},_checkCateData:function(t){t?(this.pageNum=1,this.isEnd=!1,this._loadListData(t,this.pageNum)):this._addErrorStyle("none");var e=this.curCateIndex.index,i=this.$node.find(".waterfall_pd_main_head").eq(e);i.find("li").length<2&&i.addClass("hide")},_loadListData:function(e,i){var a=this,n=e,o=a.modData.passback;if(n.pageNum>=i)return a._renderList(e,n.type),void(a.pageNum=n.pageNum);a._setLoading("normal"),1==i&&a._setLoading("none"),a.isLoadData=!0;var s=d.getBabelUrlDev2Release("queryStaggeredFlow"),r={secondTabId:e.secondTabId,pageNum:i.toString(),ofn:a.modData.ofn,passback:o},c=void 0;o&&(c=JSON.parse(o))&&c.platform&&"wq"==c.platform&&(r.unionId=l.get("wq_unionid"),r.openId=l.get("open_id"),r.visitKey=l.get("visitkey")),a.modData.isRankListInfinity&&(r.params=e.params||{}),r=JSON.stringify(r);var u=d.getBabelUrlParam(r,!0,!0);t.ajax({url:s,data:u,dataType:"jsonp",success:function(t){if(a.isLoadData=!1,a._setLoading("normal"),0==t.code&&0==t.subCode){a.isLoadError=!1;var e=t.waresPagedList;if(n.pageNum=i,1==i&&(n.waresPagedList=e),n.pageNum=1,0==t.waresPagedList.length&&1!=t.pageNum)return a._setLoading("limit"),void(a.isEnd=!0);a._dealwaresPagedList(t.waresPagedList),a._renderList(t,n.type)}else a._loadErrorHandler()},error:function(){a._loadErrorHandler()}})},_dealwaresPagedList:function(t){t.forEach(function(t){t.newTag="1"===t.newTag?1:0,t.isfansPrice=!!t.fansPrice})},_loadErrorHandler:function(){1==this.pageNum?this._addErrorStyle("err"):this._setLoading("error"),this.isLoadData=!1,this.isLoadError=!0},_setLoading:function(t){var e=this.$node.find(".dropdown_loading"),i=["dropdown_loading"];t&&t.length>0&&i.push(t),e.find(".limit_tip").text({limit:"没有更多了",error:"加载失败，点击重新加载"}[t]),e.attr("class",i.join(" "))},_renderList:function(n,o){var s=this,l=s.$listTpl,p=s.$adTpl,h=i.activityData,f=s.modData.waresListConfig,m=n;if(m=t.extend({},m),c.clearHtmlInfo(),1==s.pageNum&&0==m.waresPagedList.length)return s._addErrorStyle("none"),void(s.$node.find(".waterfall_pd_tab").hasClass("hide")&&d.hideFloor(s.$node));var v=s.mainStyle;d.tplLinkData(m,h);var g=m;"1"==m.pageNum&&(u=0,c.clearHtmlHeight());var _=t(t(".waterfall_pd_main_body")[0]).width();m.waresPagedList&&m.waresPagedList.forEach(function(t,i){if(t.type||t.ads)if(u+=1,t.id=i,"0"==t.type){s.dealNowPrice(t);var n=f.subscript;a.tplTipCls(t,v,n),t.srv=JSON.stringify(t.jump.srv),t.soldOutCls=function(){var t="";return 0==t.length&&"N"==this.areaStk&&(t="area_sold_out"),t},t.tagCls=function(){var t="";return 0==this.tag.length&&(t="hide_op_2"),t},t.url=g.url.apply(t);var o=t.jump;t.samekind="2"==f.showBuyCar,t.looksimilar="3"==f.showBuyCar,t.showNewTag="1"==t.newTag,t.looksimilar?(t.looksimilar_src="//m.360buyimg.com/babel/jfs/t6184/201/432765156/3173/cd2ef259/593f5983N59eeef1b.png",t.looksimilar_class="item-looksimilar",t.jump=t.simiJump,t.similarKindUrl=g.url.apply(t)):t.samekind&&(t.looksimilar_src="//m.360buyimg.com/babel/jfs/t6025/359/9475909340/2180/6fea4a43/59940993Na822f5ae.png",t.looksimilar_class="item-samekind",t.jump=t.sameJump,t.sameKindUrl=g.url.apply(t)),t.jump=o;var r=255;(function(t){return 6*t.split("").reduce(function(t,e){return e.charCodeAt()>225?t+2:t+1},0)+16<(_-20-5*(c.totalColumn-1))/2})(t.name)&&(t.isSingleLine="single_line",r-=17),"1"==t.showLongPic?(t.hasLongPic="long_pic",r+=672):r+=525,1==f.slogan&&""!==t.tag&&(t.hasSlogan="show_slogan",r+=30),1!=f.promoTag||""===t.promotionTag&&""===t.promotionTag2||(r+=42,t.hasPromotionTag="has_promotion_content"),"3"==f.subscript&&t.copyWriting&&(t.copyWriting=t.copyWriting.slice(0,4));var d=e.render(l,t);c.singleInsert({nodeHtml:d,height:r})}else{t.jump=t.ads[0].jump,t.ads[0].jump.srv=JSON.stringify(t.ads[0].jump.srv),t.ads[0].url=g.url.apply(t);var h=e.render(p,t.ads[0]);c.singleInsert({nodeHtml:h,height:807})}}),1==m.pageNum&&c.clearAll(),c.appendAllColoumn(),0===u&&s._addErrorStyle("none"),t(window).scroll();var b=["waterfall_pd_module","pd_module_preStyle"].join(" ");b+=" "+s.mainStyle.styleCls,s.$node.find(".waterfall_pd_module").attr("class",b),a.tplSubscriptUrl(s.modData,this.$node,this.subscriptTpl);var y=s.$node.find(".waterfall_pd_main_head:visible").find("li").eq(s.curCateIndex.subIndex);!y.hasClass("cur")&&y.addClass("cur"),r.addPtag(s.$node,".J_ping")},_getMainStyle:function(){var e,i=this.modData.waresListConfig,n={},o={showPromoTag:["","show_promoTag"],showSlogan:["","show_slogan"],minorPrice:["price_hide","ious_price","pd_plus_block","show_fun_price","show_product_new","show_newer_price","show_enter_price","show_student_price"],buyCarContent:["no_buycar","","pd_lookSimilar","pd_lookSimilar"]};t.extend(o,a.styleOpt);var s=[];return e=o.subscript[i.subscript],d.addStyleCls(s,o.showSlogan[i.slogan]),d.addStyleCls(s,o.minorPrice[i.jdPrice]),d.addStyleCls(s,o.buyCarContent[i.showBuyCar]),d.addStyleCls(s,o.showPromoTag[i.promoTag]),n.styleCls=s.join(" "),n.subscript=e,n},_addErrorStyle:function(e){var i=this.$node.find(".waterfall_pd_main_body");this._setLoading("hide");var n=this.$node.find(".waterfall_pd_tab").height();n+=this.$node.find(".waterfall_pd_main_head").not("hide").height();var o=t(window).height()-n;"none"==e?a.addNoneStyle(i,o):"err"==e&&a.addLoadError(i,o)},_initTab:function(){var e=this,n=e.$node,o={node:n,tabMainWrap:n.find(".waterfall_pd_tab"),tabHdList:n.find(".waterfall_pd_tab li"),tabBdList:n.find(".waterfall_pd_main_head"),tabHdWrap:n.find(".waterfall_pd_tab .waterfall_pd_nav_wrap"),reportId:"Babel_FallsTab1",activityData:i.activityData,tabFixedId:e.tabFixedId,tabLimitNum:1,callback:function(){n.find(".waterfall_pd_main_head").eq(0).find("li").eq(0).addClass("cur");var e=t(window).height()-n.height();n.find(".waterfall_pd_main_body").css("min-height",e)},tabClickLoading:function(){return e.isLoadData},tabClickCallbak:function(t,i){0==i.find("li.cur").length&&i.find("li").eq(0).addClass("cur");var a=t.index(),n=i.find("li.cur").index(),o=e._getCateData(a,n);e._checkCateData(o)},scrollCallback:function(){var i=t(window).scrollTop(),a=t(document).height(),n=t(window).height();if(!e.isLoadData&&i/(a-n)>.8){var o=e._getCateData(),s=e.pageNum+1;e.isLoadError&&(s=e.pageNum),e.pageNum=s,e.scrollBottom=!1,e.isEnd||e._loadListData(o,e.pageNum)}}};a.initTab(o),"normal"==e.tabType&&e._bindEventTabSub()},_bindEventTabSub:function(){var e=this;e.$node.find(".waterfall_pd_main_head").length>0&&e.$node.find(".waterfall_pd_main_head li").on("click",function(){var a=t(this);if(!a.hasClass("cur")&&!e.isLoadData){t(this).parents(".waterfall_pd_main_head").find("li").removeClass("cur"),a.addClass("cur");var n=e.curCateIndex.index,o=t(this).index(),s=e._getCateData(n,o);e.pageNum=1,e.isEnd=!1,e._loadListData(s,e.pageNum),d.reportEventdata({event_id:"Babel_FallsTab2",event_param:a.attr("data-srv")},i.activityData)}})},_getCateData:function(t,e){if(t=void 0!=t?t:this.curCateIndex.index,e=void 0!=e?e:this.curCateIndex.subIndex,"onlysub"==this.cateType&&(e=t,t=0),this.modData.tabList[t])return this.curCateIndex.index=t,this.curCateIndex.subIndex=e,this.modData.tabList[t].secondTabList[e]},_initCart:function(){var e=this.$node,n=i.activityData,o=t("#J_babelOptPage");o.toast(),this.toastNode=o,a.initCart({node:e,itemCls:"pd_commom",activityData:n,toastNode:o,eid:"Babel_FallsCart"})},_initLooksimilar:function(){var t=this.$node,e=i.activityData;a.initLooksimilar({node:t,itemCls:"pd_commom",activityData:e,eids:{looksimilar:"Babel_FallsSimilar",sameKind:"Babel_FallsSame"}})},_addExt:function(){var e=this.$node,a=i.activityData;e.on("click","a.pd_commom",function(){var e=t(this).data("extension_id"),i=t(this).data("href"),n={event_id:t(this).attr("report-eventid"),event_param:t(this).attr("report-eventparam"),event_level:t(this).attr("report-eventlevel")};e&&(n.extension_id=JSON.stringify(e)),d.reportEventdata(n,a),setTimeout(function(){location.href=i},300)})},dealNowPrice:function(t){t.nowPriceValue=function(t){if(isNaN(t))return"";return""+parseInt(t)}(t.pPrice),t.nowPricePoint=function(t){if(isNaN(t))return"";if(parseInt(t)===parseFloat(t))return"";var e=t.split(".");1===e[1].toString().length&&(e[1]+="0");return"."+e[1]}(t.pPrice)}};return function(){var t=Object.create(p);t._init.apply(t,arguments)}}.apply(e,a))||(t.exports=n)},function(t,e){t.exports='<div class="waterfall_pd_main_body_wrap{{#isRankListInfinity}} {{tipCls}}{{/isRankListInfinity}} {{hasLongPic}} {{hasSlogan}} {{hasPromotionTag}} {{isSingleLine}} item_{{id}}"> <a class="pd_commom{{^isRankListInfinity}} {{tipCls}}{{/isRankListInfinity}} {{tagCls}} {{soldOutCls}}" data-href="{{url}}" target="{{inkTarget}}" report-eventid="Babel_FallsDetails" report-eventparam="{{srv}}" report-pagename="{{pageUrl}}" report-pageparam="{{pageId}}" data-sku="{{skuId}}" data-es="{{expoSrv}}" report-eventlevel="4" data-extension_id="{{extension_id}}"> <div class="pd_pic"> <div class="fade"> <img data-src="{{pictureUrl}}" src="//m.360buyimg.com/cms/jfs/t2218/111/2490744834/43/9acceab1/56d55ce6N5a567661.gif" class="waterfall"> </div> <span class="pd_sold_out">已售罄</span> <div class="pd_tip"> <div class="text_1">{{copyWriting}}</div> <div class="text_2">{{copyWritingDown}}</div> </div> </div> <div class="pd_info"> <div class="pd_title {{isSingleLine}}">{{name}}</div> {{#tag}} <div class="pd_op_text">{{tag}}</div>{{/tag}} <div class="pd_wrap"> <div class="pd_price_wrap"> <div class="pd_now_price"> <span>&yen;</span>{{nowPriceValue}}<span>{{nowPricePoint}}</span> </div> <div class="pd_minor_price"> {{#pcpPrice}} <del class="old">&yen;{{pcpPrice}}</del> {{/pcpPrice}} {{#plusPrice}} <div class="pd_plus_price">{{plusPrice}} <i class="pd_plus_icon"></i> </div> {{/plusPrice}} {{#fansPrice}} <div class="fan_price_area"> <span class="fun_price_text">￥{{fansPrice}}</span> <span class="fun_price"></span> </div> {{/fansPrice}} {{#newerPrice}} <div class="newer_price_area"> <span class="newer_price_text">￥{{newerPrice}}</span> <span class="newer_price"></span> </div> {{/newerPrice}} {{#enterPrice}} <div class="enter_price_area"> <span class="enter_price_text">￥{{enterPrice}}</span> <span class="enter_price"></span> </div> {{/enterPrice}} {{#stuPrice}} <div class="student_price_area"> <span class="student_price_text">￥{{stuPrice}}</span> <span class="student_price"></span> </div> {{/stuPrice}} {{#showNewTag}} <span class="product_new"></span> {{/showNewTag}} </div> </div> {{#looksimilar}} <div class="{{looksimilar_class}}" data-url="{{similarKindUrl}}"> <button class="button_similar">看相似</button> </div> {{/looksimilar}} {{#samekind}} <div class="{{looksimilar_class}}" data-url="{{sameKindUrl}}"> <button class="button_similar">看同款</button> </div> {{/samekind}} <div class="pd_buy_car"> <span class="icon_wrap"></span> </div> </div> <div class="promotion_label"> {{#promotionTag}}<span>{{promotionTag}}</span>{{/promotionTag}} {{#promotionTag2}}<span>{{promotionTag2}}</span>{{/promotionTag2}} </div> </div> </a> </div>'},function(t,e){t.exports='<div class="waterfall_pd_main_body_wrap active_position item_{{id}}"> <a class="J_ping" href="{{url}}" target="{{inkTarget}}" report-eventid="Babel_FallsAD" report-eventparam="{{jump.srv}}" report-pagename="{{pageUrl}}" report-pageparam="{{pageId}}" data-es="{{expoSrv}}" report-eventlevel="3"> <img data-src="{{pictureUrl}}" src="//m.360buyimg.com/cms/jfs/t2218/111/2490744834/43/9acceab1/56d55ce6N5a567661.gif"> </a> </div>'},function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(362));a=[i(1),i(4),i(0),i(5),i(2)],void 0===(n=function(t,e,i,a,n){var s=n.ptag,r=i.util.cookie,l=i.mod,d=i.runtimeEnv,c={config:null,modData:null,$node:null,$listTpl:o.default,pageNum:-1,tabFixedId:-1,isLoadData:!1,isLoadError:!1,tabType:"normal",cateType:null,subscriptTpl:".bab_opt_mod_<%=obj.floorNum%> .dropdown_pd_module .pd_commom.add_square_tip_1 .pd_tip, .bab_opt_mod_<%=obj.floorNum%> .dropdown_pd_module .pd_commom.add_square_tip_2 .pd_tip, .bab_opt_mod_<%=obj.floorNum%> .dropdown_pd_module .pd_commom.add_square_tip_3 .pd_tip{background: url(<%=obj.waresListConfig.subscriptUrl%>); background-size: 40px 40px;}",curCateIndex:{index:0,subIndex:0},mainStyle:{},_init:function(t,e,i){this.$node=e,this.modData=i,this.flexibleData=i.flexibleNodeList,this._render(),this._bindEventError()},_bindEventError:function(){var e=this,i=function(){var t=e._getCateData();e._loadListData(t,e.pageNum)};e.$node.find(".dropdown_loading").on("click",function(){t(this).attr("class").match("error")&&i()}),e.$node.on("click",".load_fail_wrap",function(){i()})},_render:function(){var t=this,e=t.$node,n=t.modData;t.mainStyle.type={0:"big_pic","1-1":"big_pic one_pic","1-2":"big_pic three_pic","1-3":"list one_pic","1-4":"list"},i.mod.setFloorBgColor(e.find(".dropdown_pd_module"),n.backgroundColor),t._checkCate(),t.curCateIndex={index:0,subIndex:0},"none"!=t.tabType&&a.renderTabOpzStyle("infinity",t.$node,t.modData.originTabStyle,function(){t._initTab();var e=t._getCateData();t._checkCateData(e)}),t._initCart(),t._initLooksimilar(),t._addExt()},_calcRatio:function(t,e){return function(t,e,i,a){return{left:t*ratio,top:e*ratio,width:i*ratio,height:a*ratio}}(e.left,e.top,e.width,e.height)},_checkCate:function(){var t,e=this.modData,n=this.$node,o="normal";if(1==e.tabList.length){o="onlysub",n.find(".dropdown_pd_tab").remove();var s=n.find(".dropdown_pd_main_head").attr("class","dropdown_pd_tab"),r=s.find("li").length,l=a.getTabNumCls(r);s.addClass(l),0==(t=e.tabList[0]?e.tabList[0].secondTabList:[]).length&&(o="none",i.mod.hideFloor(n)),1==t.length&&(o="none",n.find(".dropdown_pd_tab").addClass("hide"))}this.cateType=o},_checkCateData:function(t){t?(this.pageNum=1,this._loadListData(t,this.pageNum)):this._addErrorStyle("none");var e=this.curCateIndex.index,i=this.$node.find(".dropdown_pd_main_head").eq(e);i.find("li").length<2&&i.addClass("hide")},_loadListData:function(e,i){var a=this,n=e,o=a.modData.passback;if(n.pageNum>=i)return a._checkLimit(n.pageNum,n.totalPageNum),a._renderList(e,n.type),void(a.pageNum=n.pageNum);a._setLoading("normal"),1==i&&a._setLoading("none"),a.isLoadData=!0;var s="";s=d.isYhdApp||d.isYhdUrl?l.getBabelUrlDev2Release("getBabelProductPaged4Yhd"):l.getBabelUrlDev2Release("getBabelProductPaged");var c,u={secondTabId:e.secondTabId,type:e.type,pageNum:i.toString(),ofn:a.modData.ofn,passback:o};o&&(c=JSON.parse(o))&&c.platform&&"wq"==c.platform&&(u.unionId=r.get("wq_unionid"),u.openId=r.get("open_id"),u.visitKey=r.get("visitkey")),a.modData.isRankListInfinity&&(u.params=e.params||{}),u=JSON.stringify(u);var p=l.getBabelUrlParam(u,!0,!0);t.ajax({url:s,data:p,dataType:"jsonp",success:function(t){if(a.isLoadData=!1,a._setLoading("normal"),0==t.code&&0==t.subCode){a.isLoadError=!1;var e=t.waresPagedList;n.pageNum=i,1==i&&(n.waresPagedList=e),n.pageNum=1,n.totalPageNum=Number(t.totalPageNum),a._checkLimit(i,n.totalPageNum),a._dealwaresPagedList(t.waresPagedList),a._renderList(t,n.type)}else a._loadErrorHandler()},error:function(){a._loadErrorHandler()}})},_dealwaresPagedList:function(t){for(var e=0;e<t.length;e++){var i=t[e];i.newTag="1"===i.newTag?1:0,i.isfansPrice=!!i.fansPrice}},_loadErrorHandler:function(){1==this.pageNum?this._addErrorStyle("err"):this._setLoading("error"),this.isLoadData=!1,this.isLoadError=!0},_setLoading:function(t){var e=this.$node.find(".dropdown_loading"),i=["dropdown_loading"];t&&t.length>0&&i.push(t),e.find(".limit_tip").text({limit:"没有更多了",error:"加载失败，点击重新加载"}[t]),e.attr("class",i.join(" "))},_checkLimit:function(t,e){t>=e&&this._setLoading("limit")},_renderList:function(n,o){var r=this.$listTpl,d=i.activityData,c=this.flexibleData,u=n;if(u=t.extend({},u),"0"!=o&&"1-1"!=o&&"1-2"!=o||u.waresPagedList.length%2&&u.waresPagedList.length--,1==this.pageNum&&0==u.waresPagedList.length)return this._addErrorStyle("none"),void(this.$node.find(".dropdown_pd_tab").hasClass("hide")&&l.hideFloor(this.$node));var p=this.mainStyle;u.typePd=function(){var t=!0;return this.ads&&(t=!1),t},l.tplLinkData(u,d);var h=["","add_double_tips","add_square_tip_1","add_flag_tip_2","add_rank_tip","customize"],f="0"==o?.491*(window.innerWidth-20)/525:window.innerWidth/1125;function m(t){return{position:"absolute",width:t.width*f+"px",height:t.height*f+"px",top:t.top*f+"px",left:t.left*f+"px"}}function v(t){var e="";for(var i in t)e+=i+": "+t[i]+";\n                    ";return e}u.waresPagedList.forEach(function(t){if("0"===t.type&&(t.isBigPic=!0),!t.ads){var e=c.find(function(t){return"1"===t.mainType&&"2"===t.subType}),i=!!e,a=!0;if(i)if("1"===e.superscriptType){var n=e.key.split(",");a=""!==t[n[0]]||""!==t[n[1]]}else"5"!==e.superscriptType&&(a=""!==t[e.key]||""!==t.rankNumber&&"4"===e.superscriptType);if(t.hasScript=i&&a,i&&a){if("5"===e.superscriptType)t.tipPictureUrl="2"===e.superscriptAdaptation?t[e.key]:e.pictureUrl,t.isPic=!0;else if(t.isText=!0,"1"===e.superscriptType){var o=e.key.split(",");t.scriptText=t[o[0]],t.scriptTextDown=t[o[1]]}else t.scriptText=t[e.key];t.superscriptClass=h[e.superscriptType];var s=m(e);if("1"!==e.superscriptType&&"5"!==e.superscriptType&&(delete s.width,delete s.height),t.superscriptPosition=v(s),"4"===e.superscriptType){var r=+t.rankNumber;t.scriptText=t.rankNumber,t.superscriptClass+="_"+(r>3?"grey":"orange")}}var l=c.find(function(t){return"1"===t.mainType&&"1"===t.subType});t.hasImg=!!l,l&&(t.imgClass="1"==l.showLongPic?"long_pic":"",t.imgPosition=v(m(l)),t.productPicUrl=t[l.key]);var d=c.filter(function(t){return"2"===t.mainType});t.textArea=d.map(function(e){return{textClass:"1"===e.subType?"title":"slogan",text:t[e.key],textStyle:v(Object.assign({},m(e),function(t){return{color:t.textColor,"text-align":"1"===t.textAlign?"left":"center","font-weight":"1"===t.isBold?"bold":"normal","font-size":t.fontSize*f+"px",overflow:"hidden","text-overflow":"ellipsis","word-break":"break-all","-webkit-line-clamp":t.textLineNum,"-webkit-box-orient":"vertical",display:"-webkit-box"}}(e)))}});var u=c.filter(function(t){return"3"===t.mainType});t.priceArea=u.map(function(e){var i="",a=!1,n=!1,o=!1,s=t[e.key];switch(e.subType){case"1":i="nowPrice";break;case"2":i="pcpPrice";break;case"3":i="plusPrice";break;case"4":i="sfPrice";break;case"14":i="studentPrice"}if("plusPrice"===i){if(!t[e.key]||""===t[e.key])if("1"===e.filterNonPlus)t.notToShow=!0;else if("2"===e.filterNonPlus)return{};a="1"===e.showPlusTag}else"sfPrice"===i?n=!0:"studentPrice"===i&&(o=!0);return s&&""!==s?{showPlusTag:a,priceType:i,showPlusPrice:"",showStudentTag:o,showFansTag:n,priceNum:s,priceStyle:v(Object.assign({},m(e),function(t){return{"font-size":t.priceSize*f+"px","font-weight":"1"===t.isBold?"bold":"normal","text-align":"1"===t.priceAlign?"left":"center",color:t.priceColor}}(e),{overflow:"hidden","text-overflow":"ellipsis","word-break":"break-all","-webkit-line-clamp":1,"-webkit-box-orient":"vertical",display:"-webkit-box"}))}:{}});var p=c.filter(function(t){return"4"===t.mainType});t.tagArea=p.map(function(e){var i={},a={};return"1"===e.subType?i={border:"solid 0.5px"}:a={transform:"scale("+e.width*f/24+")",height:"12px",width:"24px"},"1"===e.subType&&""===t[e.key]?{}:"2"===e.subType&&0===t.newTag?{}:{tagClass:"1"===e.subType?"promotion":"new",tagText:"1"===e.subType?t[e.key]:"",tagStyle:v(Object.assign({},m(e),{color:e.labelTextColor,"font-size":"10px","text-align":"center"},i,a))}});var g=c.filter(function(t){return"5"===t.mainType});t.buttonArea=g.map(function(e){if("1"!==e.subType)return{isCart:!1,buttonImg:e.pictureUrl,buttonStyle:v(Object.assign({},m(e)))};var i="1"===t.hideCart;return"1"===e.shoppingCartType?("normal",{isCart:!i,isIcon:!0,cartStyle:v(Object.assign({},m(e))),cartIconStyle:v({"background-color":e.buttonBgColor,top:0,left:0})}):"2"===e.shoppingCartType?("text",{isCart:!i,isText:!0,cartContent:e.content,cartStyle:v(Object.assign({},m(e),{color:e.textColor,"background-color":e.buttonBgColor,"border-radius":"15px","font-size":39*f+"px","line-height":e.height*f+"px","text-align":"center"}))}):"3"===e.shoppingCartType?{isCart:!i,isPic:!0,cartType:"custom",cartPic:e.pictureUrl,cartStyle:v(Object.assign({},m(e)))}:void 0});var _=c.filter(function(t){return"7"===t.mainType});t.videoId&&(t.videoArea=_.map(function(t){return{videoStyle:v(Object.assign({},m(t)))}}))}}),a.setPdInfinityLineStyle(u),u.soldOutCls=function(){var t="";return"N"==this.realStock&&(t="sold_out"),0==t.length&&"N"==this.areaStk&&(t="area_sold_out"),t},u.tagCls=function(){var t="";return 0==this.tag.length&&(t="hide_op_2"),t};var g=e.render(r,u),_=this.$node.find(".dropdown_pd_main_body");if(this.pageNum>1)_.append(g);else{_.html(g),t(window).scroll();var b=this._getCateData(),y=p.type[b.type],w=["dropdown_pd_module","pd_module_preStyle",y].join(" ");this.$node.find(".dropdown_pd_module").attr("class",w);var C=y.split(" ");C=C.length>1?C[1]:"",_.attr("class","dropdown_pd_main_body "+C);var x=this.$node.find(".dropdown_pd_main_head:visible").find("li").eq(this.curCateIndex.subIndex);!x.hasClass("cur")&&x.addClass("cur"),s.addPtag(this.$node,".J_ping")}},_addErrorStyle:function(e){var i=this.$node.find(".dropdown_pd_main_body");this._setLoading("hide");var n=this.$node.find(".dropdown_pd_tab").height();n+=this.$node.find(".dropdown_pd_main_head").not("hide").height();var o=t(window).height()-n;"none"==e?a.addNoneStyle(i,o):"err"==e&&a.addLoadError(i,o)},_initTab:function(){var e=this,n=e.$node,o={node:n,tabMainWrap:n.find(".dropdown_pd_tab"),tabHdList:n.find(".dropdown_pd_tab li"),tabBdList:n.find(".dropdown_pd_main_head"),tabHdWrap:n.find(".dropdown_pd_tab .dropdown_pd_nav_wrap"),reportId:"Babel_InfiniteTab1",activityData:i.activityData,tabFixedId:e.tabFixedId,tabLimitNum:1,callback:function(){n.find(".dropdown_pd_main_head").eq(0).find("li").eq(0).addClass("cur");var e=t(window).height()-n.height();n.find(".dropdown_pd_main_body").css("min-height",e)},tabClickLoading:function(){return e.isLoadData},tabClickCallbak:function(t,i){0==i.find("li.cur").length&&i.find("li").eq(0).addClass("cur");var a=t.index(),n=i.find("li.cur").index(),o=e._getCateData(a,n);e._checkCateData(o)},scrollCallback:function(){var i=t(window).scrollTop(),a=t(document).height(),n=t(window).height();if(!e.isLoadData&&i/(a-n)>.8){var o=e._getCateData(),s=e.pageNum+1;if(e.isLoadError&&(s=e.pageNum),!o||s>o.totalPageNum)return;e.pageNum=s,e.scrollBottom=!1,e._loadListData(o,e.pageNum)}}};a.initTab(o),"normal"==e.tabType&&e._bindEventTabSub()},_bindEventTabSub:function(){var e=this;e.$node.find(".dropdown_pd_main_head").length>0&&e.$node.find(".dropdown_pd_main_head li").on("click",function(){var a=t(this);if(!a.hasClass("cur")&&!e.isLoadData){t(this).parents(".dropdown_pd_main_head").find("li").removeClass("cur"),a.addClass("cur");var n=e.curCateIndex.index,o=t(this).index(),s=e._getCateData(n,o);e.pageNum=1,e._loadListData(s,e.pageNum),l.reportEventdata({event_id:"Babel_InfiniteTab2",event_param:a.attr("data-srv")},i.activityData)}})},_getCateData:function(t,e){if(t=void 0!=t?t:this.curCateIndex.index,e=void 0!=e?e:this.curCateIndex.subIndex,"onlysub"==this.cateType&&(e=t,t=0),this.modData.tabList[t])return this.curCateIndex.index=t,this.curCateIndex.subIndex=e,this.modData.tabList[t].secondTabList[e]},_initCart:function(){var e=this.$node,n=i.activityData,o=t("#J_babelOptPage");o.toast(),this.toastNode=o,a.initCart({node:e,itemCls:"pd_commom",activityData:n,toastNode:o,eid:"Babel_InfiniteCart"})},_initLooksimilar:function(){var t=this.$node,e=i.activityData;a.initLooksimilar({node:t,itemCls:"pd_commom",lookSimilarCls:"similar",isLookSimilar:!0,activityData:e,eids:{looksimilar:"Babel_InfiniteSimilar",sameKind:"Babel_InfiniteSame"}})},_addExt:function(){var e=this.$node,a=i.activityData;e.on("click","a.pd_commom",function(){var e=t(this).data("extension_id"),i=t(this).data("href"),n={event_id:t(this).attr("report-eventid"),event_param:t(this).attr("report-eventparam"),event_level:t(this).attr("report-eventlevel")};e&&(n.extension_id=JSON.stringify(e)),l.reportEventdata(n,a),setTimeout(function(){location.href=i},300)})},dealNowPrice:function(t){function e(t){return isNaN(t)?"":parseInt(t)===parseFloat(t)?"":"."+t.split(".")[1]}function i(t){return isNaN(t)?"":parseInt(t)}for(var a=0;a<t.waresPagedList.length;a++){var n=t.waresPagedList[a];n.nowPriceValue=i(n.pPrice),n.nowPricePoint=e(n.pPrice)}}};return function(){var t=Object.create(c);t._init.apply(t,arguments)}}.apply(e,a))||(t.exports=n)},function(t,e,i){t.exports='{{#waresPagedList}} {{#typePd}} {{^notToShow}} <div class="dropdown_pd_main_body_wrap flexible"> <a class="pd_commom autoexpo {{soldOutCls}} {{showCls}} {{#hasScript}} {{superscriptClass}} {{/hasScript}}" data-expoflag="{{secondTabId}}_{{rankNumber}}" data-expourl="{{clientExposalUrl}}" data-href="{{url}}" target="{{inkTarget}}" report-eventid="Babel_InfiniteDetails" report-eventparam="{{srv}}" report-pagename="{{pageUrl}}" report-pageparam="{{pageId}}" data-sku="{{skuId}}" data-es="{{expoSrv}}" report-eventlevel="4" data-extension_id="{{extension_id}}"> {{#hasImg}} <div class="pd_pic_flexible {{imgClass}}" style="{{imgPosition}}"> <div class="pd_pic_wrapper"> <img data-src="{{productPicUrl}}" class="{{imgClass}}" src="//m.360buyimg.com/cms/jfs/t2218/111/2490744834/43/9acceab1/56d55ce6N5a567661.gif"> </div> <span class="pd_sold_out">已售罄</span> {{^soldOutCls}} {{#priceTypeClsLine}} <div class="pd_preLine"> <div class="pd_preBest">{{btContent}} {{#btTime}}{{btTime}}{{/btTime}}</div> </div> {{/priceTypeClsLine}} {{#priceTypeClsBig}} <div class="pd_preBig"> <div class="pd_preBigArea"> <span class="pd_preBigTitle">活动价</span> <span class="pd_preBigSale">&yen;{{ptPrice}}</span> <span class="pd_preBigDate">{{ptTime}}</span> </div> </div> {{/priceTypeClsBig}} {{#priceTypeClsBigLine}} <div class="pd_preBigLine"> <div class="pd_preBest">{{btContent}}</div> <div class="pd_preBigPos"> <div class="pd_preBigArea"> <span class="pd_preBigTitle">活动价</span> <span class="pd_preBigSale">&yen;{{ptPrice}}</span> <span class="pd_preBigDate">{{ptTime}}</span> </div> </div> </div> {{/priceTypeClsBigLine}} {{/soldOutCls}} </div> {{/hasImg}} {{#hasScript}} <div class="pd_tip {{superscriptClass}}" style="{{superscriptPosition}}"> {{#isText}} <div class="text_1">{{scriptText}}</div> <div class="text_2">{{scriptTextDown}}</div> {{/isText}} {{#isPic}} <div class="pic"> <img data-src="{{tipPictureUrl}}"> </div> {{/isPic}} </div> {{/hasScript}} {{#textArea}} <div class="{{textClass}}" style="{{textStyle}}"> {{text}} </div> {{/textArea}} {{#priceArea}} <div class="{{priceType}} {{showPlusPrice}} price" style="{{priceStyle}}">{{priceNum}} {{#showPlusTag}}<i class="pd_plus_icon"></i> {{/showPlusTag}} {{#showStudentTag}}<i class="pd_student_icon"></i> {{/showStudentTag}} {{#showFansTag}}<i class="pd_fans_icon"></i> {{/showFansTag}} </div> {{/priceArea}} {{#tagArea}} <div class="{{tagClass}} tag" style="{{tagStyle}}"> {{tagText}} </div> {{/tagArea}} {{#buttonArea}} {{#isCart}} <div class="cart pd_buy_car" style="{{cartStyle}}"> {{#isIcon}} <div class="pd_buy_car"> <span class="icon_wrap pd_buy_car" style="{{cartIconStyle}}"></span> </div> {{/isIcon}} {{#isText}} <span>{{cartContent}}</span> {{/isText}} {{#isPic}} <img src="{{cartPic}}"> {{/isPic}} </div> {{/isCart}} {{^isCart}} <div class="similar item-looksimilar" style="{{buttonStyle}}"> <img src="{{buttonImg}}"> </div> {{/isCart}} {{/buttonArea}} {{#videoArea}} <div class="video" style="{{videoStyle}}"> <img src="'+i(363)+'"> </div> {{/videoArea}} </a> </div> {{/notToShow}} {{/typePd}} {{^typePd}} <div class="active_position"> {{#ads}} <a class="J_ping" href="{{url}}" target="{{inkTarget}}" report-eventid="Babel_InfiniteCampaign" report-eventparam="{{jump.srv}}" report-pagename="{{pageUrl}}" report-pageparam="{{pageId}}" data-es="{{expoSrv}}" report-eventlevel="3"> <img data-src="{{pictureUrl}}" src="//m.360buyimg.com/cms/jfs/t2218/111/2490744834/43/9acceab1/56d55ce6N5a567661.gif"> </a> {{/ads}} </div> {{/typePd}} {{/waresPagedList}}'},function(t,e,i){t.exports=i.p+"//m.360buyimg.com/babel/jfs/t1/45292/17/4027/1102/5d1c7f14E240879b7/b985698ef445863d.png"},function(t,e,i){"use strict";var a,n;a=[i(0)],void 0===(n=function(t){return function(e,i){return t.Create({$el:i,init:function(){var t=this.$el.data("src");t&&_require([t])}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(1),i(4),i(0),i(5),i(2)],void 0===(n=function(t,e,i,a,n){var o=i.mod,s={config:null,modData:null,$node:null,pageNum:-1,tabFixedId:-1,isLoadData:!1,isLoadError:!1,tabType:"",cateType:null,subscriptTpl:".bab_opt_mod_<%=obj.floorNum%> .dropdown_pd_module .pd_commom.add_square_tip_1 .pd_tip, .bab_opt_mod_<%=obj.floorNum%> .dropdown_pd_module .pd_commom.add_square_tip_2 .pd_tip, .bab_opt_mod_<%=obj.floorNum%> .dropdown_pd_module .pd_commom.add_square_tip_3 .pd_tip{background: url(<%=obj.waresListConfig.subscriptUrl%>); background-size: 40px 40px;}",curIndex:0,curCateIndex:{index:0,subIndex:0},mainStyle:null,auctionBodynode:null,renewDataParam:null,_init:function(t,e,i){var a=this,n=6,o=void 0;a.$node=e,a.modData=i,a.tabType=i.tabStyle,a._render(),o=setInterval(function(){n?(a._renewAuctionInfo(),n-=1):clearInterval(o)},2e4),a._changeStatus(a.$node),a._bindEventError()},_changeStatus:function(e){e.find(".auction_item_con").forEach(function(e){var i=t(e).data("remain");t(e).hasClass("coming")&&i&&i<2147483647&&setTimeout(function(){t(e).removeClass("coming").addClass("going"),t(e).find(".auction_item_state").forEach(function(e){t(e).removeClass("coming"),t(e).addClass("going"),t(e).hasClass("state_text")&&(e.innerHTML="<span>进行中</span>")})},i)})},_bindEventError:function(){var e=this,i=function(){var t=e._getCateData();e._loadListData(t,e.pageNum)};e.$node.find(".dropdown_loading").on("click",function(){t(this).attr("class").match("error")&&i()}),e.$node.on("click",".load_fail_wrap",function(){i()})},_render:function(){var e=this,n=e.$node,o=e.modData,s=e._getMainStyle();e.mainStyle=s,e.auctionBodynode=t(n.find(".auction_body")),i.mod.setFloorBgColor(n.find(".auction_pd_module"),o.backgroundColor),"0"!=e.modData.tabType&&1!==e.modData.tabList.length&&("3"===e.modData.tabType?e._initTab():a.renderTabOpzStyle("pd",e.$node,e.modData.originTabStyle,function(){e._initTab()})),e._startCountdown(e.$node),e._initCart(),e._addExt()},_initTab:function(){var e=this,n=e.$node,o={node:n,tabMainWrap:n.find(".pd_tab"),tabHdList:n.find(".pd_nav li"),tabHdWrap:n.find(".pd_nav_wrap"),reportId:"Babel_AuctionTab",activityData:i.activityData,tabFixedId:e.tabFixedId,tabLimitNum:1,tabClickCallbak:function(t){var i=t.index(),a=t.data("groupid");e.curIndex=i,e._renderList(a)}};n.find(".timeCountdownWrap").forEach(function(e){e.innerHTML=t(e).data("countdown"),t(e).data("countdown","")}),a.initTab(o)},_renderList:function(e){var i=this.auctionBodynode,a=this.$node.find(".auction_pd_main_countDown"),n=void 0;i.forEach(function(i){t(i).hasClass("cur")&&t(i).data("groupid")!==e&&(t(i).removeClass("cur"),t(i).addClass("hide")),t(i).data("groupid")===e&&(n=t(i),t(i).removeClass("hide"),t(i).addClass("cur"))}),a.forEach(function(i){t(i).hasClass("cur")&&t(i).data("groupid")!==e&&t(i).removeClass("cur"),t(i).data("groupid")===e&&t(i).addClass("cur")}),this._scaleBody(n)},_scaleBody:function(e){var i=t(window).width(),a=parseFloat(i/375);1!=a&&(e.css({"transform-origin":"left top","-webkit-transform-origin":"left top",transform:"scale("+a+")","-webkit-transform":"scale("+a+")"}),this._resetHeight(e))},_resetHeight:function(t){var e=t.parent(),i=e.attr("headh");i=parseInt(i)||0;var a=t.height()+i;e.css({height:a})},_startCountdown:function(e){var i=e.find(".timeCountdown");i.on("countdown",function(e){var i=e.target,a=t(i).hasClass("hasDay"),n=t(i).find(".seconds")[0].innerHTML,o=t(i).find(".minutes")[0].innerHTML,s=t(i).find(".hour")[0].innerHTML;if(0==n)if(0==o){if(0!=s)t(i).find(".hour")[0].innerHTML=("0"+(s-1)).slice(-2),t(i).find(".minutes")[0].innerHTML=59,t(i).find(".seconds")[0].innerHTML=59;else if(0==s&&a){var r=t(i).find(".day")[0].innerHTML;if(0!=r&&1!=r)t(i).find(".day")[0].innerHTML=("0"+(r-1)).slice(-2),t(i).find(".hour")[0].innerHTML=23,t(i).find(".minutes")[0].innerHTML=59,t(i).find(".seconds")[0].innerHTML=59;else if(1==r){var l=t(i).hasClass("tab");t(i).attr("class","second timeCountdown"),l||(t(i).find(".hourseperate")[0].innerHTML=":",t(i).find(".minutesperate")[0].innerHTML=":"),t(i).find(".hour")[0].innerHTML=23,t(i).find(".minutes")[0].innerHTML=59,t(i).find(".seconds")[0].innerHTML=59}}}else t(i).find(".seconds")[0].innerHTML=59,t(i).find(".minutes")[0].innerHTML=("0"+(o-1)).slice(-2);else t(i).find(".seconds")[0].innerHTML=("0"+(n-1)).slice(-2)}),setInterval(function(){return i.trigger("countdown")},1e3)},_loadErrorHandler:function(){1==this.pageNum?this._addErrorStyle("err"):this._setLoading("error"),this.isLoadData=!1,this.isLoadError=!0},_getMainStyle:function(){var e={},i={type:{0:"big_pic"}};return t.extend(i,a.styleOpt),e.type=i.type,e},_initCart:function(){var e=this.$node,n=i.activityData,o=t("#J_babelOptPage");o.toast(),this.toastNode=o,a.initCart({node:e,itemCls:"pd_commom",activityData:n,toastNode:o})},_addExt:function(){var e=this,a=e.$node,n=i.activityData;t(window).on("resize",function(){e._scaleBody(t(a.find(".auction_body.cur")[0]))}),a.on("click","a.auction_item_common",function(){var e=t(this).data("extension_id"),i=t(this).data("href"),a={event_id:t(this).attr("report-eventid"),event_param:t(this).attr("report-eventparam"),event_level:t(this).attr("report-eventlevel")};e&&(a.extension_id=JSON.stringify(e)),o.reportEventdata(a,n),setTimeout(function(){location.href=i},300)})},_renewAuctionInfo:function(){var e=this,i=e.modData,a=i.activityId,n=i.pageId,l=i.moduleId,d=i.tabList,c=i.waresList,u={},p=e.$node;if(!e.renewDataParam){d.forEach(function(t){var e=l+"_"+t.groupId,i=c.find(function(e){return e.groupId===t.groupId}).groupInfoList.map(function(t){return t.paimaiId}).join(",");u[e]=i});var h=JSON.stringify({activityId:a,pageId:n,paimaiIdMap:u}),f=o.getBabelUrlParam(h);e.renewDataParam=f}var m=e.renewDataParam,v=o.getBabelUrlDev2Release("babelGetAuctionProduct");t.ajax({url:v,data:m,dataType:"json",success:function(i){"0"===i.code&&"0"===i.subCode&&(d.forEach(function(e){var a=e.groupId,n=l+"_"+e.groupId;i.paimaiDataMap[n].forEach(function(e){var i=e.paimaiId;t(p.find(".auction_body.id"+a)[0]).find("."+i).forEach(function(i){var a=t(i),n=a.find(".auction_item_state"),o="",s="";switch(e.status){case"0":o="预告中",s="coming";break;case"1":o="进行中",s="going";break;case"2":o="已结束",s="finished"}try{t(n[0]).hasClass(s)||n.forEach(function(e){t(e).removeClass(["coming","going","finished"]),t(e).addClass(s),t(e).hasClass("state_text")&&(e.innerHTML="<span>"+o+"</span>")});var l=a.find(".auction_item_price")[0],d="";switch(e.currentUnit){case"0":d="";break;case"1":d="万";break;case"2":d="亿"}var c="0"===e.status?"起拍价":"当前价";l.innerHTML='<span class="text">'+c+':</span><div class="price"><span>￥</span>'+e.currentPrice+"<span>"+d+"</span></span></div>";var u=a.find(".auction_item_text.joinNumber")[0],p="0"===e.status?"围观数":"出价数";u.innerHTML="<span>"+p+":"+e.bidCount+"</span>";var h=a.find(".time_area")[0];if("1"===e.status){var f=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"product";t=new Number(t);var i=void 0,a=void 0,n=void 0,o=void 0,s=void 0,l=void 0;t=Math.floor(t/1e3),i=r(Math.floor(t/86400)),s=t%86400,a=r(Math.floor(s/3600)),s%=3600,n=r(Math.floor(s/60)),o=r(Math.floor(s%60)),l=t>86400?'<span class="timeCountdown hasDay '+e+'">\n                <span class="dayArea"><span class="day">'+i+'</span>天</span><span class="hour">'+a+'</span><span class="hourseperate">时</span><span class="minutes">'+n+'</span><span class="minutesperate">分</span><span class="secondsArea"><span class="seconds">'+o+"</span></span>\n                </span>":'<span class="timeCountdown second '+e+'">\n                <span class="hour">'+a+"</span>"+("tab"===e?"时":":")+'<span class="minutes">'+n+"</span>"+("tab"===e?"分":":")+'<span class="seconds">'+o+"</span>"+("tab"===e?"秒":"")+"\n                </span>";return l}(e.remainTime);h.innerHTML="距结束:"+f}else if("2"===e.status){var m=new Date(new Number(e.endTime)),v=m.getMonth()+1+"月"+m.getDate()+"日  "+r(m.getHours())+":"+r(m.getMinutes());h.innerHTML="<span>结束时间:"+v+"</span>"}}catch(t){console.log(t)}})})}),s._startCountdown(t(e.$node.find(".auction_body_wrapper")[0])))},fail:function(){}})}};function r(t){return("0"+t).slice(-2)}return function(){var t=Object.create(s);t._init.apply(t,arguments)}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(133));a=[i(0),i(2),i(26)],void 0===(n=function(t,e,i){var a=t.util,n=(t.runtimeEnv,t.mod);return function(s,r,l){return t.Create({$el:r,key:"",receiveCls:"coupon_receive",todayReceiveCls:"coupon_today_receive",robCls:"coupon_empty",yhdReceiveRobCls:"coupon_receive_empty_yhd",moduleId:"",data:null,pannelInfo:null,couponList:[],manual:!0,$layer:"",$layer_tpl:o.default,stateCls:["","coupon_receive","coupon_today_receive","coupon_empty","coupon_today_empty","coming"],config:{},init:function(){var e=this;if(this.layerObjWhite=null,this.layerObjPlus=null,this.data=l,this.data.holdBeans=l.config.holdBeans,this.data){this.manual=!0,this.couponList=this.data.couponList,this.moduleId=this.data.moduleId,this.gotouse="1"===this.data.config.jumpGuide,this.$layer=this.$el.find(".babel_module_mask"),t.on("onMergeDataEvent",function(t){var i=t._args;e.pannelInfo=i.floorDataList[e.moduleId],e._initCouponState()}),t.on("onHoldBeansChange",function(t){var i=t._args;e.data.holdBeans=i});var a=$(window).width(),n=this.data.config,o=n.picWidth,s=o*a/1125,r=n.picHeight*s/o;this.$el.find(".coupon_module").css("height",r+"px"),this.$el.find(".coupon_module > a").css({height:r+"px",width:s+"px"}),i("coupon",this),this._main()}},_main:function(){var e=this;this.$el.on("click",".coupon",function(i){i.preventDefault();var a=$(this),o=a.index();if(a.hasClass("backuppic"))e._backup(o);else if(a.hasClass(e.robCls)||a.hasClass(e.receiveCls)||a.hasClass(e.todayReceiveCls)||a.hasClass("stateClsFlag")||a.hasClass(e.yhdReceiveRobCls)){if(e.gotouse&&(a.hasClass(e.receiveCls)||a.hasClass(e.todayReceiveCls))){var s=e.couponList[o];if(!s.jumpGd)return;e._pingEvent(2,s.jumpGd.srv),s.jump=s.jumpGd;var r=n.tplLinkData(s,t.activityData).url();location.href=r}}else"1"!==e.couponList[o].cpType?e._receive(o,a):e.receiveBeanCoupon(o,a)})},_backup:function(t){this._pingEvent(1,this.couponList[t].jump.srv),window.location.href=this.couponList[t].jump.params.url},_initCouponState:function(){var t=this,e=this.pannelInfo,i=this.$el.find("a.coupon");if(!e)return!1;e.coupon_newList&&(e=e.coupon_newList).forEach(function(a,n){var o=i.filter("[data-cpid="+e[n]+"]");null==e[n].status||""==e[n].status||o.hasClass("stateClsFlag")||(o.addClass(t.stateCls[1*e[n].status]),"0"!==e[n].status&&"5"!==e[n].status&&o.addClass("stateClsFlag"))})},_pingEvent:function(e,i){n.reportEventdata({event_id:["Babel_CombineCoupon","Babel_CombineCouponFallBack","Babel_CombineCouponUse","Babel_CombineCouponConfirm","Babel_CombineCouponCancel","Babel_CombineCouponFansGet"][e],event_param:i,event_level:""},t.activityData)},_receive:function(i,o){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this,l=n.getBabelUrlDev2Release("newBabelAwardCollection"),d=this.couponList[i];e.loading.show();var c=d.scene,u=d.args,p=d.cpId,h={activityId:t.activityData.encodeActivityId,from:r.data.cpChannelKey};h=$.extend({},h,{scene:c||"",args:u},t.couponData.formatCouponData,{pageClickKey:"Babel_Coupon"}),"1"===d.cpType?delete(h=$.extend(h,{cpId:p})).args:"2"===d.cpType&&(h.actKey=p),h=JSON.stringify(h);var f=n.getBabelUrlParam(h,!0);delete f.screen,$.ajax({url:l,type:"POST",dataType:"json",data:f,xhrFields:{withCredentials:!0},success:function(e){var l=!1;if("0"===e.code){var c=" ",u={successReciveSubcode:"2"===d.cpType?"0030、0":"A1、A12、B1、B13、C1210",robOutSubcode:"2"===d.cpType?"0021、0020、0009":"A6、A15、B3、B4、B9、B10、B11、C1205"},p=e.subCode,h={coupon_empty:"A3、A4、A5、A6、A15、A34、A35、A36、A46、B5、B6、C1205、0009、0020、0021",coupon_today_empty:"A9、A14、B12、B14",coupon_today_receive:"A13",coming:"A7、A8、B2、0010"};if(null===u.successReciveSubcode.match(p)){if(c="icon_wrong",null!==u.robOutSubcode.match(p))o.addClass(r.robCls).removeClass("coming");else for(var f in h)if(null!==h[f].match(p)){o.addClass(f),"coming"!==f&&o.addClass("stateClsFlag").removeClass("coming");break}}else if(c="icon_right",o.addClass(r.receiveCls).removeClass("coming"),l=/^(0|A1|B1)$/.test(p),"1"===d.cpType){var m=r.data.holdBeans-d.beanNum;t.trigger("onHoldBeansChange",m)}"A24"===p||"C2001"==p||"A53"==p?(r.layerObj=r.$el.layer_pop(),r.layerObj&&r.layerObj.showPop({conText:r.data.config.loginCopywrite,cancelBtn:"算了吧",confirmBtn:"去实名认证",instanceStr:"layer_pop-instance",confirmCallback:function(){var t=this;setTimeout(function(){r.data.config.loginUrl&&(window.location=r.data.config.loginUrl),t.hidePop()},200),r._pingEvent(0,d.srv)},cancelCallback:function(){r._pingEvent(0,d.srv),this.hidePop()}})):"A26"==p||"A27"==p||"A68"===p?(r.layerObjPlus=r.$el.find("div.coupon_module").layer_pop(),r.layerObjPlus.showPop({conText:"A68"===p?r.data.config.plusRenewCopywrite:r.data.config.plusCopywrite,cancelBtn:"取消",confirmBtn:"A68"===p?"去续费":"去开通",instanceStr:"layer_pop-instance",confirmCallback:function(){var t=this;setTimeout(function(){r.data.config.plusUrl&&(window.location=r.data.config.plusUrl),t.hidePop()},200),r._pingEvent(0,d.srv)},cancelCallback:function(){r._pingEvent(0,d.srv),this.hidePop()}})):"26022"===e.subCode?(r.layerObjWhite=r.$el.find("div.coupon_module").layer_pop(),r.layerObjWhite&&r.layerObjWhite.showPop({conText:r.data.config.iouGuideText,cancelBtn:"取消",confirmBtn:"去激活",instanceStr:"layer_pop-instance-white",confirmCallback:function(){var t=this;setTimeout(function(){r.data.config.iouGuideUrl&&(window.location.href=r.data.config.iouGuideUrl),t.hidePop()},200)},cancelCallback:function(){this.hidePop()}})):"A66"===e.subCode&&d.shopId?(r.layerObjFollow=r.$el.find("div.coupon_module").layer_pop(),r.layerObjFollow.showPop({conText:"您还不是店铺粉丝哦，关注店铺后即可领取～",cancelBtn:"不领了",confirmBtn:"关注店铺并领取",instanceStr:"layer_pop-instance-follow",confirmCallback:function(){var e=this,a={isFollow:"1",shopId:d.shopId},s=n.getBabelUrlDev2Release("followVender");$.ajax({url:s,type:"GET",dataType:"jsonp",data:n.getBabelUrlParam(a,!0),success:function(t){"0"!==t.code||"0"!==t.subCode&&"4"!==t.subCode?n.showToast({content:t.returnMsg,iconCls:c}):r._receive(i,o,!0),e.hidePop()},error:function(){e.hidePop(),n.reportEventdata({event_id:"Babel_CombineCouponFansGet",event_param:JSON.stringify(Object.assign({},JSON.parse(d.windowSrv),{jud:"1"})),event_level:""},t.activityData),n.showToast({content:"关注失败"})}})},cancelCallback:function(){this.hidePop(),n.reportEventdata({event_id:"Babel_CombineCouponFansGiveup",event_param:d.windowSrv,event_level:""},t.activityData)}})):n.showToast({content:e.subCodeMsg,iconCls:c})}else"3"==e.code&&void 0===e.subCode?a.goLogin():n.showToast({content:"此时排队领券的人太多，休息一会儿再试试吧！"});s?r._pingEvent(5,r._combineState(d.windowSrv,l)):r._pingEvent(0,r._combineState(d.srv,l))},error:function(){var t=JSON.parse(d.srv);t.jud="1",r._pingEvent(0,JSON.stringify(t))},complete:function(){e.loading.hide()}})},_combineState:function(t,e){var i=JSON.parse(t);return i.jud=e?"0":"1",JSON.stringify(i)},receiveBeanCoupon:function(t,e){this._renderConfirm(t,e)},_renderConfirm:function(e,i){var o=this;function s(t,e,i,a,s){var r="Babel_CombineCouponCancel",l=t.parents(".babel_module_mask"),d=l.find(".coupon_bomb_box");if(t.hasClass("pay_beans")){if(d.hasClass("no_enough_beans"))return!1;r="Babel_CombineCouponConfirm",o._receive(a,s)}l.removeClass("show combined"),n.reportEventdata({event_id:r,event_param:e,event_level:""},i),$("body").off("touchmove")}var r=t.activityData,l=o.couponList[e],d=l.windowSrv||"",c=$.extend({},l);(c=$.extend(c,{statuCls:"show",holdBeans:null,scope:l.scope||l.cpName})).couponColorCls="blue",c.couponStatus=function(t){var e="";return t.beanNum&&(e=""),null!==t.holdBeans&&void 0!==t.holdBeans&&0!==t.holdBeans.length||(e=""),e}(c),c.val=c.val?c.val:c.discount;var u=a.compile(this.$layer_tpl,c);this.$layer.off().html(u).addClass("show combined"),this.$layer.on("click",".pay_beans",function(){return s($(this),d,r,e,i),!1}),this.$layer.on("click",".babel_module_close",function(){return s($(this),d,r,e,i),!1}),$("body").on("touchmove",function(){return!1})}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=r(i(368)),s=r(i(371));function r(t){return t&&t.__esModule?t:{default:t}}window.JD||(window.JD={cookie:{set:function(t,e,i,a,n,o){var s=new Date;i=arguments[2]||null,a=arguments[3]||"/",n=arguments[4]||null,o=arguments[5]||!1;i&&s.setMinutes(s.getMinutes()+parseInt(i)),document.cookie=t+"="+escape(e)+(i?";expires="+s.toGMTString():"")+(a?";path="+a:"")+(n?";domain="+n:"")+(o?";secure":"")}}}),a=[i(1),i(0)],void 0===(n=function(t,e){var i=e.mod,a=e.util,n=a.cookie,r={$el:null,type:"",modData:null,_init:function(t,i,a){this.$el=i,this.modData=a,this.eventParam={aid:e.activityData.activityId,mid:a.moduleId,bid:a.bid,bord:a.bord,bi2:a.bi2,fno:a.fno,apoolid:a.prizePoolId},this._main()},_main:function(){var t=this;t.$el.find(".reserve_btn_wrap").on("click",function(){"1"!==t.modData.state&&t._reserve()})},_reserve:function(){var n=this;new Promise(function(e){t.ajax({url:"//wq.jd.com/bases/yuyue/active?activeId="+n.modData.orderId,dataType:"jsonp",xhrFields:{withCredentials:!0},success:function(t){n.successReserved(t)?(n._upDateBtnTxt(),n._reserveLottery().then(n._renderResult.bind(n)),e(1)):"13"==t.retCode?(setTimeout(function(){a.goLogin()},200),e(0)):(i.showToast({content:(t.list[0]||{}).replyMsg||"预约失败"}),e(0))},error:function(){return e(0)}})}).then(function(t){i.reportEventdata({event_id:"Babel_ActBooking",event_param:JSON.stringify(Object.assign({bjud:t},n.eventParam)),event_level:""},e.activityData)})},successReserved:function(t){return t&&""==t.retCode&&"0"==(t.list[0]||{}).replyCode},successLottery:function(t){return t&&"0"==t.ret&&"0"==t.bingo.bingoret&&t.bingo.bingolevel>0},_renderResult:function(t){t=t||"";var e=i.createMask(this.$el);e.addClass("show");var a='<div class="reserve_result"></div>';t.length>0&&(a='<div class="reserve_result">\n                    <div class="award_txt">恭喜获得'+t+'</div>\n                    <div class="award_des">奖品可前往 购物>个人中心>全部资产 中查看</div>\n                </div>'),e.append(a),e.on("click",function(){e.removeClass("show"),e.off(),e.remove()})},_reserveLottery:function(){var e=(0,s.default)(o.default.mark(function e(){var s,r;return o.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("1"===(s=this).modData.prizeStyle){e.next=3;break}return e.abrupt("return");case 3:if(r=n.get("promotejs"),e.prev=4,r){e.next=8;break}return e.next=8,new Promise(function(e,n){t.ajax({url:"//wq.jd.com/active/getfunction?g_tk="+a.getTokenGtk()+"&g_ty=ls",dataType:"jsonp",xhrFields:{withCredentials:!0},success:function(t){"0"==t.errorCode?(t.function(t.TOKEN),e()):"2"==t.errorCode&&a.goLogin()},error:function(){i.showToast({content:"领取失败~"}),n()}})});case 8:return e.next=10,new Promise(function(e){t.ajax({url:"//wq.jd.com/active/active_draw?active="+s.modData.prizePoolId,dataType:"jsonp",xhrFields:{withCredentials:!0},success:function(t){s.successLottery(t)?e(t.award.awardcode):"2"==t.ret?a.goLogin():(e(),i.showToast({content:t.retmsg}))}})});case 10:return e.abrupt("return",e.sent);case 13:e.prev=13,e.t0=e.catch(4),console.warn(e.t0);case 16:case"end":return e.stop()}},e,this,[[4,13]])}));return function(){return e.apply(this,arguments)}}(),_upDateBtnTxt:function(){var t=this.$el.find(".reserve_module"),e=this.$el.find(".txt");this.modData.state="1",e.text(this.modData.orderSuccessText),t.addClass("reserved")}};return function(){var t=Object.create(r);t._init.apply(t,arguments)}}.apply(e,a))||(t.exports=n)},,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var a,n,o=function(t){return t&&t.__esModule?t:{default:t}}(i(121));a=[i(1),i(0)],void 0===(n=function(t,e){var i=1e3,a=60*i,n=60*a,s=24*n;return function(r,l,d){return e.Create({$el:l,data:d,init:function(){var e=this;this.$el.find(".timelimit_module").each(function(){var i=t(this);if("1"==i.data("status")){var a=+i.data("remaintime")||0;a>0&&e._activeCountDown(i.find(".j-ptime"),a)}})},_activeCountDown:function(t,e){if(t&&e&&!(e<1e3))var r=e,l=setInterval(function(){r>=1e3?(r-=1e3,t.html(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=void 0,r=void 0,l=void 0,d=void 0,c=[];[s,n,a,i].reduce(function(t,e){var i=Math.floor(t/e);return c.push(i),t-=e*i},t);var u=c.map(function(t){return t.toString().padStart(2,"0")}),p=(0,o.default)(u,4);return e=p[0],r=p[1],l=p[2],d=p[3],+e>0?e+"天"+r+"时"+l+"分"+d+"秒":r+"时"+l+"分"+d+"秒"}(r))):clearInterval(l)},1e3)}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n,o=r(i(386)),s=r(i(387));function r(t){return t&&t.__esModule?t:{default:t}}a=[i(0),i(5)],void 0===(n=function(t,e){var i=t.util,a=t.mod,n=t.activityData,r=function(){function r(t,e){(0,o.default)(this,r),this.$floor=t,this.data=e,this.$groups=this.$floor.find(".flexible-body"),this.hasTab=this.$floor.find(".flexible-tab").length>0,this.init()}return(0,s.default)(r,[{key:"init",value:function(){this.hasTab&&this.initTab(),this.initCart(),this._bindEvent()}},{key:"initTab",value:function(){var i=this,a=this.$floor,n={node:a,tabMainWrap:a.find(".flexible-tab"),tabHdList:a.find(".flexible-tab_wrap li"),tabHdWrap:a.find(".flexible-tab_wrap"),takeByDOM:!0,activityData:t.activityData,tabFixedId:-1,tabMainWrapPadding:0,tabLimitNum:1,tabClickCallbak:function(t){var e=t.index();i._renderGroup(e),$(window).scroll()}};e.initTab(n)}},{key:"initCart",value:function(){var i=this.$floor,a=t.activityData,n=$("#J_babelOptPage");n.toast(),e.initCart({node:i,itemCls:"flexible-card",carCls:"add-cart",activityData:a,toastNode:n})}},{key:"_bindEvent",value:function(){var t=this;$(window).on("resize",function(){t._scaleGroupContent(0)}),t.$floor.on("click",".flexible-element_btn",function(t){t.stopPropagation(),t.preventDefault();var e=$(this),o=e.data("href");if(o){var s=e.attr("report-eventid"),r=e.attr("report-eventparam"),l=e.attr("report-eventlevel"),d=e.data("target")||"_self";a.reportEventdata({event_id:s,event_param:r,event_level:l},n),setTimeout(function(){i.jumpLink(o,d)},200)}})}},{key:"_renderGroup",value:function(t){this.$groups.addClass("hide"),this.$groups.eq(t).removeClass("hide"),this._scaleGroupContent(t)}},{key:"_scaleGroupContent",value:function(t){var e=this.$groups.eq(t),i=$(window).width(),a=parseFloat(i/375);1!=a&&(e.css({"transform-origin":"left top","-webkit-transform-origin":"left top",transform:"scale("+a+")","-webkit-transform":"scale("+a+")"}),this._resetHeight(e))}},{key:"_resetHeight",value:function(t){var e=t.parent(),i=t.height()+(this.hasTab?50:0);e.css({height:i})}}]),r}();return function(e,i,a){return t.Create({init:function(){new r(i,a)}})}}.apply(e,a))||(t.exports=n)},,,function(t,e,i){"use strict";var a,n;a=[i(1),i(0),i(5),i(2)],void 0===(n=function(t,e,i,a){var n=e.util,o=e.mod,s=e.activityData;return function(r,l,d){return e.Create({$el:l,_isinView:!1,data:null,isLoadData:!1,init:function(){this.data=d,l.length&&this.data&&(this.$minusEl=this.$el.find("div.J_showMinus"),this._initCart(),this._initEffects(),this._setMinus(0),this._bind())},_initCart:function(){var e=this.$el,a=t("#J_babelOptPage");a.toast(),this.toastNode=a,i.initCart({node:e,itemCls:"pd_commom",activityData:s,toastNode:a,eid:"Babel_CarouselCart"})},_initEffects:function(){var t=this,e=this.$el.find(".jdui_slide_list");if(e.length)for(var i=function(i){var a=e.eq(i).find("li"),o=e.eq(i).parents("div.suit_slide"),s=o.find(".jdui_slide_dot li");s.eq(0).addClass("cur"),o.find(".jdui_slide").slide({selectCls:"cur",autoTime:6e3,autoPlay:!0,changeSlide:function(e){var i=o.parents("div.suit_wrap");if(i.find(".J_goodsBuyBtn").attr("data-skuindex",e),s.removeClass("cur").eq(e).addClass("cur"),t._setMinus(e,i),t._checkInView())for(var r=a,l=1;l<2;l++){for(var d=r.eq(e+l).find("img[data-src]"),c=r.eq(e-l).find("img[data-src]"),u=0,p=d.length;u<p;u++)n.lazyLoad.loadImg(d.eq(u));for(var h=0,f=c.length;h<f;h++)n.lazyLoad.loadImg(c.eq(h))}}})},a=0;a<e.length;a++)i(a)},_checkInView:function(){return this._isinView||(this._isinView=n.lazyLoad.isInViewPort(this.$el)),this._isinView},_setMinus:function(e,i){var a=this.$minusEl;i?i.find(".J_showMinus").find("span").hide().eq(e).css({display:"inline"}):a.each(function(i,a){t(this).find("span").hide().eq(e).css({display:"inline"})})},_bind:function(){var e=this;this.$el.on("click",".J_goodsBuyBtn",function(i){if(i.stopPropagation(),i.stopImmediatePropagation&&i.stopImmediatePropagation(),i.preventDefault(),!t(this).hasClass("none")){var a=t(this).attr("data-index"),n=t(this).attr("data-skuindex");try{var r=e.data.waresSuitList[a].waresSuitDetails[n];if(r){o.reportEventdata({event_id:"Babel_DiscountSuitCart",event_param:r.scartSrv},s);var l=r.promoId;l+=r.waresSkuDetails.reduce(function(t,e){return t+"_"+e.skuId},""),e._addCart(l)}}catch(i){}}})},_addCart:function(i){var o=this,s=(a.shopcart,e.runtimeEnv),r=function(){e.toast("show",{content:"套装已成功加入购物车",conCls:"shop_cart",iconCls:"icon_right"})},l=function(){e.toast("show",{content:"添加购物车失败",conCls:"shop_cart",iconCls:"icon_wrong"})};if(s.isWQUrl||s.isMiniUrl){var d;d=!s.isMiniUrl||!s.isWxKeplerApp&&!s.isBaiduMini&&!s.isTTMini,window.AddcartToolObj&&window.AddcartToolObj.addCart({sucFun:function(t){"string"==typeof t&&(t=JSON.parse(t)),""+t.errId=="0"?r&&r():""+t.errId=="13"?n.goLogin():l&&l(t.errMsg)},commArr:[{skuId:i}],itype:4,isWq:d,actId:"1",source:"tttwxapp",failFun:function(){l&&l()}})}else{if(o.isLoadData)return;o.isLoadData=!0,t.ajax({url:s.protocol+"//m.jd.com/cart/add.json",xhrFields:{withCredentials:!0},data:{wareId:i,num:1,actId:1,credentials:"include",sType:4},dataType:"json",success:function(t){t.login&&"0"===t.login?n.goLogin():"0"===t.errId&&t.cartJson?r&&r():l&&l(t.msg)},error:function(){l&&l()},complete:function(){o.isLoadData=!1}})}}})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n;a=[i(0),i(128)],void 0===(n=function(t,e){var i=t.util.cookie,a=t.mod,n=t.activityData,o=[0,0,0,0],s=[0,0,0,0];return function(r,l){var d=l.find(".interest_item"),c=!1;if(t.on("report",function(){if(!c){c=!0;var t=e.expos||{};if(t.Babel_NewRightsExpo)for(var a=t.Babel_NewRightsExpo,n=0,r=d.length;n<r;n++)if(-1!==a.indexOf(d[n].getAttribute("data-es"))){var l=$(d[n]).data("type");o[l]+=1}!function(){var t=i.get("isoneday"),e=localStorage.getItem("newer");if(e=e?JSON.parse(e):{whiteNote:"0_0_0",payment:"0_0_0",plusNew:"0_0_0",plusRenew:"0_0_0"},!t)for(var a in e)e[a]=e[a].split("_").map(function(t,e){return 1===e?t=0:t}).join("_");o.forEach(function(t,i){if(0!==t){var a=["whiteNote","payment","plusNew","plusRenew"][i];e[a]=e[a].split("_").map(function(e,i){return 0===i||1===i?e=1*e+t:e}).join("_")}}),s.forEach(function(t,i){if(0!==t){var a=["whiteNote","payment","plusNew","plusRenew"][i];e[a]=e[a].split("_").map(function(e,i){return 2===i?e=1*e+t:e}).join("_")}}),localStorage.setItem("newer",JSON.stringify(e)),i.set("user_interest",JSON.stringify(e)),t||i.set("isoneday",!0,{expires:1})}()}}),d.length>1){var u=l.find(".interest_item_wrapper");u.each(function(t,e){0===t?$(e).children().addClass("vertical-slide-visible"):$(e).children().addClass("vertical-slide-hidden")}),l.slidevertical({speed:400,isLoop:!0,autoTime:3e3,autoPlay:!0,listCls:"freshman-slide",listItem:".interest_item_wrapper",changeSlide:function(t){l.find(".vertical-slide-visible").removeClass("vertical-slide-visible").addClass("vertical-slide-hidden"),u[t]&&$(u[t]).children().removeClass("vertical-slide-hidden").addClass("vertical-slide-visible")}})}d.on("tap",function(t){var e=$(t.currentTarget);a.reportEventdata({event_id:"Babel_NewRightsAD",event_param:e.attr("data-clicksrx"),event_level:""},n),s[Number(e.data("type"))]+=1,setTimeout(function(){var t=e.data("href");t&&(window.location.href=t)},500)})}}.apply(e,a))||(t.exports=n)},function(t,e,i){"use strict";var a,n=function(t){return t&&t.__esModule?t:{default:t}}(i(3));!function(o,s){void 0===(a=function(){return function(t){var e=null;function i(t,e){for(var i in e)e.hasOwnProperty(i)&&void 0!==e[i]&&(t[i]=e[i])}function a(e){if(!(this instanceof a))return new a(e);this.selected=!1,this.timing={},this.isReported=!1,this.options={serverUrl:"//h5speed.m.jd.com",flag:0,encrypt:"",title:"",profilingRate:1,autoReport:!1},this.init(e),this.customizedData=[],this.staticFileData=[],this.CONST_CREATE_TIME_MS=1460538816969,this.CONST_REASONABLE_TIME_LIMIT=6e4,this.performance=t.performance,this.isPerformanceApiAvailable=void 0!==this.performance,this.isTimingApiAvailable=this.isPerformanceApiAvailable&&void 0!==this.performance.timing,this.isGetEntriesApiAvailable=this.isPerformanceApiAvailable&&"function"==typeof this.performance.getEntries}return a.prototype.init=function(t){"object"===(void 0===t?"undefined":(0,n.default)(t))&&i(this.options,t),this.selected=Math.random()<this.options.profilingRate,!0===this.options.autoReport&&this.enableAutoReport()},a.prototype.getTimingData=function(){var e,i={},a=this;i.hasPerformanceApi=a.isPerformanceApiAvailable?1:0,i.hasTimingApi=a.isTimingApiAvailable?1:0,i.hasGetEntriesApi=a.isGetEntriesApiAvailable?1:0,e=function(){var e=0;return t.chrome&&"function"==typeof t.chrome.loadTimes?e=1e3*t.chrome.loadTimes().firstPaintTime:a.isTimingApiAvailable&&"number"==typeof a.performance.timing.msFirstPaint&&(e=a.performance.timing.msFirstPaint),Math.round(e)}(),i.hasFirstPaintApi=e>0?1:0;try{if(a.isTimingApiAvailable){a.performance.timing.firstPaint=e;var n=a.performance.timing;i.domainLookup=n.domainLookupEnd-n.domainLookupStart,i.redirection=n.fetchStart-n.navigationStart,i.serverConnection=n.requestStart-n.connectStart,i.request2ResponseStart=n.responseStart-n.requestStart,i.responseStart2responseEnd=n.responseEnd-n.responseStart,i.request2ResponseEnd=n.responseEnd-n.requestStart,i.domInteractive=n.domInteractive-n.navigationStart,i.domContentLoaded=n.domContentLoadedEventStart-n.navigationStart,i.firstPaint=n.firstPaint-n.navigationStart,i.pageLoad=n.loadEventStart-n.navigationStart,i.backEnd=n.responseEnd-n.navigationStart,i.frontEnd=n.loadEventStart-n.responseEnd}}catch(t){console.log(t.message)}for(var o in i)i.hasOwnProperty(o)&&void 0!==i[o]&&(i[o]<0||i[o]>a.CONST_REASONABLE_TIME_LIMIT)&&(i[o]=0);return i},a.prototype.report=function(){try{if(this.selected&&!this.isReported){var t=new Image,e=this.buildUrl(this.getServerInfo(),this.getTimingData(),this.customizedData,this.staticFileData);e&&(t.src=e),this.isReported=!0}}catch(t){console.log(t.message)}},a.prototype.getServerInfo=function(){return{encrypt:this.options.encrypt,title:this.options.title,flag:this.options.flag,sid:function(t){var e=new RegExp("(^|;|\\s+)"+t+"=([^;]*)(;|$)"),i=document.cookie.match(e);return i?unescape(i[2]):null}("sid")||""}},a.prototype.add=function(t){try{"[object Object]"===Object.prototype.toString.call(t)&&this.customizedData.push(t)}catch(t){console.log(t.message)}},a.prototype.addStaticFile=function(t){try{"[object Object]"===Object.prototype.toString.call(t)&&this.staticFileData.push(t)}catch(t){console.log(t.message)}},a.prototype.buildUrl=function(t,e,a,n){var o={},s={},r={},l=[],d=[],c=[],u=[],p="",h=this;i(o,t),(l=function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&void 0!==t[i]&&e.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));return e}(o)).length>0&&(p=l.join("&"));var f=0;for(var m in e)e.hasOwnProperty(m)&&void 0!==e[m]&&(f++,c.push("point"+f+"="+e[m]));return c.length>0&&(p=p+"&"+c.join("&")),h.isTimingApiAvailable&&(a.forEach(function(t){i(s,t)}),d=function(t){var e,i,a,n,o=[];if(!h.isTimingApiAvailable)return o;for(var s in e=h.performance.timing.navigationStart,t)if(t.hasOwnProperty(s)&&void 0!==t[s]){n=s;try{parseInt(n.replace("point",""))>=20&&((i=parseInt(t[s]))>h.CONST_CREATE_TIME_MS?(a=parseInt(i-e))>=0&&a<h.CONST_REASONABLE_TIME_LIMIT&&o.push(encodeURIComponent(s)+"="+a):i>=0&&i<h.CONST_REASONABLE_TIME_LIMIT&&o.push(encodeURIComponent(s)+"="+i))}catch(t){console.log(t.message)}}return o}(s),"[object Array]"===Object.prototype.toString.call(d)&&d.length>0&&(p=p+"&"+d.join("&"))),h.isGetEntriesApiAvailable&&(n.forEach(function(t){i(r,t)}),u=function(t){var e,i,a,n,o,s,r=[],l=null;if("[object Object]"!==Object.prototype.toString.call(t))return r;if(h.isGetEntriesApiAvailable){for(var d in l=h.performance.getEntries(),t)if(t.hasOwnProperty(d)&&"[object Object]"===Object.prototype.toString.call(t[d])){i=d;try{parseInt(i.replace("point",""))>=20&&(n=(a=t[d]).type,(o=a.name)&&("duration"===n?(e=parseInt(c(o,l,"duration")))>=0&&r.push(encodeURIComponent(d)+"="+e):"responseEnd"===n&&(s=parseInt(c(o,l,"responseEnd")))>=0&&r.push(encodeURIComponent(d)+"="+s)))}catch(t){console.log(t.message)}}return r}return r;function c(t,e,i){if(t&&e.length>0)for(var a=0,n=e.length;a<n;a++){var o=e[a];if(-1!==o.name.indexOf(t))return o[i]}}}(r),"[object Array]"===Object.prototype.toString.call(u)&&u.length>0&&(p=p+"&"+u.join("&"))),function(t,e){return""===e?t:(t+"&"+e).replace(/[&?]{1,2}/,"?")}(this.options.serverUrl,p)},a.prototype.enableAutoReport=function(){var e=this;t.addEventListener("load",function(){t.setTimeout(function(){e.report()},2e3)},!1)},e||(!0===(e=a({serverUrl:"//h5speed.m.jd.com",flag:0,encrypt:"",title:"",profilingRate:1,autoReport:!1})).options.autoReport&&e.enableAutoReport(),e)}(o)}.call(e,i,e,t))||(t.exports=a)}("undefined"!=typeof window?window:void 0)}],[[141,"runtime","vendors"]]]);